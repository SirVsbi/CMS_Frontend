(this["webpackJsonpcms-ws"]=this["webpackJsonpcms-ws"]||[]).push([[0],{100:function(e,t,a){},108:function(e,t,a){},110:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a.n(s),r=a(20),i=a.n(r),c=(a(99),a(3)),o=a(4),l=a(6),d=a(5),h=(a(100),a(17)),u=(a(57),a(0)),j=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return void 0!==localStorage.getItem("username")&&null!==localStorage.getItem("username")?Object(u.jsx)(h.a,{to:"/ws"}):Object(u.jsxs)("div",{style:{backgroundImage:"url(/img/bg1.png"},className:"responsive-background",children:[Object(u.jsx)("div",{className:"title-div",children:Object(u.jsx)("span",{className:"main-title",children:"Conference Management System"})}),Object(u.jsx)("div",{id:"logreg-forms",children:this.props.form})]})}}]),a}(n.a.Component),b=a(19),m=a(10),p=a(7),f=a.n(p),O=a(13),v={baseUrl:"http://ec2-54-229-138-236.eu-west-1.compute.amazonaws.com:8080/api",__PostRequest:function(e,t,a,s){return Object(O.a)(f.a.mark((function n(){var r;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},console.log("POST on: "+e),console.log(t),fetch(e,r).then(function(){var e=Object(O.a)(f.a.mark((function e(t){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,t.ok?a(n):(r=n||t.status,s(r));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(O.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:case"end":return n.stop()}}),n)})))()},__PutRequest:function(e,t,a,s){return Object(O.a)(f.a.mark((function n(){var r;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},fetch(e+"/update",r).then(function(){var e=Object(O.a)(f.a.mark((function e(t){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,t.ok?a(n):(r=n||t.status,s(r));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(O.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return n.stop()}}),n)})))()},__DeleteRequestId:function(e,t,a,s){return Object(O.a)(f.a.mark((function n(){var r;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=e+"/"+parseInt(t),fetch(r,{method:"DELETE"}).then(function(){var e=Object(O.a)(f.a.mark((function e(t){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,t.ok?a(n):(r=n||t.status,s(r));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(O.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return n.stop()}}),n)})))()},__DeleteRequest:function(e,t,a){return Object(O.a)(f.a.mark((function s(){return f.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:fetch(e,{method:"DELETE"}).then(function(){var e=Object(O.a)(f.a.mark((function e(s){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.json();case 2:n=e.sent,s.ok?t(n):a(n||s.status);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(O.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return s.stop()}}),s)})))()},LogInUser:function(e,t,a){var s=this;return Object(O.a)(f.a.mark((function n(){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:fetch(s.baseUrl+"/participant").then((function(e){return e.json()})).then((function(e){return e.participants||a(),e})).then((function(e){return e.participants})).then((function(s){for(var n=null,r=0;r<s.length;r++)e.password===s[r].password&&(e.username&&e.username!==s[r].userName||e.email&&e.email!==s[r].email||(n=s[r]));null!==n?t(n):a("Invalid credentials!")}));case 1:case"end":return n.stop()}}),n)})))()},RegisterUser:function(e,t,a){var s=this;return Object(O.a)(f.a.mark((function n(){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:s.__PostRequest(s.baseUrl+"/participant",e,t,a);case 1:case"end":return n.stop()}}),n)})))()},ResetUserPassword:function(e,t,a){return Object(O.a)(f.a.mark((function a(){return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:setTimeout((function(){t({message:"Check your email: "+e.email})}),2500);case 1:case"end":return a.stop()}}),a)})))()},GetUserData:function(e,t,a){var s=this;return Object(O.a)(f.a.mark((function n(){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:fetch(s.baseUrl+"/participant/"+e).then((function(e){return e.json()})).then((function(e){e.participants&&0!=e.participants.length?t(e.participants[0]):a("No user!")}));case 1:case"end":return n.stop()}}),n)})))()},CreateConference:function(e,t,a){var s=this;return Object(O.a)(f.a.mark((function n(){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:s.__PostRequest(s.baseUrl+"/conference",e,t,a);case 1:case"end":return n.stop()}}),n)})))()},GetAllConferences:function(e,t){var a=this;return Object(O.a)(f.a.mark((function s(){return f.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:fetch(a.baseUrl+"/conference").then((function(e){return e.json()})).then((function(a){a.conferences?e(a.conferences):t()}));case 1:case"end":return s.stop()}}),s)})))()},GetConferenceDetails:function(e,t,a){var s=this;return Object(O.a)(f.a.mark((function n(){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:fetch(s.baseUrl+"/conference/"+e).then((function(e){return e.json()})).then((function(e){e.conferences&&0!=e.conferences.length?t(e.conferences[0]):a("No such conference!")}));case 1:case"end":return n.stop()}}),n)})))()},GetRoomDetails:function(e,t,a){var s=this;return Object(O.a)(f.a.mark((function n(){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:fetch(s.baseUrl+"/room/"+e).then((function(e){return e.json()})).then((function(e){e.rooms&&0!=e.rooms.length?t(e.rooms[0]):a("No such conference!")}));case 1:case"end":return n.stop()}}),n)})))()},CreateRoom:function(e,t,a){var s=this;return Object(O.a)(f.a.mark((function n(){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:s.__PostRequest(s.baseUrl+"/room",e,t,a);case 1:case"end":return n.stop()}}),n)})))()},DeleteRoom:function(e,t,a){var s=this;return Object(O.a)(f.a.mark((function n(){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:s.__DeleteRequestId(s.baseUrl+"/room",e,t,a);case 1:case"end":return n.stop()}}),n)})))()},UpdateRoom:function(e,t,a){var s=this;return Object(O.a)(f.a.mark((function n(){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:s.__PutRequest(s.baseUrl+"/room/update",e,t,a);case 1:case"end":return n.stop()}}),n)})))()},GetAllRooms:function(e,t){var a=this;return Object(O.a)(f.a.mark((function s(){return f.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:fetch(a.baseUrl+"/room").then((function(e){return e.json()})).then((function(a){a.rooms?e(a.rooms):t()}));case 1:case"end":return s.stop()}}),s)})))()},GetAllConferenceSections:function(e,t,a){var s=this;return Object(O.a)(f.a.mark((function a(){return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:fetch(s.baseUrl+"/conference_section/").then((function(e){return e.json()})).then((function(e){return e.conferenceSections})).then((function(a){for(var s=[],n=0;n<a.length;n++)a[n].conferenceId==e&&s.push(a[n]);t(s)}));case 1:case"end":return a.stop()}}),a)})))()},CreateConferenceSection:function(e,t,a){var s=this;return Object(O.a)(f.a.mark((function n(){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:console.log(e),s.__PostRequest(s.baseUrl+"/conference_section",e,t,a);case 2:case"end":return n.stop()}}),n)})))()},DeleteConfereceSection:function(e,t,a){var s=this;return Object(O.a)(f.a.mark((function n(){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:s.__DeleteRequest(s.baseUrl+"/conference_section/"+e,t,a);case 1:case"end":return n.stop()}}),n)})))()},GetPossibleUsersForChair:function(e,t,a){var s=this;return Object(O.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch(s.baseUrl+"/participant").then((function(e){return e.json()})).then((function(e){return t(e.participants)}));case 1:case"end":return e.stop()}}),e)})))()},GetParticipantNameById:function(e,t,a){var s=this;return Object(O.a)(f.a.mark((function n(){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:fetch(s.baseUrl+"/participant/"+e).then((function(e){return e.json()})).then((function(e){return e.participants})).then((function(e){0==e.length?a():t(e[0].name)}));case 1:case"end":return n.stop()}}),n)})))()},GetProposalDetails:function(e,t,a){var s=this;return Object(O.a)(f.a.mark((function n(){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:fetch(s.baseUrl+"/proposal/"+e).then((function(e){return e.json()})).then((function(e){e.proposals&&0!=e.proposals.length?t(e.proposals[0]):a("No such proposal!")}));case 1:case"end":return n.stop()}}),n)})))()},CreateProposal:function(e,t,a){var s=this;return Object(O.a)(f.a.mark((function n(){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:console.log(e),s.__PostRequest(s.baseUrl+"/proposal",e,t,a);case 2:case"end":return n.stop()}}),n)})))()},UpdateProposal:function(e,t,a){var s=this;return Object(O.a)(f.a.mark((function n(){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:console.log(e),s.__PutRequest(s.baseUrl+"/proposal",e,t,a);case 2:case"end":return n.stop()}}),n)})))()},GetAllReviews:function(e,t){var a=this;return Object(O.a)(f.a.mark((function s(){return f.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:fetch(a.baseUrl+"/review").then((function(e){return e.json()})).then((function(a){a.reviews?e(a.reviews):t()}));case 1:case"end":return s.stop()}}),s)})))()},GetAllParticipants:function(e,t){var a=this;return Object(O.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:fetch(a.baseUrl+"/participant").then((function(e){return e.json()})).then((function(e){return e.participants})).then((function(t){e(t)}));case 1:case"end":return t.stop()}}),t)})))()},GetAllChairs:function(e,t){var a=this;return Object(O.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:fetch(a.baseUrl+"/chair").then((function(e){return e.json()})).then((function(e){return e.chairs})).then((function(t){e(t)}));case 1:case"end":return t.stop()}}),t)})))()},GetAllReviewers:function(e,t){var a=this;return Object(O.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:fetch(a.baseUrl+"/reviewer").then((function(e){return e.json()})).then((function(e){return e.reviewers})).then((function(t){e(t)}));case 1:case"end":return t.stop()}}),t)})))()},GetAllCoChairs:function(e,t){var a=this;return Object(O.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:fetch(a.baseUrl+"/cochair").then((function(e){return e.json()})).then((function(e){return e.coChairs})).then((function(t){e(t)}));case 1:case"end":return t.stop()}}),t)})))()},AddChair:function(e,t,a){var s=this;return Object(O.a)(f.a.mark((function n(){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:s.__PostRequest(s.baseUrl+"/chair",{participantId:e},t,a);case 1:case"end":return n.stop()}}),n)})))()},AddCoChair:function(e,t,a){var s=this;return Object(O.a)(f.a.mark((function n(){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:console.log({participantId:e}),s.__PostRequest(s.baseUrl+"/cochair",{participantId:e},t,a);case 2:case"end":return n.stop()}}),n)})))()},AddReviewer:function(e,t,a){var s=this;return Object(O.a)(f.a.mark((function n(){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:console.log({participantId:e}),s.__PostRequest(s.baseUrl+"/reviewer",{participantId:e},t,a);case 2:case"end":return n.stop()}}),n)})))()},CreateReview:function(e,t,a){var s=this;return Object(O.a)(f.a.mark((function n(){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:console.log(e),s.__PostRequest(s.baseUrl+"/review",e,t,a);case 2:case"end":return n.stop()}}),n)})))()},GetQualifierDetails:function(e,t,a){var s=this;return Object(O.a)(f.a.mark((function n(){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:fetch(s.baseUrl+"/qualifier/"+e).then((function(e){return e.json()})).then((function(e){e.qualifiers&&0!=e.qualifiers.length?t(e.qualifiers[0]):a("No such qualifier!")}));case 1:case"end":return n.stop()}}),n)})))()},AddProposal:function(e,t,a){var s=this;return Object(O.a)(f.a.mark((function n(){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:s.__PostRequest(s.baseUrl+"/proposal",e,t,a);case 1:case"end":return n.stop()}}),n)})))()},GetAllProposals:function(e,t){var a=this;return Object(O.a)(f.a.mark((function s(){return f.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:fetch(a.baseUrl+"/proposal").then((function(e){return e.json()})).then((function(a){a.proposals?e(a.proposals):t("Bad proposals")}));case 1:case"end":return s.stop()}}),s)})))()},AddAuthor:function(e,t,a){var s=this;return Object(O.a)(f.a.mark((function n(){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:s.__PostRequest(s.baseUrl+"/author",e,t,a);case 1:case"end":return n.stop()}}),n)})))()}},x={email:function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},username:function(e){return/^(?=.{4,20}$)(?![_.])(?!.*[_.]{2})[a-zA-Z0-9._]+(?<![_.])$/.test(e)},password:function(e){return e.length>=5},website:function(e){return/(https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9]+\.[^\s]{2,}|www\.[a-zA-Z0-9]+\.[^\s]{2,})/.test(e)},name:function(e){return e.length>=5}},g=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={fields:{user:"",password:""},userType:"username",errors:{user:"",password:""},valid:{user:!0,password:!0},wait:!1,logInFailed:!1,afterRegister:s.props.location&&s.props.location.afterRegister},s.linkStyle=s.linkStyle.bind(Object(m.a)(s)),s.handleInputChange=s.handleInputChange.bind(Object(m.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(m.a)(s)),s.validateForm=s.validateForm.bind(Object(m.a)(s)),s.logInAttempt=s.logInAttempt.bind(Object(m.a)(s)),s.onLogInSuccess=s.onLogInSuccess.bind(Object(m.a)(s)),s.onLogInFailed=s.onLogInFailed.bind(Object(m.a)(s)),s.onGithubButtonClick=s.onGithubButtonClick.bind(Object(m.a)(s)),s.onGoogleButtonClick=s.onGoogleButtonClick.bind(Object(m.a)(s)),s}return Object(o.a)(a,[{key:"validateForm",value:function(){var e=this.state.fields,t=this.state.errors,a=this.state.valid,s=!1;if(0===e.user.length)t.user="Please insert your username or email address!",a.user=!1,s=!0;else{var n=x.email(e.user),r=x.username(e.user);t.user="",a.user=!0,r&&!n?this.setState({userType:"username"}):!r&&n?this.setState({userType:"email"}):r&&n?(this.setState({userType:"username"}),console.log(3)):(t.user="Enter e valid username or password!",a.user=!1,s=!0)}return 0===e.password.length?(t.password="Please enter a password!",a.password=!1,s=!0):(t.password="",a.password=!0),this.setState({errors:t,valid:a}),!s}},{key:"linkStyle",value:function(){return this.state.wait?{pointerEvents:"none"}:{}}},{key:"handleInputChange",value:function(e){var t=e.target,a=t.value,s=t.name,n=this.state.fields;n[s]=a,this.setState({fields:n})}},{key:"handleSubmit",value:function(e){if(e.preventDefault(),this.setState({logInFailed:!1}),this.validateForm()){var t=this.state.fields;"email"===this.state.userType?this.logInAttempt({email:t.user,password:t.password}):this.logInAttempt({username:t.user,password:t.password})}}},{key:"logInAttempt",value:function(e){var t=this;this.setState({wait:!0}),v.LogInUser(e,(function(e){t.onLogInSuccess(e)}),(function(e){t.onLogInFailed(e)}))}},{key:"onLogInSuccess",value:function(e){console.log("Logged in successfully: "+e.message),this.setState({wait:!1}),localStorage.setItem("username",e.userName),localStorage.setItem("pid",e.pid),localStorage.setItem("ts",Date.now()/1e3),localStorage.setItem("isAdmin","admin"==e.userName),localStorage.setItem("isListener",null!==e.listener),localStorage.setItem("isAuthor",null!==e.author),localStorage.setItem("isChair",null!==e.chair),localStorage.setItem("isCoChair",null!==e.coChair),localStorage.setItem("isReviewer",null!==e.reviewer),window.location.href="/ws",console.log("ha")}},{key:"onLogInFailed",value:function(e){console.log("Failed to log in: "+e.error),this.setState({wait:!1,logInFailed:!0})}},{key:"onGithubButtonClick",value:function(){console.log("Login with Github")}},{key:"onGoogleButtonClick",value:function(){console.log("Login with Google")}},{key:"render",value:function(){return Object(u.jsxs)("form",{className:"form-signin",onSubmit:this.handleSubmit,noValidate:!0,children:[Object(u.jsx)("h1",{className:"h3 mb-3 font-weight-normal",style:{textAlign:"center"},children:" Sign in"}),this.state.logInFailed&&Object(u.jsxs)("div",{className:"alert alert-danger",role:"alert",children:[Object(u.jsx)("strong",{children:"Invalid credentials!"})," If you don't remember your login credentials, you can ",Object(u.jsx)(b.b,{to:"/reset",className:"alert-link d-inline",children:"reset your password"}),"."]}),this.state.afterRegister&&Object(u.jsxs)("div",{className:"alert alert-success",role:"alert",children:[Object(u.jsx)("strong",{children:"You have registered successfully!"})," Enter your credentials below to log into the platform."]}),Object(u.jsxs)("div",{className:"social-login",children:[Object(u.jsxs)("button",{className:"btn btn-dark github-btn social-btn",style:{marginBottom:5},type:"button",onClick:this.onGithubButtonClick,children:[Object(u.jsxs)("span",{children:[Object(u.jsx)("i",{className:"fab fa-github fa-lg"})," Sign in with Github"]})," "]})," ",Object(u.jsx)("br",{}),Object(u.jsxs)("button",{className:"btn google-btn social-btn",type:"button",onClick:this.onGoogleButtonClick,children:[Object(u.jsxs)("span",{children:[Object(u.jsx)("i",{className:"fab fa-google fa-lg"})," Sign in with Google"]})," "]})]}),Object(u.jsx)("p",{style:{textAlign:"center"},children:" OR"}),Object(u.jsxs)("div",{children:[Object(u.jsx)("input",{type:"text",id:"inputUser",name:"user",className:"form-control "+(this.state.valid.user?"":"is-invalid"),placeholder:"Username or email address",onChange:this.handleInputChange}),Object(u.jsx)("span",{className:"invalid-feedback",children:this.state.errors.user})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("input",{type:"password",id:"inputPassword",name:"password",className:"form-control "+(this.state.valid.password?"":"is-invalid"),placeholder:"Password",onChange:this.handleInputChange}),Object(u.jsx)("span",{className:"invalid-feedback",children:this.state.errors.password})]}),Object(u.jsxs)("button",{disabled:this.state.wait,className:"btn btn-success w-100",type:"submit",children:[Object(u.jsx)("i",{className:"fas fa-sign-in-alt"})," Sign in"]}),Object(u.jsx)(b.b,{to:"/reset",style:this.linkStyle(),children:Object(u.jsx)("span",{id:"forgot_pswd",href:"/reset",children:"Forgot password?"})}),Object(u.jsx)("hr",{}),Object(u.jsx)(b.b,{to:"/register",style:this.linkStyle(),children:Object(u.jsxs)("button",{disabled:this.state.wait,className:"btn btn-primary w-100",type:"button",id:"btn-signup",children:[Object(u.jsx)("i",{className:"fas fa-user-plus"})," Sign up New Account"]})})]})}}]),a}(n.a.Component),y=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={fields:{username:"",name:"",affiliation:"",webpage:"",email:"",password1:"",password2:""},errors:{username:"",name:"",affiliation:"",webpage:"",email:"",password:""},valid:{username:!0,name:!0,affiliation:!0,webpage:!0,email:!0,password:!0},wait:!1,registrationFailed:!1,successRegistration:!1},s.linkStyle=s.linkStyle.bind(Object(m.a)(s)),s.handleInputChange=s.handleInputChange.bind(Object(m.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(m.a)(s)),s.validateForm=s.validateForm.bind(Object(m.a)(s)),s.registerUser=s.registerUser.bind(Object(m.a)(s)),s.onRegisterSuccess=s.onRegisterSuccess.bind(Object(m.a)(s)),s.onRegisterFailed=s.onRegisterFailed.bind(Object(m.a)(s)),s}return Object(o.a)(a,[{key:"validateForm",value:function(){var e=this.state.errors,t=this.state.valid,a=this.state.fields,s=!1;return x.username(a.username)?(e.username="",t.username=!0):(e.username='Username must contain only letters, numbers and/or "._", must start with a letter and be at least 4 characters long!',t.username=!1,s=!0),x.name(a.name)?(e.name="",t.name=!0):(e.name="Your name must be at least 5 characters long!",t.name=!1,s=!0),x.password(a.password1)?a.password1!==a.password2?(e.password="Passwords do not match!",t.password=!1,s=!0):(e.password="",t.password=!0):(e.password="Password must be at least 5 characters long!",t.password=!1,s=!0),x.email(a.email)?(e.email="",t.email=!0):(e.email="Please enter a valid email!",t.email=!1,s=!0),""===a.webpage||x.website(a.webpage)?(e.webpage="",t.webpage=!0):(e.webpage="Enter a valid website or leave empty!",t.webpage=!1,s=!0),this.setState({errors:e}),this.setState({valid:t}),!s}},{key:"linkStyle",value:function(){return this.state.wait?{pointerEvents:"none"}:{}}},{key:"handleInputChange",value:function(e){var t=e.target,a=t.value,s=t.name,n=this.state.fields;n[s]=a,this.setState({fields:n})}},{key:"handleSubmit",value:function(e){if(e.preventDefault(),this.validateForm()){var t=this.state.fields;this.registerUser({userName:t.username,email:t.email,password:t.password1,name:t.name,affiliation:t.affiliation,webpage:t.webpage})}}},{key:"registerUser",value:function(e){var t=this;this.setState({wait:!0}),v.RegisterUser(e,(function(e){t.onRegisterSuccess(e)}),(function(e){t.onRegisterFailed(e)}))}},{key:"onRegisterSuccess",value:function(e){console.log("Register success: "+e.message||!1),this.setState({wait:!1}),this.setState({successRegistration:!0})}},{key:"onRegisterFailed",value:function(e){console.log("Register failed: "+e.error||!1),alert("Register failed: "+e.error||!1),this.setState({wait:!1,registrationFailed:!0})}},{key:"render",value:function(){return this.state.successRegistration?Object(u.jsx)(h.a,{to:{pathname:"/",afterRegister:!0}}):Object(u.jsxs)("form",{className:"form-signup",onSubmit:this.handleSubmit,noValidate:!0,children:[this.state.registrationFailed&&Object(u.jsxs)("div",{className:"alert alert-danger",role:"alert",children:[Object(u.jsx)("strong",{children:"Registration failed!"})," There might be a problem on the server. Try again later or contact the administrator!"]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("input",{type:"text",id:"user-username",name:"username",className:"form-control "+(this.state.valid.username?"":"is-invalid"),placeholder:"Username",onChange:this.handleInputChange}),Object(u.jsx)("span",{className:"invalid-feedback",children:this.state.errors.username})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("input",{type:"email",id:"user-email",name:"email",className:"form-control "+(this.state.valid.email?"":"is-invalid"),placeholder:"Email address",onChange:this.handleInputChange}),Object(u.jsx)("span",{className:"invalid-feedback",children:this.state.errors.email})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("input",{type:"password",id:"user-pass",name:"password1",className:"form-control "+(this.state.valid.password?"":"is-invalid"),placeholder:"Password",onChange:this.handleInputChange}),Object(u.jsx)("input",{type:"password",id:"user-repeatpass",name:"password2",className:"form-control "+(this.state.valid.password?"":"is-invalid"),placeholder:"Repeat Password",onChange:this.handleInputChange}),Object(u.jsx)("span",{className:"invalid-feedback",children:this.state.errors.password})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("input",{type:"text",id:"user-name",name:"name",className:"form-control "+(this.state.valid.name?"":"is-invalid"),placeholder:"Full name",onChange:this.handleInputChange}),Object(u.jsx)("span",{className:"invalid-feedback",children:this.state.errors.name})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("input",{type:"text",id:"user-affiliation",name:"affiliation",className:"form-control "+(this.state.valid.affiliation?"":"is-invalid"),placeholder:"Affiliation",onChange:this.handleInputChange}),Object(u.jsx)("span",{className:"invalid-feedback",children:this.state.errors.affiliation})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("input",{type:"text",id:"user-webpage",name:"webpage",className:"form-control "+(this.state.valid.webpage?"":"is-invalid"),placeholder:"Webpage",onChange:this.handleInputChange}),Object(u.jsx)("span",{className:"invalid-feedback",children:this.state.errors.webpage})]}),Object(u.jsxs)("button",{disabled:this.state.wait,className:"btn btn-primary w-100",type:"submit",children:[Object(u.jsx)("i",{className:"fas fa-user-plus"})," Sign Up"]}),Object(u.jsx)(b.b,{to:"/",style:this.linkStyle(),children:Object(u.jsxs)("span",{id:"cancel_signup",children:[Object(u.jsx)("i",{className:"fas fa-angle-left"})," Back"]})})]})}}]),a}(n.a.Component),w=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={fields:{email:""},errors:{email:""},valid:{email:!0},wait:!1},s.linkStyle=s.linkStyle.bind(Object(m.a)(s)),s.handleInputChange=s.handleInputChange.bind(Object(m.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(m.a)(s)),s.validateForm=s.validateForm.bind(Object(m.a)(s)),s.resetUserPassword=s.resetUserPassword.bind(Object(m.a)(s)),s.onResetPasswordSuccess=s.onResetPasswordSuccess.bind(Object(m.a)(s)),s.onResetPasswordFailed=s.onResetPasswordFailed.bind(Object(m.a)(s)),s}return Object(o.a)(a,[{key:"formChanged",value:function(e){this.props.onFormChanged&&this.props.onFormChanged(e)}},{key:"validateForm",value:function(){var e=this.state.fields,t=this.state.errors,a=this.state.valid,s=!1;return x.email(e.email)?(t.email="",a.email=!0):(t.email="Please enter a valid email!",a.email=!1,s=!0),this.setState({errors:t,valid:a}),!s}},{key:"linkStyle",value:function(){return this.state.wait?{pointerEvents:"none"}:{}}},{key:"handleInputChange",value:function(e){var t=this.state.fields;t.email=e.target.value,this.setState({fields:t})}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.validateForm()&&this.resetUserPassword(this.state.fields)}},{key:"resetUserPassword",value:function(e){var t=this;this.setState({wait:!0}),v.ResetUserPassword(e,(function(e){t.onResetPasswordSuccess(e)}),(function(e){t.onResetPasswordFailed(e)}))}},{key:"onResetPasswordSuccess",value:function(e){console.log("Reset success: "+e.message),this.setState({wait:!1})}},{key:"onResetPasswordFailed",value:function(e){console.log("Reset failed: "+e.error),this.setState({wait:!1})}},{key:"render",value:function(){return Object(u.jsxs)("form",{className:"form-reset",onSubmit:this.handleSubmit,noValidate:!0,children:[Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("input",{type:"email",name:"email",id:"resetEmail",className:"form-control "+(this.state.valid.email?"":"is-invalid"),placeholder:"Email address",onChange:this.handleInputChange}),Object(u.jsx)("span",{className:"invalid-feedback",children:this.state.errors.email})]}),Object(u.jsx)("button",{disabled:this.state.wait,className:"btn btn-primary w-100",type:"submit",children:"Reset Password"}),Object(u.jsx)(b.b,{to:"/",style:this.linkStyle(),children:Object(u.jsxs)("span",{id:"cancel_reset",children:[Object(u.jsx)("i",{className:"fas fa-angle-left"}),"Back"]})})]})}}]),a}(n.a.Component),N=a(21),k=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(u.jsxs)("div",{className:"error-page",children:[Object(u.jsx)("h2",{className:"headline text-danger",children:"405"}),Object(u.jsxs)("div",{className:"error-content",children:[Object(u.jsxs)("h3",{children:[Object(u.jsx)("i",{className:"fas fa-exclamation-triangle text-danger"})," Oops! Forbidden place."]}),Object(u.jsxs)("p",{children:["You do not have enough permissions to be on this page. Meanwhile, you may ",Object(u.jsx)("a",{href:"/ws",children:"return to dashboard"})," or contact the administrator."]})]})]})}}]),a}(n.a.Component),S=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={fields:{title:"",description:"",startDate:"",endDate:"",deadline:""},error:null,success:null},s.handleSubmit=s.handleSubmit.bind(Object(m.a)(s)),s.onCreateFailed=s.onCreateFailed.bind(Object(m.a)(s)),s.onCreateSuccess=s.onCreateSuccess.bind(Object(m.a)(s)),s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.innerHTML='$("#add-start-date").inputmask("mm/dd/yyyy hh:mm", { "placeholder": "mm/dd/yyyy hh:mm" });$("#add-end-date").inputmask("mm/dd/yyyy hh:mm", { "placeholder": "mm/dd/yyyy hh:mm" });$("#add-deadline").inputmask("mm/dd/yyyy hh:mm", { "placeholder": "mm/dd/yyyy hh:mm" })',document.body.appendChild(e)}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=document.getElementById("add-start-date").value,a=document.getElementById("add-end-date").value,s=document.getElementById("add-deadline").value,n=document.getElementById("add-title").value,r=document.getElementById("add-description").value,i=this.state.fields;i.title=n,i.startDate=t,i.endDate=a,i.description=r,i.deadline=s,this.setState({fields:i}),console.log(this.state.fields),this.createConferenceRequest({name:this.state.fields.title,timeStart:Date.parse(this.state.fields.startDate),timeEnd:Date.parse(this.state.fields.endDate),deadline:Date.parse(this.state.fields.deadline),program:this.state.fields.description})}},{key:"createConferenceRequest",value:function(e){v.CreateConference(e,this.onCreateSuccess,this.onCreateFailed)}},{key:"onCreateSuccess",value:function(e){this.setState({success:"You have successfully created a conference!"})}},{key:"onCreateFailed",value:function(e){this.setState({error:"Conference creation failed! Error: "+e.message||!1})}},{key:"render",value:function(){return"true"!=localStorage.getItem("isAdmin")?Object(u.jsx)(k,{}):Object(u.jsx)("div",{className:"card card-danger",children:Object(u.jsxs)("form",{onSubmit:this.handleSubmit,noValidate:!0,children:[Object(u.jsx)("div",{className:"card-header",children:Object(u.jsx)("h3",{className:"card-title",children:"Create a conference"})}),Object(u.jsxs)("div",{className:"card-body",children:[this.state.error&&Object(u.jsx)("div",{className:"alert alert-danger",role:"alert",children:this.state.error}),this.state.success&&Object(u.jsx)("div",{className:"alert alert-success",role:"alert",children:this.state.success}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{children:"Title:"}),Object(u.jsxs)("div",{className:"input-group",children:[Object(u.jsx)("div",{className:"input-group-prepend",children:Object(u.jsx)("span",{className:"input-group-text",children:Object(u.jsx)("i",{className:"fas fa-feather"})})}),Object(u.jsx)("input",{id:"add-title",name:"title",type:"text",className:"form-control"})]})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{children:"Start date:"}),Object(u.jsxs)("div",{className:"input-group",children:[Object(u.jsx)("div",{className:"input-group-prepend",children:Object(u.jsx)("span",{className:"input-group-text",children:Object(u.jsx)("i",{className:"fas fa-calendar-alt"})})}),Object(u.jsx)("input",{name:"startDate",type:"text",id:"add-start-date",className:"form-control","data-inputmask-alias":"datetime","data-inputmask-inputformat":"mm/dd/yyyy HH:MM","data-mask":!0})]})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{children:"End date:"}),Object(u.jsxs)("div",{className:"input-group",children:[Object(u.jsx)("div",{className:"input-group-prepend",children:Object(u.jsx)("span",{className:"input-group-text",children:Object(u.jsx)("i",{className:"fas fa-calendar-alt"})})}),Object(u.jsx)("input",{name:"endDate",type:"text",id:"add-end-date",className:"form-control",blabla:"123","data-inputmask-alias":"datetime","data-inputmask-inputformat":"mm/dd/yyyy HH:MM","data-mask":!0,inputMode:"numeric"})]})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{children:"Deadline:"}),Object(u.jsxs)("div",{className:"input-group",children:[Object(u.jsx)("div",{className:"input-group-prepend",children:Object(u.jsx)("span",{className:"input-group-text",children:Object(u.jsx)("i",{className:"fas fa-calendar-alt"})})}),Object(u.jsx)("input",{name:"deadline",type:"text",id:"add-deadline",className:"form-control",blabla:"123","data-inputmask-alias":"datetime","data-inputmask-inputformat":"mm/dd/yyyy HH:MM","data-mask":!0,inputMode:"numeric"})]})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{children:"Description:"}),Object(u.jsx)("textarea",{id:"add-description",name:"description",className:"form-control",rows:"3",placeholder:"Enter..."})]})]}),Object(u.jsx)("div",{className:"card-footer",children:Object(u.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Create"})})]})})}}]),a}(n.a.Component),C=(n.a.Component,function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.innerHTML='$("#add-start-date").inputmask("dd/mm/yyyy", { "placeholder": "dd/mm/yyyy" });$("#add-end-date").inputmask("dd/mm/yyyy", { "placeholder": "dd/mm/yyyy" })',document.body.appendChild(e)}},{key:"render",value:function(){return Object(u.jsx)("div",{children:Object(u.jsx)("div",{className:"row",children:Object(u.jsx)("div",{className:"col-md-6",children:Object(u.jsx)(S,{})})})})}}]),a}(n.a.Component)),I=a(33),D=a.n(I),R=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;Object(c.a)(this,a),(s=t.call(this,e)).conferenceId=e.conferenceId,s.order=e.order||"1.",s.title=e.name||"Untitled",s.createdOn=e.createdOn||"unknown",s.chairPicture=e.chairPicture||"adminlte/dist/img/user_default.jpg",s.chairName=e.chairName||"Unknown",s.startDate=e.timeStart?D()(e.timeStart).format("YYYY-MM-DD HH:MM"):"Unknown",s.endDate=e.timeEnd?D()(e.timeEnd).format("YYYY-MM-DD HH:MM"):"Unknown",s.deadline=e.deadline?D()(e.deadline).format("YYYY-MM-DD HH:MM"):"Unknown",s.timeLeft="",s.timeDone=0;var n=Date.parse(s.startDate),r=(Date.parse(s.endDate),Date.parse(s.deadline));if(!isNaN(n)&&!isNaN(r)){var i=Date.now();if(i>=n&&i<=r){s.timeDone=(i-n)/(r-n)*100;var o=Math.floor((r-i)/1e3),l=Math.floor(Math.floor(Math.floor(o/60)/60)/24)%24,d=Math.floor(Math.floor(o/60)/60)%60,h=Math.floor(o/60)%60,u=o%60,j=function(e){return 0===e?"00":e<10?"0"+e:e};s.timeLeft=j(l)+"d "+j(d)+"h "+j(h)+"m "+j(u)+"s Left"}else i>=n&&i>r?(s.timeDone=100,s.timeLeft="Finished!"):(s.timeDone=0,s.timeLeft="Has not started yet!")}return s.possibleStatus={bidding:{title:"Bidding",className:"bg-info"},review:{title:"In review",className:"bg-warning"},closed:{title:"Closed",className:"bg-danger"}},s.status=s.possibleStatus[e.status]||s.possibleStatus.bidding,s.canView=void 0===e.canView||e.canView,s.canEdit=void 0!==e.canEdit&&e.canEdit,s.canDelete=void 0!==e.canDelete&&e.canDelete,s.canSubmit=void 0!==e.canSubmit&&(e.canSubmit&&Date.now()<r),s}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:this.order}),Object(u.jsx)("td",{children:Object(u.jsx)("a",{href:"/ws/conference/view/"+this.conferenceId,children:this.title})}),Object(u.jsx)("td",{children:Object(u.jsxs)("div",{className:"list-inline",children:[Object(u.jsx)("div",{className:"list-inline-item",children:Object(u.jsx)("img",{alt:"Avatar",style:{borderRadius:"50%",display:"inline",width:"2.5rem"},src:this.chairPicture})},"avatar"),Object(u.jsx)("div",{className:"list-inline-item",children:Object(u.jsx)("a",{href:"/ws/profile/1",children:"Admin"})},"name")]})}),Object(u.jsx)("td",{children:this.startDate}),Object(u.jsx)("td",{children:this.endDate}),Object(u.jsxs)("td",{className:"project_progress",children:[Object(u.jsx)("div",{className:"progress progress-sm",children:Object(u.jsx)("div",{className:"progress-bar bg-green",style:{width:this.timeDone+"%"},role:"progressbar","aria-valuenow":this.timeDone,"aria-valuemin":"0","aria-valuemax":"100"})}),Object(u.jsx)("small",{children:this.timeLeft})]}),Object(u.jsx)("td",{children:this.deadline}),Object(u.jsx)("td",{children:Object(u.jsx)("span",{className:"badge "+this.status.className,children:this.status.title})}),Object(u.jsxs)("td",{className:"project-actions",children:[this.canView&&Object(u.jsxs)("button",{className:"btn btn-primary btn-sm",style:{marginRight:"3px"},onClick:function(){window.location.href="/ws/conference/view/"+e.conferenceId},children:[Object(u.jsx)("i",{className:"fas fa-folder"}),"View"]}),this.canEdit&&Object(u.jsxs)("button",{className:"btn btn-info btn-sm",style:{marginRight:"3px"},children:[Object(u.jsx)("i",{className:"fas fa-pencil-alt"}),"Edit"]}),this.canDelete&&Object(u.jsxs)("button",{className:"btn btn-danger btn-sm",style:{marginRight:"3px"},children:[Object(u.jsx)("i",{className:"fas fa-trash"}),"Delete"]}),this.canSubmit&&Object(u.jsxs)("button",{className:"btn btn-info btn-sm",style:{marginRight:"3px"},onClick:function(e){return window.location.href="../ws/paper/create"},children:[Object(u.jsx)("i",{className:"fas fa-file-upload"}),"Submit"]})]},this.order)]})}}]),a}(n.a.Component),A=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={data:e.data||[]},s}return Object(o.a)(a,[{key:"render",value:function(){var e=0,t=this.state.data.map((function(t){return e++,Object(u.jsx)(R,Object(N.a)(Object(N.a)({},t),{},{order:e+"."}),t.conferenceId)}));return Object(u.jsxs)("table",{className:"table table-stripped",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{style:{width:"1%"},children:"#"}),Object(u.jsx)("th",{style:{width:"15%"},children:"Title"}),Object(u.jsx)("th",{style:{width:"10%"},children:"Created By"}),Object(u.jsx)("th",{style:{width:"10%"},children:"Start date"}),Object(u.jsx)("th",{style:{width:"10%"},children:"End date"}),Object(u.jsx)("th",{style:{width:"20%"},children:"Time left"}),Object(u.jsx)("th",{style:{width:"13%"},children:"Deadline"}),Object(u.jsx)("th",{style:{width:"40px"},children:"Status"}),Object(u.jsx)("th",{style:{width:"30%"}})]})}),Object(u.jsx)("tbody",{children:t})]})}}]),a}(n.a.Component),P=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={data:[],fetching:!0},s}return Object(o.a)(a,[{key:"getData",value:function(){var e=this;v.GetAllConferences((function(t){e.setState({data:t,fetching:!1})}),(function(e){}))}},{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){return this.state.fetching?Object(u.jsx)("span",{children:"Fetching data..."}):Object(u.jsx)("div",{className:"row",children:Object(u.jsx)("div",{className:"",children:Object(u.jsxs)("div",{className:"card",children:[Object(u.jsx)("div",{className:"card-header",children:Object(u.jsx)("h3",{className:"card-title",children:"Conferences"})}),Object(u.jsx)("div",{className:"card-body",children:Object(u.jsx)(A,{data:this.state.data})})]})})})}}]),a}(n.a.Component),E=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).title=e.title||"Unnamed page",s.hierarchy=e.hierarchy||[{name:s.title}],s}return Object(o.a)(a,[{key:"render",value:function(){var e=this.hierarchy.map((function(e){return Object(u.jsx)("li",{className:"breadcrumb-item",children:Object(u.jsx)(b.b,{to:e.to,children:e.name})},e.name)}));return e.push(Object(u.jsx)("li",{className:"breadcrumb-item active",children:this.title},this.title)),Object(u.jsx)("section",{className:"content-header",children:Object(u.jsx)("div",{className:"container-fluid",children:Object(u.jsxs)("div",{className:"row mb-2",children:[Object(u.jsx)("div",{className:"col-sm-6",children:Object(u.jsx)("h1",{children:this.title})}),Object(u.jsx)("div",{className:"col-sm-6",children:Object(u.jsx)("ol",{className:"breadcrumb float-sm-right",children:e})})]})})})}}]),a}(n.a.Component),F=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).title=e.title,s.hierarchy=e.hierarchy,s.content=e.content,s}return Object(o.a)(a,[{key:"render",value:function(){return Object(u.jsxs)("div",{className:"content-wrapper",children:[Object(u.jsx)(E,{title:this.title,hierarchy:this.hierarchy}),Object(u.jsx)("section",{className:"content",children:Object(u.jsx)("div",{className:"container-fluid",children:this.content})})]})}}]),a}(n.a.Component),U=(a(108),function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={info:e.info||{}},s}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=[{name:"affiliation",title:"Affiliation",icon:"briefcase"},{name:"webpage",title:"webpage",icon:"globe"},{name:"contact",title:"Contact",icon:"envelope"}].filter((function(t){return void 0!==e.state.info[t.name]})).map((function(t){return Object(u.jsxs)("div",{children:[Object(u.jsxs)("strong",{children:[Object(u.jsx)("i",{className:"fas fa-"+t.icon+" mr-1"})," ",t.title]}),Object(u.jsx)("p",{className:"text-muted",children:e.state.info[t.name]}),Object(u.jsx)("hr",{})]},t.name)}));return Object(u.jsxs)("div",{className:"card card-primary",children:[Object(u.jsx)("div",{className:"card-header",children:Object(u.jsx)("h3",{className:"card-title",children:"About"})}),Object(u.jsx)("div",{className:"card-body",children:t})]})}}]),a}(n.a.Component)),M=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;Object(c.a)(this,a),s=t.call(this,e);var n={chair:{title:"Chair",importance:6},reviewer:{title:"Reviewer",importance:4},admin:{title:"Administrator",importance:7},cochair:{title:"Co Chair",importance:5},listener:{title:"Listener",importance:2},author:{title:"Author",importance:3},participant:{title:"Participant",importance:1}},r="";return e.roles.map((function(e){""!==r&&(r+=", "),r+=n[e]?n[e].title:"Participant"})),s.state={picture:e.picture||"adminlte/dist/img/user_default.jpg",name:e.name||"Unnamed user",roles:r,stats:{joinedDate:e.stats.joinedDate||"unknown",stats1:e.stats.stats1||0,stats2:e.stats.stats2||0},yourProfile:e.yourProfile||!1},s}return Object(o.a)(a,[{key:"render",value:function(){return Object(u.jsx)("div",{className:"card card-primary card-outline",children:Object(u.jsxs)("div",{className:"card-body box-profile",children:[Object(u.jsx)("div",{className:"text-center",children:Object(u.jsx)("img",{className:"profile-user-img img-fluid img-circle",src:this.state.picture,alt:""})}),Object(u.jsx)("h3",{className:"profile-username text-center",children:this.state.name}),Object(u.jsx)("p",{className:"text-muted text-center",children:this.state.roles}),Object(u.jsx)("ul",{className:"list-group list-group-unbordered mb-3",children:Object(u.jsxs)("li",{className:"list-group-item",children:[Object(u.jsx)("b",{children:"Joined on "})," ",Object(u.jsx)("span",{className:"float-right",children:this.state.stats.joinedDate})]})}),this.state.yourProfile&&Object(u.jsx)("a",{href:"/ws/profile",className:"btn btn-primary btn-block",children:Object(u.jsx)("b",{children:"Edit profile"})})]})})}}]),a}(n.a.Component),T=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(u.jsx)("div",{children:"Settings"})}}]),a}(n.a.Component),L=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(u.jsx)("div",{children:"Timeline"})}}]),a}(n.a.Component),_=(n.a.Component,function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={picture:"adminlte/dist/img/user_default.jpg",name:"",userInfo:{affiliation:"",webpage:"",contact:""},userStats:{joinedDate:"30 May 2021",stats1:500,stats2:13287},roles:[],yourProfile:!0,fetching:!0},s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"getData",value:function(){var e=this,t=this.props.match.params.id||localStorage.getItem("pid");this.props.match.params.id&&this.setState({yourProfile:!1}),v.GetUserData(t,(function(t){var a=[];"admin"==t.userName&&a.push("admin"),null!==t.reviewer&&a.push("reviewer"),null!==t.chair&&a.push("chair"),null!==t.coChair&&a.push("cochair"),null!==t.author&&a.push("author"),null!==t.listener&&a.push("listener"),0==a.length&&a.push("participant"),e.setState({name:t.name||e.state.name,userInfo:{affiliation:t.affiliation||e.state.userInfo.affiliation,webpage:t.webpage||e.state.userInfo.webpage,contact:t.email||e.state.userInfo.contact},roles:a,fetching:!1})}),(function(e){alert(e.message||e)}))}},{key:"render",value:function(){return this.state.fetching?Object(u.jsx)("span",{children:"Fetching data..."}):Object(u.jsx)("div",{className:"row",children:Object(u.jsxs)("div",{className:"col-md-3",children:[Object(u.jsx)(M,{name:this.state.name,roles:this.state.roles,stats:this.state.userStats,yourProfile:this.state.yourProfile}),Object(u.jsx)(U,{info:this.state.userInfo})]})})}}]),a}(n.a.Component)),H=Object(h.g)(_),B=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).name=e.name||"undefined",s.iconClass=e.iconClass||"fa-tachometer-alt",s.to=e.to||"#",s.children=e.children||null,s.state={badge:{type:e.badgetype||"info",text:e.badgetext||""}},s}return Object(o.a)(a,[{key:"setBadge",value:function(e,t){var a=this.state.badge;e&&(a.text=e),t&&(a.type=t),this.setState({badge:a})}},{key:"render",value:function(){var e=null;return this.children&&(e=this.children.map((function(e){return{key:e.key||0,name:e.name||"undefined",to:e.to||"#",type:e.type?"text-"+e.type:""}})).map((function(e){return Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsxs)(b.b,{to:e.to,className:"nav-link",children:[Object(u.jsx)("i",{className:"far fa-circle "+e.type+" nav-icon"}),Object(u.jsx)("p",{children:e.name})]})},e.key)}))),Object(u.jsxs)("li",{className:"nav-item",children:[Object(u.jsxs)(b.b,{to:this.to,className:"nav-link",children:[Object(u.jsx)("i",{className:"nav-icon fas "+this.iconClass}),Object(u.jsxs)("p",{children:[this.name,this.children&&Object(u.jsx)("i",{className:"right fas fa-angle-left"}),Object(u.jsx)("span",{className:"badge badge-"+this.state.badge.type+" right",children:this.state.badge.text})]})]}),this.children&&Object(u.jsx)("ul",{className:"nav nav-treeview",children:e})]})}}]),a}(n.a.Component),G=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).text=e.text||"undefined",s}return Object(o.a)(a,[{key:"render",value:function(){return Object(u.jsx)("li",{className:"nav-header",children:this.text})}}]),a}(n.a.Component),q=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(u.jsx)("div",{className:"form-inline",children:Object(u.jsxs)("div",{className:"input-group","data-widget":"sidebar-search",children:[Object(u.jsx)("input",{className:"form-control form-control-sidebar",type:"search",placeholder:"Search","aria-label":"Search"}),Object(u.jsx)("div",{className:"input-group-append",children:Object(u.jsx)("button",{className:"btn btn-sidebar",children:Object(u.jsx)("i",{className:"fas fa-search fa-fw"})})})]})})}}]),a}(n.a.Component),V=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={picture:"adminlte/dist/img/"+(s.props.picture||"user_default.jpg"),name:s.props.name||"Undefined"},s}return Object(o.a)(a,[{key:"render",value:function(){return Object(u.jsxs)("div",{className:"user-panel mt-3 pb-3 mb-3 d-flex",children:[Object(u.jsx)("div",{className:"image",children:Object(u.jsx)("img",{src:this.state.picture,className:"img-circle elevation-2",alt:"profile"})}),Object(u.jsx)("div",{className:"info",children:Object(u.jsx)(b.b,{to:"/ws/profile",children:Object(u.jsx)("span",{className:"d-block",children:this.state.name})})})]})}}]),a}(n.a.Component),Y=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(u.jsxs)("aside",{className:"main-sidebar sidebar-dark-primary elevation-4",children:[Object(u.jsx)(b.b,{to:"/ws",children:Object(u.jsxs)("div",{className:"brand-link",children:[Object(u.jsx)("img",{src:"/cms-frontend/adminlte/dist/img/AdminLTELogo.png",alt:"CMS",className:"brand-image img-circle elevation-3",style:{opacity:".8"}}),Object(u.jsx)("span",{className:"brand-text font-weight-light",children:"CMS Workstation"})]})}),Object(u.jsxs)("div",{className:"sidebar",children:[Object(u.jsx)(V,{name:localStorage.getItem("username"),picture:"user_default.jpg"}),Object(u.jsx)(q,{}),Object(u.jsx)("nav",{className:"mt-2",children:Object(u.jsxs)("ul",{className:"nav nav-pills nav-sidebar flex-column","data-widget":"treeview",role:"menu","data-accordion":"false",children:[Object(u.jsx)(G,{text:"Application"}),Object(u.jsx)(B,{name:"Dashboard",iconClass:"fa-bars",to:"/ws"}),Object(u.jsx)(B,{name:"Invitations",iconClass:"fa-envelope",to:"/ws/invitations"}),Object(u.jsx)(B,{name:"Conferences",iconClass:"fa-bullhorn",children:[{key:"conference-create",name:"Create a conference",to:"/ws/conference/create"},{key:"conference-view",name:"View conferences",to:"/ws/conference"}]}),Object(u.jsx)(B,{name:"Proposals",iconClass:"fa-scroll",children:[{key:"proposal-view",name:"View proposals",to:"/ws/proposal"},{key:"proposal-submit",name:"Submit proposal",to:"/ws/proposal/create"},{key:"review-view",name:"View reviews",to:"/ws/review"}]}),Object(u.jsx)(B,{name:"Rooms",iconClass:"fa-home",children:[{key:"room-create",name:"View rooms",to:"/ws/room"},{key:"room-timetable-view",name:"View room timetable",to:"/ws/room/timetable"},{key:"room-view",name:"Create room",to:"/ws/room/create"}]}),Object(u.jsx)(G,{text:"General"}),Object(u.jsx)(B,{name:"About us",iconClass:"fa-address-card",to:"/ws/about"}),Object(u.jsx)(B,{name:"Logout",iconClass:"fa-sign-out-alt",to:"/ws/logout"})]})})]})]})}}]),a}(n.a.Component),z=(n.a.Component,function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;Object(c.a)(this,a),(s=t.call(this,e)).order=e.order||"1.",s.username=localStorage.username,s.proposalId=e.proposalId,s.name=e.name||"Untitled",s.createdOn=e.createdOn||"unknown",s.timeLeft="",s.timeDone=0,s.paperAbstract=e.paperAbstract||"Lorem ipsum",s.paperAbstractShort=s.paperAbstract.substr(0,50),s.status=e.status,s.filePath=e.filePath||"ProposalFormsReview.js",s.displayFilePath=e.name||"BestPaper.txt",s.showMoreLess="show more",s.authors=e.authors||[],s.conferenceSection=s.authors[0].conferenceSection,console.log(s.conferenceSection),s.conference=s.conferenceSection.conference,s.deadline=s.conference.deadline;var n=Date.parse(s.deadline),r=Date.now();return s.possibleStatus={bidding:{title:"Bidding",className:"bg-info"},accepted:{title:"Accepted",className:"bg-success"},contradictory:{title:"Contradictory",className:"bg-warning"},rejected:{title:"Rejected",className:"bg-danger"}},s.status=s.possibleStatus[e.status]||s.possibleStatus.bidding,s.canView=void 0===e.canView||e.canView,s.canEdit=void 0!==e.canEdit&&(e.canEdit&&r<n),s.canDelete=void 0!==e.canDelete&&e.canDelete,s.canReview="true"==localStorage.getItem("isReviewer"),s.state={proposalId:s.proposalId,user:s.user,authors:s.authors,abstractExpanded:!1,abstractTruncated:!1,showMoreLess:s.showMoreLess,canView:s.canView,canEdit:s.canEdit,canReview:s.canReview,canDelete:s.canDelete,canViewReviews:s.canReview},s.showMoreLessAction=s.showMoreLessAction.bind(Object(m.a)(s)),s.reviewProposal=s.reviewProposal.bind(Object(m.a)(s)),s.openReviews=s.openReviews.bind(Object(m.a)(s)),s}return Object(o.a)(a,[{key:"getProposalDetails",value:function(){var e=this;v.GetProposalDetails(this.proposalId,(function(t){e.setState({proposalData:t})}),(function(e){alert("Error when fetching proposals: "+e.message||!1)}))}},{key:"isUserAuthor",value:function(){for(var e=0;e<this.state.authors.length;e++){if(this.state.authors[e].participant.name===this.state.username)return!0}return!1}},{key:"setPermissions",value:function(){console.log(localStorage),"true"!==localStorage.getItem("isReviewer")||this.isUserAuthor()?this.isUserAuthor()?this.setState({canReview:this.state.canReview&&!1,canEdit:this.state.canEdit&&!0,canDelete:this.state.canDelete&&!0}):this.setState({canReview:this.state.canReview&&!1,canEdit:this.state.canEdit&&!1,canDelete:this.state.canDelete&&!1}):this.setState({canReview:this.state.canReview&&!0,canEdit:this.state.canEdit&&!1,canDelete:this.state.canDelete&&!1}),this.setState({canViewReviews:this.state.canReview,canReview:this.state.canReview&&"bidding"===this.status})}},{key:"openReviews",value:function(e){e.preventDefault(),window.location.href="/ws/review/"+this.state.proposalId}},{key:"componentDidMount",value:function(){this.setPermissions()}},{key:"reviewProposal",value:function(e){e.preventDefault(),window.location.href="/ws/proposal/review/"+this.state.proposalId}},{key:"showMoreLessAction",value:function(e){"show more"===this.state.showMoreLess?this.showMoreAbstract(e):this.showLessAbstract(e)}},{key:"showMoreAbstract",value:function(e){document.getElementById(e).innerHTML=this.paperAbstract,this.setState({showMoreLess:"show less"})}},{key:"showLessAbstract",value:function(e){document.getElementById(e).innerHTML=this.paperAbstractShort,this.setState({showMoreLess:"show more"})}},{key:"renderAuthorTableData",value:function(){return this.state.authors.map((function(e,t){var a=e.authorId,s=e.participant;return Object(u.jsx)("tr",{children:Object(u.jsx)("td",{children:s.name})},a)}))}},{key:"renderTopicTableData",value:function(){return this.state.topics.map((function(e,t){var a=e.topicId,s=e.topic;return Object(u.jsx)("tr",{children:Object(u.jsx)("td",{children:s})},a)}))}},{key:"renderKeywordTableData",value:function(){return this.state.keywords.map((function(e,t){var a=e.keywordId,s=e.name;return Object(u.jsx)("tr",{children:Object(u.jsx)("td",{children:s})},a)}))}},{key:"render",value:function(){var e=this;return Object(u.jsxs)("tr",{id:this.order,children:[Object(u.jsx)("td",{children:this.order}),Object(u.jsxs)("td",{children:[Object(u.jsx)("span",{children:this.name}),Object(u.jsx)("br",{}),Object(u.jsxs)("small",{children:["Created on ",this.createdOn]})]}),Object(u.jsx)("td",{children:Object(u.jsx)("table",{id:"authors",children:Object(u.jsx)("tbody",{children:this.renderAuthorTableData()})})}),Object(u.jsxs)("td",{children:[Object(u.jsx)("span",{id:"paperAbstract"+this.order,className:"showMore",children:this.paperAbstractShort}),Object(u.jsx)("button",{onClick:function(){return e.showMoreLessAction("paperAbstract"+e.order)},children:this.state.showMoreLess})]}),Object(u.jsx)("td",{children:Object(u.jsx)("a",{href:this.filePath,download:!0,children:this.displayFilePath})}),Object(u.jsxs)("td",{children:[Object(u.jsx)("span",{children:Object(u.jsx)("b",{children:this.conference.name})}),Object(u.jsx)("br",{}),Object(u.jsx)("span",{children:this.conferenceSection.name}),Object(u.jsx)("br",{}),Object(u.jsxs)("small",{children:["Submit deadline: ",this.conference.deadline]})]}),Object(u.jsx)("td",{children:Object(u.jsx)("span",{className:"badge "+this.status.className,children:this.status.title})}),Object(u.jsxs)("td",{className:"project-actions",children:[this.state.canViewReviews&&Object(u.jsxs)("button",{className:"btn btn-primary btn-sm",style:{marginRight:"3px"},onClick:this.openReviews,children:[Object(u.jsx)("i",{className:"fas fa-folder"}),"Reviews"]}),this.state.canEdit&&Object(u.jsxs)("button",{className:"btn btn-info btn-sm",style:{marginRight:"3px"},children:[Object(u.jsx)("i",{className:"fas fa-pencil-alt"}),"Edit"]}),this.state.canDelete&&Object(u.jsxs)("button",{className:"btn btn-danger btn-sm",style:{marginRight:"3px"},children:[Object(u.jsx)("i",{className:"fas fa-trash"}),"Delete"]}),this.state.canReview&&Object(u.jsxs)("button",{className:"btn btn-info btn-sm",style:{marginRight:"3px"},onClick:this.reviewProposal,children:[Object(u.jsx)("i",{className:"fas fa-clipboard-check"}),"Review"]})]},this.order)]})}}]),a}(n.a.Component)),J=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={data:e.data||[]},s}return Object(o.a)(a,[{key:"render",value:function(){var e=0,t=this.state.data.map((function(t){return e++,Object(u.jsx)(z,Object(N.a)(Object(N.a)({},t),{},{order:e+"."}),t.proposalId)}));return Object(u.jsxs)("table",{className:"table table-stripped",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{style:{width:"1%"},children:"#"}),Object(u.jsx)("th",{style:{width:"18%"},children:"Name"}),Object(u.jsx)("th",{style:{width:"12%"},children:"Author(s)"}),Object(u.jsx)("th",{style:{width:"15%"},children:"Abstract"}),Object(u.jsx)("th",{style:{width:"10%"},children:"Paper"}),Object(u.jsx)("th",{style:{width:"15%"},children:"Conference"}),Object(u.jsx)("th",{style:{width:"40px"},children:"Status"}),Object(u.jsx)("th",{style:{width:"30%"}})]})}),Object(u.jsx)("tbody",{children:t})]})}}]),a}(n.a.Component),Z=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={data:e.data||[],fetching:!0},s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;v.GetAllProposals((function(t){console.log(t),e.setState({data:t,fetching:!1})}),(function(e){alert("Error when fetching proposals: "+e.message||!1)}))}},{key:"render",value:function(){return this.state.fetching?Object(u.jsx)("span",{children:"Fetching..."}):Object(u.jsx)("div",{className:"row",children:Object(u.jsx)("div",{className:"",children:Object(u.jsxs)("div",{className:"card",children:[Object(u.jsx)("div",{className:"card-header",children:Object(u.jsx)("h3",{className:"card-title",children:"Proposals"})}),Object(u.jsx)("div",{className:"card-body",children:Object(u.jsx)(J,{data:this.state.data})})]})})})}}]),a}(n.a.Component),$=a(52),K=a(148),W=a(151),Q=a(145),X=a(45),ee=a.n(X),te=a(47),ae=a.n(te),se=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).fileChangeHandler=function(e){s.setState({selectedFile:e.target.files[0]}),s.setState({isSelected:!0})},s.conference=e.conference||"Test conference",s.conferenceSection=e.conferenceSection||"Test conference section",s.deadline=e.deadline||"01/01/2001",s.keywords=[{keywordId:1,name:"methodology"},{keywordId:2,name:"visualisation"},{keywordId:3,name:"framework"}],s.topics=[{topicId:1,name:"Machine Learning"},{topicId:2,name:"Cyber-security"}],s.authors=[],s.fixedAuthors=[],s.state={filledAuthors:[],selectedFile:"",isFilePicked:!1,conferences:[],conferenceSelected:null,sectionSelected:null,deadline:s.deadline,fetching:2},s.onSelectChange=s.onSelectChange.bind(Object(m.a)(s)),s.fileHandleSubmission=s.fileHandleSubmission.bind(Object(m.a)(s)),s.getData=s.getData.bind(Object(m.a)(s)),s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"getData",value:function(){var e=this;v.GetAllConferences((function(t){e.setState({conferences:t,conferenceSelected:t.length>0?t[0]:null,fetching:e.state.fetching-1})})),v.GetAllParticipants((function(t){console.log(t),e.authors=t,e.fixedAuthors=[];for(var a=0;a<e.authors.length;a++)e.authors[a].pid==localStorage.getItem("pid")&&e.fixedAuthors.push(e.authors[a]);e.setState({filledAuthors:Object($.a)(e.fixedAuthors),fetching:e.state.fetching-1})}))}},{key:"fileHandleSubmission",value:function(){var e=document.getElementById("proposal-name").value,t=this.state.selectedFile?this.state.selectedFile.name:"",a=document.getElementById("abstract").value,s=document.getElementById("section-selector").value,n=this.state.filledAuthors.map((function(e){return e.pid}));v.AddProposal({name:e,filePath:t,paperAbstract:a},(function(a){v.GetAllProposals((function(a){for(var r=null,i=0;i<a.length;i++)a[i].name==e&&a[i].filePath==t&&(r=a[i].proposalId);if(null==r)alert("Issue when creating proposal");else for(var c=0;c<n.length;c++)v.AddAuthor({participantId:n[c],conferenceSectionId:s,proposalId:r},(function(e){window.location.reload()}),(function(e){alert("Error when adding an author: "+e.message||!1)}))}),(function(e){alert("Failed to get proposals: "+e.message||!1)}))}),(function(e){alert("Failed to add proposal: "+e.message||!1)})),console.log(n),console.log(s)}},{key:"onSelectChange",value:function(e){var t=e.target.id,a=e.target.value;if("conference-selector"==t){console.log("conference selected to "+a);for(var s=0;s<this.state.conferences.length;s++){var n=this.state.conferences[s];n.conferenceId==a&&this.setState({conferenceSelected:n})}}}},{key:"render",value:function(){var e=this;if(this.state.fetching)return Object(u.jsx)("div",{children:"Fetching data..."});ee.a,ae.a;var t=this.state.conferences.map((function(e){return Object(u.jsx)("option",{value:e.conferenceId,children:e.name},e.conferenceId)})),a=null==this.state.conferenceSelected?[]:this.state.conferenceSelected.conferenceSections.map((function(e){return Object(u.jsx)("option",{value:e.conferenceSectionId,children:e.name},e.conferenceSectionId)}));return Object(u.jsxs)("div",{className:"card card-danger",children:[Object(u.jsx)("div",{className:"card-header",children:Object(u.jsx)("h3",{className:"card-title",children:"Submit a proposal"})}),Object(u.jsxs)("div",{className:"card-body",children:[Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{children:"Name:"}),Object(u.jsxs)("div",{className:"input-group",children:[Object(u.jsx)("div",{className:"input-group-prepend",children:Object(u.jsx)("span",{className:"input-group-text",children:Object(u.jsx)("i",{className:"fas fa-feather"})})}),Object(u.jsx)("input",{id:"proposal-name",type:"text",className:"form-control"})]})]}),Object(u.jsx)("div",{children:Object(u.jsx)(K.a,{multiple:!0,id:"author-checkbox",value:this.state.filledAuthors,onChange:function(t,a){e.setState({filledAuthors:[].concat(Object($.a)(e.fixedAuthors),Object($.a)(a.filter((function(t){return-1===e.fixedAuthors.indexOf(t)}))))})},options:this.authors,getOptionLabel:function(e){return e?e.name:"?"},renderTags:function(t,a){return t.map((function(t,s){return Object(u.jsx)(W.a,Object(N.a)(Object(N.a)({label:t?t.name:"?"},a({index:s})),{},{disabled:-1!==e.fixedAuthors.indexOf(t)}))}))},style:{width:500},renderInput:function(e){return Object(u.jsx)(Q.a,Object(N.a)(Object(N.a)({},e),{},{label:"Authors",variant:"outlined",placeholder:"Auth"}))}})}),!1,!1,Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{children:"Conference:"}),Object(u.jsxs)("div",{className:"input-group",children:[Object(u.jsx)("div",{className:"input-group-prepend",children:Object(u.jsx)("span",{className:"input-group-text",children:Object(u.jsx)("i",{className:"fas fa-feather"})})}),Object(u.jsx)("select",{id:"conference-selector",className:"form-control",onChange:this.onSelectChange,autoComplete:"off",children:t})]})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{children:"Conference Section:"}),Object(u.jsxs)("div",{className:"input-group",children:[Object(u.jsx)("div",{className:"input-group-prepend",children:Object(u.jsx)("span",{className:"input-group-text",children:Object(u.jsx)("i",{className:"fas fa-feather"})})}),Object(u.jsx)("select",{id:"section-selector",className:"form-control",onChange:this.onSelectChange,autoComplete:"off",children:a})]})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{children:"Abstract:"}),Object(u.jsx)("textarea",{id:"abstract",className:"form-control",rows:"6",placeholder:"Enter..."})]})]}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{type:"file",name:"file",onChange:this.fileChangeHandler})}),Object(u.jsx)("div",{className:"card-footer",children:Object(u.jsx)("button",{type:"submit",className:"btn btn-primary",onClick:this.fileHandleSubmission,children:"Submit"})})]})}}]),a}(n.a.Component),ne=a(144),re=a(150),ie=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;Object(c.a)(this,a),(s=t.call(this,e)).fileChangeHandler=function(e){s.setState({selectedFile:e.target.files[0]}),s.setState({isSelected:!0})},s.id=parseInt(s.props.match.params.id)||null;return s.proposal=e.proposal||{name:"Best proposal",paperAbstract:"Lorem ipsum",filePath:"../../../../public/testFiles/BestPaper.txt"},s.authors=e.authors||[{name:"Szabolcs Vidam"},{name:"Bogdan Vasc"},{name:"Alexandra Tudorescu"},{name:"David Turcas"},{name:"Andrei Turcas"},{name:"Andrea Barrasa"}],s.keywords=e.keywords||[{keywordId:1,name:"methodology"},{keywordId:2,name:"visualisation"},{keywordId:3,name:"framework"}],s.topics=e.topics||[{topicId:1,name:"Machine Learning"},{topicId:2,name:"Cyber-security"}],s.state={proposalId:s.id,proposalData:null,filledAuthors:Object($.a)(s.authors),selectedFile:"",isFilePicked:!1,conference:s.conference,conferenceSection:s.conferenceSection,deadline:s.deadline,authors:s.authors,keywords:s.keywords,topics:s.topics,proposal:s.proposal,rating:0,user:null,fetching:!0},s.fileHandleSubmission=s.fileHandleSubmission.bind(Object(m.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(m.a)(s)),s}return Object(o.a)(a,[{key:"getProposalDetails",value:function(){var e=this;console.log(this.state.proposalId),v.GetProposalDetails(this.state.proposalId,(function(t){e.setState({proposalData:t}),v.GetUserData(localStorage.getItem("pid"),(function(t){e.setState({user:t,fetching:!1})}),(function(e){alert("Error when fetching user data: "+e.message||!1)}))}),(function(e){alert("Error when fetching proposal: "+e.message||!1)}))}},{key:"fileHandleSubmission",value:function(){var e=new FormData;e.append("File",this.state.selectedFile),fetch("https://freeimage.host/api/1/upload?key=<YOUR_API_KEY>",{method:"POST",body:e}).then((function(e){return e.json()})).then((function(e){console.log("Success:",e)})).catch((function(e){console.error("Error:",e)}))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=this.state.proposalId,s=document.getElementById("justification").value,n=this.state.rating,r=(this.state.reviewerId,{proposalId:parseInt(a),justification:s,qualifierId:n,reviewerId:this.state.user.reviewer.reviewerId});console.log(r),v.CreateReview(r,(function(e){t.setState({success:"Review was registered"}),window.location.reload()}),(function(e){t.setState({error:"Failed to register review: "+e.message||!1})}))}},{key:"componentDidMount",value:function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,document.body.appendChild(e),this.getProposalDetails()}},{key:"render",value:function(){var e=this;if("true"!=localStorage.getItem("isReviewer"))return Object(u.jsx)(k,{});if(this.state.fetching)return Object(u.jsx)("span",{children:"Fetching data..."});ee.a,ae.a;return Object(u.jsx)("div",{className:"card card-danger",children:Object(u.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(u.jsx)("div",{className:"card-header",children:Object(u.jsx)("h3",{className:"card-title",children:"Review proposal"})}),Object(u.jsxs)("div",{className:"card-body",children:[Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{children:"Rating:"}),Object(u.jsx)("br",{}),Object(u.jsx)(ne.a,{control:Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("input",{name:"rating",type:"number",value:this.state.rating,hidden:!0,readOnly:!0}),Object(u.jsx)(re.a,{name:"rating",value:this.state.rating,precision:1,max:7,onChange:function(t,a){e.setState({rating:a})}})]})})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{children:"Justification:"}),Object(u.jsx)("textarea",{id:"justification",className:"form-control",rows:"3",placeholder:"Justify review..."})]})]}),Object(u.jsx)("div",{className:"card-footer",children:Object(u.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})})]})})}}]),a}(n.a.Component),ce=a(24),oe=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),s=t.call(this,e),console.log(e),s.id=parseInt(s.props.match.params.id)||null,s.name=s.props.match.params.name||null,s.capacity=parseInt(s.props.match.params.capacity)||null,s.readOnly=null!=s.id,s.state={error:null,success:null,id:s.id,name:s.name,capacity:s.capacity,readOnly:s.readOnly,buttonName:s.readOnly?"Edit":"Create"},s.handleSubmit=s.handleSubmit.bind(Object(m.a)(s)),s.onCreateFailed=s.onCreateFailed.bind(Object(m.a)(s)),s.onCreateSuccess=s.onCreateSuccess.bind(Object(m.a)(s)),s.onUpdateFailed=s.onUpdateFailed.bind(Object(m.a)(s)),s.onUpdateSuccess=s.onUpdateSuccess.bind(Object(m.a)(s)),s.onChange=s.onChange.bind(Object(m.a)(s)),s}return Object(o.a)(a,[{key:"onChange",value:function(e){this.setState(Object(ce.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=document.getElementById("add-name").value,a=document.getElementById("add-capacity").value;console.log(this.state.fields),this.state.readOnly?this.editConferenceRequest({id:this.state.id,name:t,capacity:this.state.capacity}):this.createConferenceRequest({name:t,capacity:a})}},{key:"createConferenceRequest",value:function(e){v.CreateRoom(e,this.onCreateSuccess,this.onCreateFailed)}},{key:"editConferenceRequest",value:function(e){v.UpdateRoom(e,this.onUpdateSuccess,this.onUpdateFailed)}},{key:"onUpdateSuccess",value:function(e){this.setState({success:"You have successfully updated a room!"})}},{key:"onUpdateFailed",value:function(e){this.setState({error:"Room update failed! Error: "+e.message||!1})}},{key:"onCreateSuccess",value:function(e){this.setState({success:"You have successfully created a room!"})}},{key:"onCreateFailed",value:function(e){this.setState({error:"Room creation failed! Error: "+e.message||!1})}},{key:"render",value:function(){var e=this;ee.a,ae.a;return Object(u.jsx)("div",{className:"card card-danger",children:Object(u.jsxs)("form",{onSubmit:this.handleSubmit,noValidate:!0,children:[Object(u.jsx)("div",{className:"card-header",children:Object(u.jsx)("h3",{className:"card-title",children:"Create a conference"})}),Object(u.jsxs)("div",{className:"card-body",children:[this.state.error&&Object(u.jsx)("div",{className:"alert alert-danger",role:"alert",children:this.state.error}),this.state.success&&Object(u.jsx)("div",{className:"alert alert-success",role:"alert",children:this.state.success}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{children:"Name:"}),Object(u.jsxs)("div",{className:"input-group",children:[Object(u.jsx)("div",{className:"input-group-prepend",children:Object(u.jsx)("span",{className:"input-group-text",children:Object(u.jsx)("i",{className:"fas fa-feather"})})}),Object(u.jsx)("input",{id:"add-name",name:"name",type:"text",className:"form-control",value:this.state.name,readOnly:this.state.readOnly})]})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{children:"Capacity:"}),Object(u.jsxs)("div",{className:"input-group",children:[Object(u.jsx)("div",{className:"input-group-prepend",children:Object(u.jsx)("span",{className:"input-group-text",children:Object(u.jsx)("i",{className:"fas fa-users"})})}),Object(u.jsx)("input",{id:"add-capacity",name:"capacity",type:"number",className:"form-control",value:this.state.capacity,onChange:function(t){return e.onChange(t)}})]})]})]}),Object(u.jsx)("div",{className:"card-footer",children:Object(u.jsx)("button",{type:"submit",className:"btn btn-primary",children:this.state.buttonName})})]})})}}]),a}(n.a.Component),le=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).order=e.order||"1.",s.name=e.name||"Generic Room",s.capacity=e.capacity||20,s.canView=!0,s.canEdit=e.canEdit||!0,s.canDelete=e.canDelete||!0,s.state={order:s.order,roomId:e.roomId,name:s.name,capacity:s.capacity,success:null,error:null},s.editRoom=s.editRoom.bind(Object(m.a)(s)),s.deleteRoom=s.deleteRoom.bind(Object(m.a)(s)),s}return Object(o.a)(a,[{key:"editRoom",value:function(e){e.preventDefault(),window.location.href="/ws/room/create/"+this.state.roomId+"/"+this.state.name+"/"+this.state.capacity}},{key:"deleteRoom",value:function(e){var t=this;e.preventDefault(),v.DeleteRoom(this.state.roomId,(function(e){t.setState({success:"Room deleted successfully!"})}),(function(e){t.setState({error:"Failed to delete room: "+e.message||!1})}))}},{key:"render",value:function(){return Object(u.jsxs)("tr",{id:this.state.order,children:[Object(u.jsx)("td",{children:this.state.order}),Object(u.jsx)("td",{children:this.state.name}),Object(u.jsx)("td",{children:this.capacity}),Object(u.jsxs)("td",{className:"project-actions",children:[this.canView&&Object(u.jsxs)("button",{className:"btn btn-primary btn-sm",style:{marginRight:"3px"},children:[Object(u.jsx)("i",{className:"fas fa-folder"}),"Timetable"]}),this.canEdit&&Object(u.jsxs)("button",{className:"btn btn-info btn-sm",style:{marginRight:"3px"},onClick:this.editRoom,children:[Object(u.jsx)("i",{className:"fas fa-pencil-alt"}),"Edit"]}),this.canDelete&&Object(u.jsxs)("button",{className:"btn btn-danger btn-sm",style:{marginRight:"3px"},onClick:this.deleteRoom,children:[Object(u.jsx)("i",{className:"fas fa-trash"}),"Delete"]}),this.state.error&&Object(u.jsx)("div",{className:"alert alert-danger",role:"alert",children:this.state.error}),this.state.success&&Object(u.jsx)("div",{className:"alert alert-success",role:"alert",children:this.state.success})]},this.order)]})}}]),a}(n.a.Component),de=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={data:e.data||[]},s}return Object(o.a)(a,[{key:"render",value:function(){var e=0,t=this.state.data.map((function(t){return e++,Object(u.jsx)(le,Object(N.a)(Object(N.a)({},t),{},{order:e+"."}),t.roomId)}));return Object(u.jsxs)("table",{className:"table table-stripped",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{style:{width:"1%"},children:"#"}),Object(u.jsx)("th",{style:{width:"20%"},children:"Name"}),Object(u.jsx)("th",{style:{width:"20%"},children:"Capacity"}),Object(u.jsx)("th",{style:{width:"30%"}})]})}),Object(u.jsx)("tbody",{children:t})]})}}]),a}(n.a.Component),he=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={data:e.data||[],fetching:!0},s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;v.GetAllRooms((function(t){e.setState({data:t,fetching:!1})}),(function(e){alert("Error when fetching rooms: "+e.message||!1)}))}},{key:"render",value:function(){return this.state.fetching?Object(u.jsx)("span",{children:"Fetching..."}):Object(u.jsx)("div",{className:"row",children:Object(u.jsx)("div",{className:"",children:Object(u.jsxs)("div",{className:"card",children:[Object(u.jsx)("div",{className:"card-header",children:Object(u.jsx)("h3",{className:"card-title",children:"Rooms"})}),Object(u.jsx)("div",{className:"card-body",children:Object(u.jsx)(de,{data:this.state.data})})]})})})}}]),a}(n.a.Component),ue=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).order=e.order||"1.",s.id=s.order,s.name=e.name||"Section1",s.sessionChair=e.sessionChair||{name:"Gigel"},s.authors=e.authors||[{participantId:1,authorName:"Szabolcs Vidam"},{participantId:2,authorName:"Bogdan Vasc"},{participantId:3,authorName:"Alexandra Tudorescu"},{participantId:4,authorName:"David Turcas"},{participantId:5,authorName:"Andrei Turcas"},{participantId:6,authorName:"Andrea Barrasa"}],s.listeners=e.listeners||[{participantId:1,name:"Szabolcs Vidam"},{participantId:2,name:"Bogdan Vasc"},{participantId:3,name:"Alexandra Tudorescu"},{participantId:4,name:"David Turcas"},{participantId:5,name:"Andrei Turcas"},{participantId:6,name:"Andrea Barrasa"}],s.timeStart=e.timeStart,s.timeFinish=e.timeFinish,s.paper=e.paper||"Interesting paper",s.capacity=e.capacity||20,s.canJoinListener=void 0===e.canJoinListener||e.canJoinListener,s.canDelete=void 0===e.canDelete||e.canDelete,s.state={order:s.order,name:s.name,sessionChair:s.sessionChair,authors:s.authors,listeners:s.listeners,timeStart:s.timeStart,timeFinish:s.timeFinish,paper:s.paper,capacity:s.capacity},s}return Object(o.a)(a,[{key:"renderAuthorTableData",value:function(){return this.state.authors.map((function(e,t){var a=e.participantId,s=e.authorName;e.email;return Object(u.jsx)("tr",{children:Object(u.jsx)("td",{children:s})},a)}))}},{key:"render",value:function(){return Object(u.jsxs)("tr",{id:this.state.order,children:[Object(u.jsx)("td",{children:this.state.order}),Object(u.jsx)("td",{children:this.state.name}),Object(u.jsxs)("td",{children:[this.state.listeners.length,"/",this.state.capacity]}),Object(u.jsx)("td",{children:this.state.sessionChair.name}),Object(u.jsx)("td",{children:this.state.timeStart}),Object(u.jsx)("td",{children:this.state.timeFinish}),Object(u.jsx)("td",{children:this.state.paper}),Object(u.jsx)("td",{children:Object(u.jsx)("table",{id:"authors",children:Object(u.jsx)("tbody",{children:this.renderAuthorTableData()})})}),Object(u.jsxs)("td",{className:"project-actions",children:[this.canJoinListener&&Object(u.jsxs)("button",{className:"btn btn-primary btn-sm",style:{marginRight:"3px"},children:[Object(u.jsx)("i",{className:"fas fa-headphones"}),"Join as listener"]}),this.canDelete&&Object(u.jsxs)("button",{className:"btn btn-danger btn-sm",style:{marginRight:"3px"},children:[Object(u.jsx)("i",{className:"fas fa-trash"}),"Delete"]})]},this.order)]})}}]),a}(n.a.Component),je=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={data:e.data||[]},s}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state.data.map((function(e){return Object(u.jsx)(ue,Object(N.a)({},e),e.id)}));return Object(u.jsxs)("table",{className:"table table-stripped",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{style:{width:"1%"},children:"#"}),Object(u.jsx)("th",{style:{width:"12%"},children:"Name"}),Object(u.jsx)("th",{style:{width:"5%"},children:"Listeners"}),Object(u.jsx)("th",{style:{width:"12%"},children:"Session chair"}),Object(u.jsx)("th",{style:{width:"10%"},children:"Start time"}),Object(u.jsx)("th",{style:{width:"10%"},children:"End time"}),Object(u.jsx)("th",{style:{width:"10%"},children:"Paper"}),Object(u.jsx)("th",{style:{width:"20%"},children:"Authors"}),Object(u.jsx)("th",{style:{width:"30%"}})]})}),Object(u.jsx)("tbody",{children:e})]})}}]),a}(n.a.Component),be=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).id=parseInt(s.props.match.params.id)||null,s.data=e.data||[{id:1,order:"1",name:"Section1",timeStart:"2021-05-21 10:30 AM",timeFinish:"2021-05-21 12:00 PM"},{id:2,order:"2",name:"Section2",timeStart:"2021-05-22 10:30 AM",timeFinish:"2021-05-22 12:00 PM"}],s.state={roomName:s.roomName,data:s.data},s}return Object(o.a)(a,[{key:"getRoom",value:function(){var e=this;v.GetRoomDetails(this.id,(function(t){e.setState({data:t})}))}},{key:"render",value:function(){return Object(u.jsx)("div",{className:"row",children:Object(u.jsx)("div",{className:"",children:Object(u.jsxs)("div",{className:"card",children:[Object(u.jsx)("div",{className:"card-header",children:Object(u.jsxs)("h3",{className:"card-title",children:["Room ",this.roomName]})}),Object(u.jsx)("div",{className:"card-body",children:Object(u.jsx)(je,{data:this.data})})]})})})}}]),a}(n.a.Component),me=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={id:e.data.id||1,title:e.data.title||"Section name",sessionChair:e.data.sessionChair,authors:e.data.authors||[],roomId:e.data.roomId,roomName:e.data.roomName,timeStart:e.data.timeStart?D()(e.data.timeStart).format("YYYY-MM-DD HH:MM"):"Unknown",timeEnd:e.data.timeEnd?D()(e.data.timeEnd).format("YYYY-MM-DD HH:MM"):"Unknown",onDelete:e.onDelete,fetching:!0,activeTab:null},s}return Object(o.a)(a,[{key:"setTabActive",value:function(e){this.state.activeTab&&(document.getElementById(this.state.id+"-"+this.state.activeTab+"-link").className="nav-link",document.getElementById(this.state.id+"-"+this.state.activeTab+"-content").classList.remove("active"),document.getElementById(this.state.id+"-"+this.state.activeTab+"-content").classList.remove("show")),this.state.activeTab=e,console.log(this.state.id+"-"+this.state.activeTab+"-link"),document.getElementById(this.state.id+"-"+this.state.activeTab+"-link").className="nav-link active",document.getElementById(this.state.id+"-"+this.state.activeTab+"-content").classList.add("active"),document.getElementById(this.state.id+"-"+this.state.activeTab+"-content").classList.add("show")}},{key:"componentDidMount",value:function(){this.setTabActive("general"),console.log(this.props)}},{key:"reviewProposal",value:function(e){window.location.href="/ws/proposal/review/"+e}},{key:"render",value:function(){var e,t,a,s=this,n={};this.state.authors.map((function(e){var t=e.proposal.proposalId,a=e.proposal.name,s=e.authorId,r=e.participant.name,i=e.participant.userName;void 0===n[t]?n[t]={name:a,authors:[{authId:s,authName:r,authUsername:i}]}:n[t].authors.push({authId:s,authName:r,authUsername:i})}));var r=[],i=function(e){o=n[e],l=o.authors.map((function(e){return Object(u.jsx)("tr",{children:Object(u.jsx)("td",{children:Object(u.jsx)("a",{href:"/ws/profile/"+e.authId,children:e.authName+" ("+e.authUsername+")"})})},e.authId)})),r.push(Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:o.name}),Object(u.jsx)("td",{children:Object(u.jsx)("table",{children:Object(u.jsx)("tbody",{children:l})})}),"true"==localStorage.getItem("isReviewer")&&Object(u.jsx)("td",{style:{verticalAlign:"middle"},children:Object(u.jsxs)("button",{className:"btn btn-info btn-sm",style:{marginRight:"3px"},onClick:function(){s.reviewProposal(e)},children:[Object(u.jsx)("i",{className:"fas fa-clipboard-check"}),"Review"]})})]},e))};for(var c in n){var o,l;i(c)}return Object(u.jsxs)("div",{className:"card card-primary card-tabs",children:[Object(u.jsx)("div",{className:"card-header p-0 pt-1",children:Object(u.jsxs)("ul",{className:"nav nav-tabs",role:"tablist",children:[Object(u.jsx)("li",{className:"pt-2 px-3",children:Object(u.jsx)("h3",{className:"card-title",children:this.state.title})}),Object(u.jsx)("li",{className:"nav-item",style:{cursor:"pointer"},children:Object(u.jsx)("a",(e={className:"nav-link",id:this.state.id+"-general-link","data-toggle":"pill",role:"tab","aria-controls":this.state.id+"-tab-general"},Object(ce.a)(e,"role","tab"),Object(ce.a)(e,"aria-selected","false"),Object(ce.a)(e,"onClick",(function(){s.setTabActive("general")})),Object(ce.a)(e,"children","General"),e))}),Object(u.jsx)("li",{className:"nav-item",style:{cursor:"pointer"},children:Object(u.jsx)("a",(t={className:"nav-link",id:this.state.id+"-authors-link","data-toggle":"pill",role:"tab","aria-controls":this.state.id+"-tab-authors"},Object(ce.a)(t,"role","tab"),Object(ce.a)(t,"aria-selected","false"),Object(ce.a)(t,"onClick",(function(){s.setTabActive("authors")})),Object(ce.a)(t,"children","Proposals"),t))}),Object(u.jsx)("li",{className:"nav-item",style:{cursor:"pointer"},children:Object(u.jsx)("a",(a={className:"nav-link",id:this.state.id+"-edit-link","data-toggle":"pill",role:"tab","aria-controls":this.state.id+"-tab-edit"},Object(ce.a)(a,"role","tab"),Object(ce.a)(a,"aria-selected","false"),Object(ce.a)(a,"onClick",(function(){s.setTabActive("edit")})),Object(ce.a)(a,"children","Edit"),a))})]})}),Object(u.jsx)("div",{className:"card-body",children:Object(u.jsxs)("div",{className:"tab-content",children:[Object(u.jsxs)("div",{id:this.state.id+"-general-content",className:"tab-pane fade active-show",role:"tabpanel","aria-labelledby":this.state.id+"-tab-general",children:[Object(u.jsxs)("strong",{children:[Object(u.jsx)("i",{className:"fab fa-redhat"})," Chair"]}),Object(u.jsx)("p",{className:"text-muted",children:Object(u.jsx)("a",{href:"/ws/profile/"+this.state.sessionChair.participant.pid,children:this.state.sessionChair.participant.name+" ("+this.state.sessionChair.participant.userName+")"})}),Object(u.jsx)("hr",{}),Object(u.jsxs)("strong",{children:[Object(u.jsx)("i",{className:"fas fa-laptop-house"})," Room"]}),Object(u.jsx)("p",{className:"text-muted",children:this.state.roomName}),Object(u.jsx)("hr",{}),Object(u.jsxs)("strong",{children:[Object(u.jsx)("i",{className:"fas fa-calendar-alt"})," Start time"]}),Object(u.jsx)("p",{className:"text-muted",children:this.state.timeStart}),Object(u.jsx)("hr",{}),Object(u.jsxs)("strong",{children:[Object(u.jsx)("i",{className:"fas fa-calendar-alt"})," End time"]}),Object(u.jsx)("p",{className:"text-muted",children:this.state.timeEnd}),Object(u.jsx)("hr",{}),"true"==localStorage.getItem("isAdmin")&&Object(u.jsx)("button",{type:"button",className:"btn btn-block btn-danger",onClick:function(){s.state.onDelete(s.state.id)},children:"Delete"})]}),Object(u.jsx)("div",{id:this.state.id+"-authors-content",className:"tab-pane fade active-show",role:"tabpanel","aria-labelledby":this.state.id+"-tab-authors",children:Object(u.jsxs)("table",{className:"table table-stripped",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{style:{width:"25%"},children:"Proposal"}),Object(u.jsx)("th",{style:{width:"10%"},children:"Authors"}),"true"==localStorage.getItem("isReviewer")&&Object(u.jsx)("th",{style:{width:"5%"},children:"Review"})]})}),Object(u.jsx)("tbody",{children:r})]})}),Object(u.jsx)("div",{id:this.state.id+"-edit-content",className:"tab-pane fade active-show",role:"tabpanel","aria-labelledby":this.state.id+"-tab-edit",children:"Edit"})]})})]})}}]),a}(n.a.Component),pe=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).conferenceId=e.conferenceId,s.state={rooms:[],chairs:[],onAdd:e.onAdd,error:null,success:null,fetching:2},s.handleSubmit=s.handleSubmit.bind(Object(m.a)(s)),s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=document.createElement("script");t.type="text/javascript",t.async=!0,t.innerHTML='$("#add-start-date").inputmask("mm/dd/yyyy hh:mm", { "placeholder": "mm/dd/yyyy hh:mm" });$("#add-end-date").inputmask("mm/dd/yyyy hh:mm", { "placeholder": "mm/dd/yyyy hh:mm" })',document.body.appendChild(t),v.GetAllRooms((function(t){e.setState({rooms:t,fetching:e.state.fetching-1}),console.log(e.state.rooms)}),(function(e){alert("Error getting rooms information: "+(e.message||e))})),v.GetAllChairs((function(t){e.setState({chairs:t,fetching:e.state.fetching-1})}))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=document.getElementById("add-start-date").value,s=document.getElementById("add-end-date").value,n=document.getElementById("add-name").value,r=document.getElementById("add-chair").value,i=document.getElementById("add-room").value,c={conferenceId:this.conferenceId,sessionChairId:r,roomId:i,name:n,timeStart:Date.parse(a),timeEnd:Date.parse(s)};console.log(c),v.CreateConferenceSection(c,(function(e){t.setState({success:"Section created successfull!"}),t.state.onAdd()}),(function(e){t.setState({error:"Failed to create section: "+e.message||!1})}))}},{key:"createSectionSuccess",value:function(e){this.setState({success:"Section created successfully!"})}},{key:"createSectionFailed",value:function(e){this.setState({error:"Creation failed. Error: "+(e.message||e)})}},{key:"render",value:function(){if("true"==!localStorage.getItem("isAdmin"))return Object(u.jsx)(k,{});if(this.state.fetching>0)return Object(u.jsx)("div",{children:"..."});for(var e=[],t=0;t<this.state.rooms.length;t++)e.push(Object(u.jsx)("option",{value:this.state.rooms[t].roomId,children:this.state.rooms[t].name},this.state.rooms[t].roomId));var a=this.state.chairs.map((function(e){return Object(u.jsx)("option",{value:e.chairId,children:e.participant.userName},e.chairId)}));return Object(u.jsx)("div",{className:"card card-danger",children:Object(u.jsxs)("form",{onSubmit:this.handleSubmit,noValidate:!0,children:[Object(u.jsx)("div",{className:"card-header",children:Object(u.jsx)("h3",{className:"card-title",children:"Create a section"})}),Object(u.jsxs)("div",{className:"card-body",children:[this.state.error&&Object(u.jsx)("div",{className:"alert alert-danger",role:"alert",children:this.state.error}),this.state.success&&Object(u.jsx)("div",{className:"alert alert-success",role:"alert",children:this.state.success}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{children:"Name:"}),Object(u.jsxs)("div",{className:"input-group",children:[Object(u.jsx)("div",{className:"input-group-prepend",children:Object(u.jsx)("span",{className:"input-group-text",children:Object(u.jsx)("i",{className:"fas fa-feather"})})}),Object(u.jsx)("input",{id:"add-name",name:"title",type:"text",className:"form-control"})]})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{children:"Start date:"}),Object(u.jsxs)("div",{className:"input-group",children:[Object(u.jsx)("div",{className:"input-group-prepend",children:Object(u.jsx)("span",{className:"input-group-text",children:Object(u.jsx)("i",{className:"fas fa-calendar-alt"})})}),Object(u.jsx)("input",{name:"startDate",type:"text",id:"add-start-date",className:"form-control","data-inputmask-alias":"datetime","data-inputmask-inputformat":"mm/dd/yyyy HH:MM","data-mask":!0})]})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{children:"End date:"}),Object(u.jsxs)("div",{className:"input-group",children:[Object(u.jsx)("div",{className:"input-group-prepend",children:Object(u.jsx)("span",{className:"input-group-text",children:Object(u.jsx)("i",{className:"fas fa-calendar-alt"})})}),Object(u.jsx)("input",{name:"endDate",type:"text",id:"add-end-date",className:"form-control",blabla:"123","data-inputmask-alias":"datetime","data-inputmask-inputformat":"mm/dd/yyyy HH:MM","data-mask":!0,inputMode:"numeric"})]})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{children:"Room:"}),Object(u.jsxs)("div",{className:"input-group",children:[Object(u.jsx)("div",{className:"input-group-prepend",children:Object(u.jsx)("span",{className:"input-group-text",children:Object(u.jsx)("i",{className:"fas fa-laptop-house"})})}),Object(u.jsx)("select",{id:"add-room",className:"form-control",children:e})]})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{children:"Chair:"}),Object(u.jsxs)("div",{className:"input-group",children:[Object(u.jsx)("div",{className:"input-group-prepend",children:Object(u.jsx)("span",{className:"input-group-text",children:Object(u.jsx)("i",{className:"fab fa-redhat"})})}),Object(u.jsx)("select",{id:"add-chair",className:"form-control",children:a})]})]})]}),Object(u.jsx)("div",{className:"card-footer",children:Object(u.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Create"})})]})})}}]),a}(n.a.Component),fe=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),s=t.call(this,e),console.log(s.props.match.params.id),s.state={conferenceId:s.props.match.params.id,sections:[],name:"",timeStart:"",timeEnd:"",program:"",rooms:[],fetching:1},s.deleteConferenceSection=s.deleteConferenceSection.bind(Object(m.a)(s)),s.getData=s.getData.bind(Object(m.a)(s)),s}return Object(o.a)(a,[{key:"getData",value:function(){var e=this;v.GetConferenceDetails(this.state.conferenceId,(function(t){console.log(t),e.setState({sections:t.conferenceSections,name:t.name||"Unknown",timeStart:t.timeStart?D()(t.timeStart).format("YYYY-MM-DD HH:MM"):"Unknown",timeEnd:t.timeEnd?D()(t.timeEnd).format("YYYY-MM-DD HH:MM"):"Unknown",program:t.program||"Unknown program",fetching:e.state.fetching-1})}),(function(e){}))}},{key:"componentDidMount",value:function(){"create"!=this.state.conferenceId&&this.getData()}},{key:"deleteConferenceSection",value:function(e){var t=this;v.DeleteConfereceSection(e,(function(e){t.getData()}),(function(e){}))}},{key:"render",value:function(){if(this.state.fetching>0)return Object(u.jsx)("span",{children:"Fetching..."});for(var e=[],t=[],a=0;a<this.state.sections.length;a++){var s=this.state.sections[a];console.log(s);var n={id:s.conferenceSectionId,title:s.name,timeStart:s.timeStart,timeEnd:s.timeEnd,roomId:s.room.roomId,roomName:s.room.name,sessionChair:s.sessionChair,authors:s.authors},r=Object(u.jsx)(me,{id:s.conferenceSectionId,data:n,onDelete:this.deleteConferenceSection},s.conferenceSectionId);a%2==0?e.push(r):t.push(r)}return Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"card",children:[Object(u.jsxs)("div",{className:"card-header",children:[Object(u.jsx)("h3",{className:"card-title",children:"Conference Detail"}),Object(u.jsx)("div",{className:"card-tools",children:Object(u.jsx)("button",{type:"button",className:"btn btn-tool","data-card-widget":"collapse",title:"Collapse",children:Object(u.jsx)("i",{className:"fas fa-minus"})})})]}),Object(u.jsx)("div",{className:"card-body",children:Object(u.jsx)("div",{className:"row",children:Object(u.jsxs)("div",{className:"col-12 col-md-12 col-lg-6 order-1 order-md-1",children:[Object(u.jsxs)("h3",{className:"text-primary",children:[Object(u.jsx)("i",{className:"fas fa-paint-brush"}),this.state.name]}),Object(u.jsx)("p",{className:"text-muted",children:this.state.program}),Object(u.jsxs)("div",{className:"text-muted",children:["Conference creator",Object(u.jsxs)("div",{className:"list-inline",children:[Object(u.jsx)("div",{className:"list-inline-item",children:Object(u.jsx)("img",{alt:"Avatar",src:"adminlte/dist/img/user_default.jpg",style:{borderRadius:"50%",display:"inline",width:"2.5rem"}})}),Object(u.jsx)("div",{className:"list-inline-item",children:Object(u.jsx)("a",{href:"/ws/profile/1",children:"Admin"})})]}),Object(u.jsx)("br",{}),Object(u.jsxs)("p",{children:["Created on",Object(u.jsx)("b",{className:"d-block",children:this.state.createOn})]}),Object(u.jsxs)("p",{children:["Start date",Object(u.jsx)("b",{className:"d-block",children:this.state.timeStart})]}),Object(u.jsxs)("p",{children:["Deadline",Object(u.jsx)("b",{className:"d-block",children:this.state.timeEnd})]})]})]})})})]}),Object(u.jsxs)("div",{className:"card",children:[Object(u.jsxs)("div",{className:"card-header",children:[Object(u.jsx)("h3",{className:"card-title",children:"Sections"}),Object(u.jsx)("div",{className:"card-tools",children:Object(u.jsx)("button",{type:"button",className:"btn btn-tool","data-card-widget":"collapse",title:"Collapse",children:Object(u.jsx)("i",{className:"fas fa-minus"})})})]}),Object(u.jsx)("div",{className:"card-body",children:Object(u.jsxs)("div",{className:"row",children:["true"==localStorage.getItem("isAdmin")&&Object(u.jsx)("div",{className:"col-12 col-md-12 col-lg-3 order-1 order-md-1",children:Object(u.jsx)(pe,{conferenceId:this.state.conferenceId,onAdd:this.getData})}),Object(u.jsx)("div",{className:"col-12 col-md-12 col-lg-4 order-2 order-md-2",children:e}),Object(u.jsx)("div",{className:"col-12 col-md-12 col-lg-4 order-2 order-md-2",children:t})]})})]})]})}}]),a}(n.a.Component),Oe=Object(h.g)(fe),ve=a(147),xe=a(112),ge=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).order=e.order||"1.",s.reviewId=e.reviewId,s.justification=e.justification||"Unglaublich",s.proposal=e.proposal,s.qualifier=e.qualifier,s.reviewer=e.reviewer,s.canReview=e.canReview||!0,s.possibleStatus={bidding:{title:"Bidding",className:"bg-info"},accepted:{title:"Accepted",className:"bg-success"},contradictory:{title:"Contradictory",className:"bg-warning"},rejected:{title:"Rejected",className:"bg-danger"}},s.status=s.possibleStatus[s.proposal.status]||s.possibleStatus.bidding,s.state={order:s.order,justification:s.justification,proposal:s.proposal,proposalName:s.proposal.name,qualifier:s.qualifier,qualifierName:s.qualifier?s.qualifier.name:null,qualifierScore:s.qualifier?s.qualifier.score:null,reviewer:s.reviewer,reviewerName:s.reviewer?s.reviewer.participant.name:null},s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Object(u.jsxs)("tr",{id:this.order,children:[Object(u.jsx)("td",{children:this.order}),Object(u.jsx)("td",{children:Object(u.jsx)("span",{children:this.state.proposalName})}),Object(u.jsx)("td",{children:Object(u.jsx)("span",{children:this.state.reviewerName})}),Object(u.jsx)("td",{children:Object(u.jsxs)(ve.a,{component:"fieldset",mb:3,borderColor:"transparent",children:[Object(u.jsx)(xe.a,{component:"legend",children:this.state.qualifierName}),Object(u.jsx)(re.a,{name:"rating",value:this.state.qualifierScore,precision:1,max:7,readOnly:!0})]})}),Object(u.jsx)("td",{children:Object(u.jsx)("span",{children:this.state.justification})}),Object(u.jsx)("td",{children:Object(u.jsx)("span",{className:"badge "+this.status.className,children:this.status.title})})]})}}]),a}(n.a.Component),ye=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={data:e.data||[]},s}return Object(o.a)(a,[{key:"render",value:function(){var e=0,t=this.state.data.map((function(t){return e++,Object(u.jsx)(ge,Object(N.a)(Object(N.a)({},t),{},{order:e+"."}),t.reviewId)}));return console.log(this.state.data),Object(u.jsxs)("table",{className:"table table-stripped",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{style:{width:"1%"},children:"#"}),Object(u.jsx)("th",{style:{width:"20%"},children:"Proposal"}),Object(u.jsx)("th",{style:{width:"15%"},children:"Reviewer"}),Object(u.jsx)("th",{style:{width:"13%"},children:"Review score"}),Object(u.jsx)("th",{style:{width:"40%"},children:"Review justification"}),Object(u.jsx)("th",{style:{width:"30%"},children:"Status"})]})}),Object(u.jsx)("tbody",{children:t})]})}}]),a}(n.a.Component),we=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).id=parseInt(s.props.match.params.id)||null,s.canReview=e.canReview||!0,s.state={proposalId:s.id,proposalData:[],data:[],fetching:!0},s.acceptPaper=s.acceptPaper.bind(Object(m.a)(s)),s.rejectPaper=s.rejectPaper.bind(Object(m.a)(s)),s}return Object(o.a)(a,[{key:"getData",value:function(){var e=this;v.GetAllReviews((function(t){console.log(t),e.setState({data:t,fetching:!1})}),(function(e){alert("Failed getting reviews! Error: "+(e.message||e))}))}},{key:"getProposalDetails",value:function(){var e=this;v.GetProposalDetails(this.state.proposalId,(function(t){e.setState({data:t.reviews,fetching:!1})}),(function(e){alert("Error when fetching proposal: "+e.message||!1)}))}},{key:"componentDidMount",value:function(){this.getProposalDetails()}},{key:"getProposal",value:function(){return this.state.data[0].proposal}},{key:"updateProposalStatus",value:function(e){var t=this.getProposal();t.status=e,console.log(t),v.UpdateProposal(t,(function(e){alert("Updated proposal status")}),(function(e){alert("Couldn't update proposal status")}))}},{key:"acceptPaper",value:function(e){e.preventDefault(),this.updateProposalStatus("accepted")}},{key:"rejectPaper",value:function(e){e.preventDefault(),this.updateProposalStatus("rejected")}},{key:"render",value:function(){return this.state.fetching?Object(u.jsx)("span",{children:"Fetching data..."}):(console.log(this.getProposal()),Object(u.jsx)("div",{className:"row",children:Object(u.jsx)("div",{className:"",children:Object(u.jsxs)("div",{className:"card",children:[Object(u.jsx)("div",{className:"card-header",children:Object(u.jsx)("h3",{className:"card-title",children:"Reviews"})}),Object(u.jsxs)("div",{className:"card-body",children:[Object(u.jsx)(ye,{data:this.state.data}),Object(u.jsx)("div",{className:"project-actions",children:this.canReview&&this.state.data.length>0&&"contradictory"==this.state.data[0].proposal.status&&Object(u.jsxs)("div",{children:[Object(u.jsxs)("button",{className:"btn btn-success btn-sm",style:{marginRight:"3px"},onClick:this.acceptPaper,children:[Object(u.jsx)("i",{className:"fas fa-check-circle"}),"Accept paper"]}),Object(u.jsxs)("button",{className:"btn btn-danger btn-sm",style:{marginRight:"3px"},onClick:this.rejectPaper,children:[Object(u.jsx)("i",{className:"fas fa-folder"}),"Reject paper"]})]})})]})]})})}))}}]),a}(n.a.Component),Ne=Object(h.g)(we),ke=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={data:e.data||[],all:e.all||[],onAdd:e.onAdd,title:e.title,vid:e.vid,success:"",error:""},s.addOnClick=s.addOnClick.bind(Object(m.a)(s)),s}return Object(o.a)(a,[{key:"addOnClick",value:function(){var e=document.getElementById("add-"+this.state.vid).value;this.state.onAdd(e)}},{key:"render",value:function(){var e=0,t=this.state.data.map((function(t){if(t.participant)return e++,Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:e+"."}),Object(u.jsx)("th",{style:{width:"5%"},children:t.participant.userName}),Object(u.jsx)("th",{style:{width:"5%"},children:t.participant.name}),Object(u.jsx)("th",{style:{width:"5%"},children:Object(u.jsx)("button",{children:"Remove"})})]},t.chairId)})),a=this.state.all.map((function(e){return Object(u.jsx)("option",{value:e.pid,children:e.userName},e.pid)}));return Object(u.jsxs)("div",{className:"card",children:[Object(u.jsx)("div",{className:"card-header",children:Object(u.jsx)("h3",{className:"card-title",children:this.state.title})}),Object(u.jsxs)("div",{className:"card-body",children:[this.state.error&&Object(u.jsx)("div",{className:"alert alert-danger",role:"alert",children:this.state.error}),this.state.success&&Object(u.jsx)("div",{className:"alert alert-success",role:"alert",children:this.state.success}),Object(u.jsxs)("table",{className:"table table-stripped",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{style:{width:"1%"},children:"#"}),Object(u.jsx)("th",{style:{width:"5%"},children:"Username"}),Object(u.jsx)("th",{style:{width:"5%"},children:"Fullname"}),Object(u.jsx)("th",{style:{width:"5%"},children:"Remove"})]})}),Object(u.jsx)("tbody",{children:t})]})]}),Object(u.jsxs)("div",{className:"card-footer",children:[Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{children:"Add user:"}),Object(u.jsxs)("div",{className:"input-group",children:[Object(u.jsx)("div",{className:"input-group-prepend",children:Object(u.jsx)("span",{className:"input-group-text",children:Object(u.jsx)("i",{className:"fab fa-redhat"})})}),Object(u.jsx)("select",{id:"add-"+this.state.vid,className:"form-control",children:a})]})]}),Object(u.jsx)("button",{type:"submit",className:"btn btn-primary",onClick:this.addOnClick,children:"Add"})]})]})}}]),a}(n.a.Component),Se=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={reviewers:[],chairs:[],cochairs:[],all:[],fetching:4},s.addChair=s.addChair.bind(Object(m.a)(s)),s.addCochair=s.addCochair.bind(Object(m.a)(s)),s.addReviewer=s.addReviewer.bind(Object(m.a)(s)),s}return Object(o.a)(a,[{key:"getData",value:function(){var e=this;v.GetAllChairs((function(t){e.setState({chairs:t,fetching:e.state.fetching-1})}),(function(e){alert("Failed getting chairs! Error: "+(e.message||e))})),v.GetAllCoChairs((function(t){e.setState({cochairs:t,fetching:e.state.fetching-1})}),(function(e){alert("Failed getting cochairs! Error: "+(e.message||e))})),v.GetAllReviewers((function(t){e.setState({reviewers:t,fetching:e.state.fetching-1})}),(function(e){alert("Failed getting reviewers! Error: "+(e.message||e))})),v.GetAllParticipants((function(t){e.setState({all:t,fetching:e.state.fetching-1})}),(function(e){alert("Failed getting participants! Error: "+(e.message||e))}))}},{key:"componentDidMount",value:function(){this.getData()}},{key:"addChair",value:function(e){var t=this;console.log(e),v.AddChair(Number(e),(function(a){t.setState({success:"Successfully added a chair!"}),t.setState({fetching:4}),t.getData(),e==localStorage.getItem("pid")&&localStorage.setItem("isChair","true")}),(function(e){alert("Error when trying to add chair: "+e.message||!1)}))}},{key:"addReviewer",value:function(e){var t=this;v.AddReviewer(Number(e),(function(a){t.setState({success:"Successfully added a chair!"}),t.setState({fetching:4}),t.getData(),e==localStorage.getItem("pid")&&localStorage.setItem("isReviewer","true")}),(function(e){alert("Error when trying to add reviewer: "+e.message||!1)}))}},{key:"addCochair",value:function(e){var t=this;v.AddCoChair(Number(e),(function(a){t.setState({success:"Successfully added a chair!"}),t.setState({fetching:4}),t.getData(),e==localStorage.getItem("pid")&&localStorage.setItem("isCoChair","true")}),(function(e){alert("Error when trying to add cochair: "+e.message||!1)}))}},{key:"render",value:function(){return"true"!=localStorage.getItem("isAdmin")?Object(u.jsx)(k,{}):this.state.fetching>0?Object(u.jsx)("span",{children:"Fetching data..."}):Object(u.jsx)("div",{className:"row",children:Object(u.jsxs)("div",{className:"",children:[Object(u.jsx)(ke,{vid:"chairs",title:"Chairs",data:this.state.chairs,all:this.state.all,onAdd:this.addChair}),Object(u.jsx)(ke,{vid:"cochairs",title:"Co Chairs",data:this.state.cochairs,all:this.state.all,onAdd:this.addCochair}),Object(u.jsx)(ke,{vid:"reviewers",title:"Reviewers",data:this.state.reviewers,all:this.state.all,onAdd:this.addReviewer})]})})}}]),a}(n.a.Component),Ce=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"signOut",value:function(){localStorage.removeItem("pid"),localStorage.removeItem("username"),localStorage.removeItem("password"),localStorage.removeItem("name"),window.location.href="/"}},{key:"render",value:function(){return Object(u.jsxs)("div",{children:[Object(u.jsx)("h5",{children:"Logging out will remove all your local data."}),Object(u.jsxs)("button",{type:"button",className:"btn btn-info btn-block btn-flat",style:{width:"20%"},onClick:this.signOut,children:[Object(u.jsx)("i",{className:"fa fa-sign-out-alt"})," Click here to Sign Out"]})]})}}]),a}(n.a.Component),Ie=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(u.jsxs)("div",{children:[Object(u.jsx)("strong",{children:Object(u.jsx)("span",{children:"Team Fratii mei IntelliJ"})}),Object(u.jsx)("strong",{children:Object(u.jsx)("span",{children:"Members:"})}),Object(u.jsx)("span",{children:"Bogdan Vasc"})]})}}]),a}(n.a.Component),De=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).location="/ws",s}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=!0;if(localStorage.getItem("username")){var a=localStorage.getItem("ts"),s=Date.now()/1e3;a&&s-a>3e6&&(localStorage.removeItem("username"),localStorage.removeItem("ts"),t=!1)}else t=!1;return t?Object(u.jsxs)("div",{id:"main",className:"sidebar-mini layout-fixed",children:[Object(u.jsx)(Y,{}),Object(u.jsx)(h.b,{exact:!0,path:"/ws/profile/",children:Object(u.jsx)(F,{title:"Your profile",content:Object(u.jsx)(H,{}),hierarchy:[{name:"Home",to:this.location}]})}),Object(u.jsx)(h.b,{exact:!0,path:"/ws/profile/:id",children:Object(u.jsx)(F,{title:"User profile",content:Object(u.jsx)(H,{}),hierarchy:[{name:"Home",to:this.location}]})}),Object(u.jsx)(h.b,{exact:!0,path:"/ws/conference/create",children:Object(u.jsx)(F,{title:"Create a conference",content:Object(u.jsx)(C,{}),hierarchy:[{name:"Home",to:this.location}]})}),Object(u.jsx)(h.b,{path:"/ws/conference/view/:id",children:Object(u.jsx)(F,{title:"View conference",content:Object(u.jsx)(Oe,{}),hierarchy:[{name:"Home",to:this.location}]})}),Object(u.jsx)(h.b,{exact:!0,path:"/ws/conference",children:Object(u.jsx)(F,{title:"View conferences",content:Object(u.jsx)(P,{}),hierarchy:[{name:"Home",to:this.location}]})}),Object(u.jsx)(h.b,{path:"/ws/proposal/create",children:Object(u.jsx)(F,{title:"Submit a proposal",content:Object(u.jsx)(se,{}),hierarchy:[{name:"Home",to:this.location}]})}),Object(u.jsx)(h.b,{exact:!0,path:"/ws/proposal/review/:id",render:function(t){return Object(u.jsx)(F,{title:"Review proposal",content:Object(u.jsx)(ie,Object(N.a)({},t)),hierarchy:[{name:"Home",to:e.location}]})}}),Object(u.jsx)(h.b,{exact:!0,path:"/ws/proposal",children:Object(u.jsx)(F,{title:"View proposals",content:Object(u.jsx)(Z,{}),hierarchy:[{name:"Home",to:this.location}]})}),Object(u.jsx)(h.b,{exact:!0,path:"/ws/room/create/:id?/:name?/:capacity?",render:function(t){return Object(u.jsx)(F,{title:"View proposals",content:Object(u.jsx)(oe,Object(N.a)({},t)),hierarchy:[{name:"Home",to:e.location}]})}}),Object(u.jsx)(h.b,{exact:!0,path:"/ws/room",children:Object(u.jsx)(F,{title:"View rooms",content:Object(u.jsx)(he,{}),hierarchy:[{name:"Home",to:this.location}]})}),Object(u.jsx)(h.b,{exact:!0,path:"/ws/room/timetable",children:Object(u.jsx)(F,{title:"View room timetable",content:Object(u.jsx)(be,{}),hierarchy:[{name:"Home",to:this.location}]})}),Object(u.jsx)(h.b,{exact:!0,path:"/ws/review/:id",children:Object(u.jsx)(F,{title:"View reviews",content:Object(u.jsx)(Ne,{}),hierarchy:[{name:"Home",to:this.location}]})}),Object(u.jsx)(h.b,{exact:!0,path:"/ws/invitations",children:Object(u.jsx)(F,{title:"Application users",content:Object(u.jsx)(Se,{}),hierarchy:[{name:"Home",to:this.location}]})}),Object(u.jsx)(h.b,{exact:!0,path:"/ws/403",children:Object(u.jsx)(F,{title:"Not allowed",content:Object(u.jsx)(k,{}),hierarchy:[{name:"Home",to:this.location}]})}),Object(u.jsx)(h.b,{exact:!0,path:"/ws/about",children:Object(u.jsx)(F,{title:"About us",content:Object(u.jsx)(Ie,{}),hierarchy:[{name:"Home",to:this.location}]})}),Object(u.jsx)(h.b,{exact:!0,path:"/ws/logout",children:Object(u.jsx)(F,{title:"Log out",content:Object(u.jsx)(Ce,{}),hierarchy:[{name:"Home",to:this.location}]})}),Object(u.jsx)(h.b,{exact:!0,path:"/ws",children:Object(u.jsx)(F,{title:"Front page",content:Object(u.jsx)("div",{children:"This is the front page. Use navigation to navigate."}),hierarchy:[{name:"Home",to:this.location}]})})]}):Object(u.jsx)(h.a,{to:"/"})}}]),a}(n.a.Component),Re=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(u.jsx)(b.a,{children:Object(u.jsxs)(h.d,{children:[Object(u.jsx)(h.b,{path:"/ws",children:Object(u.jsx)(De,{})}),Object(u.jsx)(h.b,{path:"/register",children:Object(u.jsx)(j,{form:Object(u.jsx)(y,{})})}),Object(u.jsx)(h.b,{path:"/reset",children:Object(u.jsx)(j,{form:Object(u.jsx)(w,{})})}),Object(u.jsx)(h.b,{path:"/",children:Object(u.jsx)(j,{form:Object(u.jsx)(g,{})})})]})})}}]),a}(n.a.Component);i.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(Re,{})}),document.getElementById("root"))},57:function(e,t,a){},99:function(e,t,a){}},[[110,1,2]]]);
//# sourceMappingURL=main.84a904da.chunk.js.map