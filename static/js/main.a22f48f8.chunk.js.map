{"version":3,"sources":["login/Authpage.js","ApiService.js","Validations.js","login/LoginForm.js","login/RegisterForm.js","login/ResetForm.js","mainpage/content/errors/Error403.js","mainpage/content/conference/ConferenceFormsCreate.js","mainpage/content/conference/ConferenceForms.js","mainpage/content/conference/ConferenceFormsJoin.js","mainpage/content/conference/ConferenceViewTableItem.js","mainpage/content/conference/ConferenceViewTable.js","mainpage/content/conference/ConferenceView.js","mainpage/content/ContentHeader.js","mainpage/content/Content.js","mainpage/profile/ProfileAbout.js","mainpage/profile/ProfileMain.js","mainpage/profile/ProfileSettings.js","mainpage/profile/ProfileTimeline.js","mainpage/profile/Profile.js","mainpage/profile/ProfileTabsView.js","mainpage/sidebar/SidebarButton.js","mainpage/sidebar/SidebarHeader.js","mainpage/sidebar/SidebarSearch.js","mainpage/sidebar/SidebarUser.js","mainpage/sidebar/Sidebar.js","mainpage/content/proposal/ProposalViewTableItem.js","shared/ShowMore.js","mainpage/content/proposal/ProposalViewTable.js","mainpage/content/proposal/ProposalView.js","mainpage/content/proposal/ProposalFormsCreate.js","mainpage/content/proposal/ProposalFormsReview.js","mainpage/content/room/RoomFormsCreate.js","mainpage/content/room/RoomViewTableItem.js","mainpage/content/room/RoomViewTable.js","mainpage/content/room/RoomView.js","mainpage/content/room/roomTimetable/RoomTimetableViewTableItem.js","mainpage/content/room/roomTimetable/RoomTimetableViewTable.js","mainpage/content/room/roomTimetable/RoomTimetableView.js","mainpage/content/conference/ConferenceSection.js","mainpage/content/conference/ConferenceSectionAdd.js","mainpage/content/conference/ConferenceDetails.js","mainpage/content/proposal/review/ReviewViewTableItem.js","mainpage/content/proposal/review/ReviewViewTable.js","mainpage/content/proposal/review/ReviewView.js","mainpage/content/invitations/InvitationsTable.js","mainpage/content/invitations/InvitationsView.js","mainpage/other/Logout.js","mainpage/other/AboutUs.js","mainpage/Mainpage.js","App.js","index.js"],"names":["Authpage","undefined","localStorage","getItem","to","style","backgroundImage","className","id","this","props","form","React","Component","ApiService","baseUrl","__PostRequest","link","data","success","failure","request","method","headers","body","JSON","stringify","console","log","fetch","then","response","a","json","ok","error","status","rejected","__PutRequest","__DeleteRequestId","deleteLink","parseInt","__DeleteRequest","LogInUser","users","participants","user","i","length","password","username","userName","email","RegisterUser","ResetUserPassword","setTimeout","message","GetUserData","CreateConference","GetAllConferences","conferences","GetConferenceDetails","GetRoomDetails","rooms","CreateRoom","DeleteRoom","UpdateRoom","GetAllRooms","GetAllConferenceSections","conferenceId","conferenceSections","res","push","CreateConferenceSection","DeleteConfereceSection","GetPossibleUsersForChair","GetParticipantNameById","name","GetProposalDetails","proposals","CreateProposal","UpdateProposal","GetAllReviews","reviews","GetAllParticipants","GetAllChairs","chairs","GetAllReviewers","reviewers","GetAllCoChairs","coChairs","AddChair","participantId","AddCoChair","AddReviewer","CreateReview","GetQualifierDetails","qualifiers","AddProposal","GetAllProposals","AddAuthor","Validator","text","test","website","LoginForm","state","fields","userType","errors","valid","wait","logInFailed","afterRegister","location","linkStyle","bind","handleInputChange","handleSubmit","validateForm","logInAttempt","onLogInSuccess","onLogInFailed","onGithubButtonClick","onGoogleButtonClick","invalid","tEmail","tUsername","setState","pointerEvents","event","target","value","preventDefault","setItem","pid","Date","now","listener","author","chair","coChair","reviewer","window","href","onSubmit","noValidate","textAlign","role","marginBottom","type","onClick","placeholder","onChange","disabled","RegisterForm","affiliation","webpage","password1","password2","registrationFailed","successRegistration","registerUser","onRegisterSuccess","onRegisterFailed","alert","pathname","ResetForm","resetUserPassword","onResetPasswordSuccess","onResetPasswordFailed","onFormChanged","Error403","ConferenceFormsCreate","title","description","startDate","endDate","deadline","onCreateFailed","onCreateSuccess","s","document","createElement","async","innerHTML","appendChild","getElementById","desc","createConferenceRequest","timeStart","parse","timeEnd","program","data-inputmask-alias","data-inputmask-inputformat","data-mask","blabla","inputMode","rows","ConferenceForms","ConferenceViewTableItem","order","createdOn","chairPicture","chairName","moment","format","timeLeft","timeDone","startDateUtc","deadlineUtc","isNaN","difSecs","Math","floor","d","h","m","twodig","v","possibleStatus","canView","canEdit","canDelete","canSubmit","alt","borderRadius","display","width","src","aria-valuenow","aria-valuemin","aria-valuemax","marginRight","ConferenceViewTable","tableItems","map","ConferenceView","fetching","getData","ContentHeader","hierarchy","hierarchyItems","page","Content","content","ProfileAbout","info","infoItems","icon","filter","ProfileMain","rolesName","importance","rolesText","roles","picture","stats","joinedDate","stats1","stats2","yourProfile","ProfileSettings","ProfileTimeline","Profile","userInfo","contact","userStats","match","params","withRouter","SidebarButton","iconClass","children","badge","badgetype","badgetext","childButtons","child","key","SidebarHeader","SidebarSearch","data-widget","aria-label","SidebarUser","Sidebar","process","opacity","data-accordion","ProposalViewTableItem","proposalId","paperAbstract","paperAbstractShort","substr","filePath","displayFilePath","showMoreLess","authors","conferenceSection","conference","dateNow","canReview","abstractExpanded","abstractTruncated","canViewReviews","showMoreLessAction","reviewProposal","openReviews","proposalData","participant","isUserAuthor","setPermissions","showMoreAbstract","showLessAbstract","index","authorId","topics","topicc","topicId","topic","keywords","keyword","keywordId","renderAuthorTableData","download","ProposalViewTable","ProposalView","ProposalFormsCreate","fileChangeHandler","selectedFile","files","isSelected","fixedAuthors","filledAuthors","isFilePicked","conferenceSelected","sectionSelected","onSelectChange","fileHandleSubmission","proposalName","fileName","abstract","conferenceSectionId","j","reload","c","conferenceOptions","sectionsOptions","Autocomplete","multiple","newValue","option","indexOf","options","getOptionLabel","renderTags","tagValue","getTagProps","Chip","label","renderInput","TextField","variant","autoComplete","ProposalFormsReview","proposal","rating","formData","FormData","append","result","catch","justification","qualifierId","reviewerId","getProposalDetails","FormControlLabel","control","hidden","readOnly","Rating","precision","max","_","RoomFormsCreate","capacity","buttonName","onUpdateFailed","onUpdateSuccess","editConferenceRequest","RoomViewTableItem","roomId","editRoom","deleteRoom","RoomViewTable","RoomView","RoomTimetableViewTableItem","sessionChair","authorName","listeners","timeFinish","paper","canJoinListener","RoomTimetableViewTable","RoomTimetableView","roomName","ConferenceSection","onDelete","activeTab","tab","classList","remove","add","setTabActive","auth","authId","authName","authUsername","proposalItems","prop","verticalAlign","cursor","data-toggle","aria-controls","aria-labelledby","ConferenceSectionAdd","onAdd","room","sessionChairId","roomsOptions","chairOptions","chairId","ConferenceDetails","sections","deleteConferenceSection","col1","col2","sData","sec","data-card-widget","createOn","ReviewViewTableItem","reviewId","qualifier","qualifierName","qualifierScore","score","reviewerName","Box","component","mb","borderColor","Typography","ReviewViewTable","ReviewView","acceptPaper","rejectPaper","newStatus","newProposal","getProposal","updateProposalStatus","InvitationsTable","all","vid","addOnClick","InvitationsView","cochairs","addChair","addCochair","addReviewer","Number","LogOut","removeItem","signOut","AboutUs","Mainpage","loggedIn","tsLast","ts","exact","path","render","App","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.a22f48f8.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Redirect } from 'react-router';\r\nimport './Authpage.css';\r\n\r\n\r\nclass Authpage extends React.Component{\r\n\r\n\r\n    render(){\r\n        if (localStorage.getItem('username') !== undefined && localStorage.getItem('username') !== null){\r\n            return (\r\n                <Redirect to=\"/ws\"/>\r\n            );\r\n        }\r\n        return (\r\n            <div style={{backgroundImage: 'url(/img/bg1.png'}} className=\"responsive-background\">\r\n                <div className='title-div'>\r\n                    <span className='main-title'>Conference Management System</span>\r\n                </div>\r\n                \r\n                \r\n                <div id=\"logreg-forms\">\r\n                    {this.props.form}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Authpage;","\r\nvar ApiService = {\r\n    baseUrl: 'http://localhost:8080/api',\r\n\r\n    async __PostRequest(link, data, success, failure){\r\n        const request = {\r\n            method: 'POST',\r\n            headers: { 'Content-Type': 'application/json', 'Origin': 'http://localhost:8080' },\r\n            body: JSON.stringify(data)\r\n        }\r\n        console.log('POST on: ' + link);\r\n        console.log(data);\r\n        fetch(link, request)\r\n            .then(async response => {\r\n                const data = await response.json();\r\n                if (!response.ok){\r\n                    const error = data || response.status; // || data.message || data.error - TBD          \r\n                    failure(error);\r\n                }else{\r\n                    success(data);\r\n                }\r\n            }, async rejected => {\r\n                failure(rejected);\r\n            });\r\n    },\r\n\r\n\r\n    async __PutRequest(link, data, success, failure){\r\n        const request = {\r\n            method: 'PUT',\r\n            headers: { 'Content-Type': 'application/json', 'Origin': 'http://localhost:8080' },\r\n            body: JSON.stringify(data)\r\n        }\r\n        let putLink = link + '/update';\r\n        fetch(putLink, request)\r\n            .then(async response => {\r\n                const data = await response.json();\r\n                if (!response.ok){\r\n                    const error = data || response.status; // || data.message || data.error - TBD\r\n                    failure(error);\r\n                }else{\r\n                    success(data);\r\n                }\r\n            }, async rejected => {\r\n                failure(rejected);\r\n            });\r\n    },\r\n\r\n    async __DeleteRequestId(link, id, success, failure){\r\n        var deleteLink = link + '/' + parseInt(id);\r\n        const request = {\r\n            method: 'DELETE'\r\n        }\r\n        fetch(deleteLink, request)\r\n            .then(async response => {\r\n                const data = await response.json();\r\n                if (!response.ok){\r\n                    const error = data || response.status; // || data.message || data.error - TBD\r\n                    failure(error);\r\n                }else{\r\n                    success(data);\r\n                }\r\n            }, async rejected => {\r\n                failure(rejected);\r\n            });\r\n    },\r\n\r\n    async __DeleteRequest(link, success, failure){\r\n        const request = {\r\n            method: 'DELETE',\r\n            headers: { 'Origin': 'http://localhost:8080' }\r\n        }\r\n\r\n        fetch(link, request)\r\n            .then(async response => {\r\n                const data = await response.json();\r\n                if (!response.ok){\r\n                    failure(data || response.status);\r\n\r\n            }else{\r\n                success(data);\r\n            }\r\n        }, async rejected => {\r\n            failure(rejected);\r\n        });\r\n    },\r\n\r\n    async LogInUser(data, success, failure){\r\n        fetch(this.baseUrl+'/participant')\r\n            .then(response => response.json())\r\n            .then(users => {\r\n                if (!users.participants) failure();\r\n                return users;\r\n            })\r\n            .then(users => users.participants)\r\n            .then(users => {\r\n                var user = null;\r\n                for(var i=0; i<users.length; i++){\r\n                    if (data.password !== users[i].password) continue;\r\n                    if (data.username && data.username !== users[i].userName) continue;\r\n                    if (data.email && data.email !== users[i].email) continue;\r\n                    user = users[i];\r\n                }\r\n                if (user !== null) success(user);\r\n                    \r\n                else failure('Invalid credentials!');\r\n            });\r\n            \r\n    },\r\n\r\n    async RegisterUser(data, success, failure){\r\n        this.__PostRequest(this.baseUrl + '/participant', data, success, failure);\r\n    },\r\n\r\n    async ResetUserPassword(data, success, failure){\r\n        setTimeout(() => {\r\n            success({message: 'Check your email: ' + data.email});\r\n        }, 2500);\r\n    },\r\n\r\n    async GetUserData(id, success, failure){\r\n        fetch(this.baseUrl + '/participant/' + id)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                if (!data.participants || data.participants.length == 0) failure('No user!');\r\n                else success(data.participants[0]);\r\n            });\r\n    },\r\n\r\n    async CreateConference(data, success, failure){\r\n        this.__PostRequest(this.baseUrl + '/conference', data, success, failure);\r\n    },\r\n\r\n    async GetAllConferences(success, failure){\r\n        fetch(this.baseUrl + '/conference')\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                if (!data.conferences) failure();\r\n                else success(data.conferences);\r\n            });\r\n    },\r\n\r\n    async GetConferenceDetails(id, success, failure){\r\n        fetch(this.baseUrl + '/conference/' + id)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                if (!data.conferences || data.conferences.length == 0) failure(\"No such conference!\");\r\n                else success(data.conferences[0]);\r\n            });\r\n    },\r\n\r\n    async GetRoomDetails(id, success, failure){\r\n        fetch(this.baseUrl + '/room/' + id)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                if (!data.rooms || data.rooms.length == 0) failure(\"No such conference!\");\r\n                else success(data.rooms[0]);\r\n            });\r\n    },\r\n\r\n    async CreateRoom(data, success, failure){\r\n        this.__PostRequest(this.baseUrl + '/room', data, success, failure);\r\n    },\r\n\r\n    async DeleteRoom(id, success, failure){\r\n        this.__DeleteRequestId(this.baseUrl + '/room', id, success, failure);\r\n    },\r\n\r\n    async UpdateRoom(data, success, failure){\r\n        this.__PutRequest(this.baseUrl + '/room/update', data, success, failure);\r\n    },\r\n\r\n\r\n    async GetAllRooms(success, failure){\r\n        fetch(this.baseUrl + '/room')\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                if (!data.rooms) failure();\r\n                else success(data.rooms);\r\n            });\r\n    },\r\n\r\n    async GetAllConferenceSections(conferenceId, success, failure){\r\n        fetch(this.baseUrl + '/conference_section/')\r\n            .then(response => response.json())\r\n            .then(data => data.conferenceSections)\r\n            .then(data => {\r\n                let res = [];\r\n                for (var i = 0; i < data.length; i ++){\r\n                    if (data[i].conferenceId == conferenceId) res.push(data[i]);\r\n                }\r\n                success(res);\r\n            });\r\n    },\r\n\r\n    async CreateConferenceSection(data, success, failure){\r\n        console.log(data);\r\n        this.__PostRequest(this.baseUrl + '/conference_section', data, success, failure);\r\n    },\r\n\r\n    async DeleteConfereceSection(id, success, failure){\r\n        this.__DeleteRequest(this.baseUrl + '/conference_section/' + id, success, failure);\r\n    },\r\n\r\n    async GetPossibleUsersForChair(data, success, failure){\r\n        fetch(this.baseUrl + '/participant')\r\n            .then(response => response.json())\r\n            .then(data => success(data.participants));\r\n    },\r\n\r\n    async GetParticipantNameById(id, success, failure){\r\n        fetch(this.baseUrl + '/participant/' + id)\r\n            .then(response => response.json())\r\n            .then(data => data.participants)\r\n            .then(data => {\r\n                if (data.length == 0) failure();\r\n                else success(data[0].name);\r\n            })\r\n    },\r\n\r\n    async GetProposalDetails(id, success, failure){\r\n        fetch(this.baseUrl + '/proposal/' + id)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                if (!data.proposals || data.proposals.length == 0) failure(\"No such proposal!\");\r\n                else success(data.proposals[0]);\r\n            });\r\n    },\r\n\r\n    async CreateProposal(data, success, failure){\r\n        console.log(data);\r\n        this.__PostRequest(this.baseUrl + '/proposal', data, success, failure);\r\n    },\r\n\r\n    async UpdateProposal(data, success, failure){\r\n        console.log(data);\r\n        this.__PutRequest(this.baseUrl + '/proposal', data, success, failure);\r\n    },\r\n\r\n    async GetAllReviews(success, failure){\r\n        fetch(this.baseUrl + '/review')\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                if (!data.reviews) failure();\r\n                else success(data.reviews);\r\n            });\r\n    },\r\n\r\n      async GetAllParticipants(success, failure){\r\n        fetch(this.baseUrl + '/participant')\r\n            .then(response => response.json())\r\n            .then(data => data.participants)\r\n            .then(data => { success(data); })\r\n    },\r\n\r\n    async GetAllChairs(success, failure){\r\n        fetch(this.baseUrl + '/chair')\r\n            .then(response => response.json())\r\n            .then(data => data.chairs)\r\n            .then(data => { success(data); })\r\n    },\r\n\r\n    async GetAllReviewers(success, failure){\r\n        fetch(this.baseUrl + '/reviewer')\r\n            .then(response => response.json())\r\n            .then(data => data.reviewers)\r\n            .then(data => { success(data); })\r\n    },\r\n\r\n    async GetAllCoChairs(success, failure){\r\n        fetch(this.baseUrl + '/cochair')\r\n            .then(response => response.json())\r\n            .then(data => data.coChairs)\r\n            .then(data => { success(data); })\r\n    },\r\n\r\n    async AddChair(participantId, success, failure){\r\n        this.__PostRequest(this.baseUrl+'/chair', {participantId: participantId}, success, failure);\r\n    },\r\n\r\n    async AddCoChair(participantId, success, failure){\r\n        console.log({participantId: participantId});\r\n        this.__PostRequest(this.baseUrl+'/cochair', {participantId: participantId}, success, failure);\r\n    },\r\n\r\n    async AddReviewer(participantId, success, failure){\r\n        console.log({participantId: participantId});\r\n        this.__PostRequest(this.baseUrl+'/reviewer', {participantId: participantId}, success, failure);\r\n    },\r\n\r\n    async CreateReview(data, success, failure){\r\n        console.log(data);\r\n        this.__PostRequest(this.baseUrl + '/review', data, success, failure);\r\n    },\r\n\r\n    async GetQualifierDetails(id, success, failure){\r\n        fetch(this.baseUrl + '/qualifier/' + id)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                if (!data.qualifiers || data.qualifiers.length == 0) failure(\"No such qualifier!\");\r\n                else success(data.qualifiers[0]);\r\n            });\r\n    },\r\n\r\n    async AddProposal(data, success, failure){\r\n        this.__PostRequest(this.baseUrl + '/proposal', data, success, failure);\r\n    },\r\n\r\n    async GetAllProposals(success, failure){\r\n        fetch(this.baseUrl + '/proposal')\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                if (!data.proposals) failure(\"Bad proposals\");\r\n                else success(data.proposals);\r\n            });\r\n    },\r\n\r\n    async AddAuthor(data, success, failure){\r\n        this.__PostRequest(this.baseUrl+'/author', data, success, failure);   \r\n    }\r\n\r\n}\r\n\r\nexport default ApiService;\r\n","\r\n\r\nvar Validator = {\r\n\r\n    email(text){\r\n        const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n        return re.test(text);\r\n    },\r\n\r\n    username(text){\r\n        const re = /^(?=.{4,20}$)(?![_.])(?!.*[_.]{2})[a-zA-Z0-9._]+(?<![_.])$/;\r\n        return re.test(text);\r\n    },\r\n\r\n    password(text){\r\n        return (text.length >= 5);\r\n    },\r\n\r\n    website(text){\r\n        const re = /(https?:\\/\\/(?:www\\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\\.[^\\s]{2,}|www\\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\\.[^\\s]{2,}|https?:\\/\\/(?:www\\.|(?!www))[a-zA-Z0-9]+\\.[^\\s]{2,}|www\\.[a-zA-Z0-9]+\\.[^\\s]{2,})/;\r\n        return re.test(text);\r\n    },\r\n\r\n    name(text){\r\n        return (text.length >= 5);\r\n    }\r\n\r\n}\r\n\r\nexport default Validator;","import React from 'react';\r\nimport './Authpage.css';\r\nimport ApiService from '../ApiService';\r\nimport Validator from '../Validations';\r\nimport {Link} from 'react-router-dom';\r\n\r\nclass LoginForm extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            fields: {\r\n                user: '',\r\n                password: ''\r\n            },\r\n            userType: 'username',\r\n            errors: {\r\n                user: '',   \r\n                password: ''\r\n            },\r\n            valid: {\r\n                user: true,\r\n                password: true\r\n            },\r\n            wait: false,\r\n            logInFailed: false,\r\n            afterRegister: this.props.location && this.props.location.afterRegister\r\n        };\r\n\r\n        this.linkStyle = this.linkStyle.bind(this);\r\n        this.handleInputChange = this.handleInputChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.validateForm = this.validateForm.bind(this);\r\n\r\n        this.logInAttempt = this.logInAttempt.bind(this);\r\n        this.onLogInSuccess = this.onLogInSuccess.bind(this);\r\n        this.onLogInFailed = this.onLogInFailed.bind(this);\r\n\r\n        this.onGithubButtonClick = this.onGithubButtonClick.bind(this);\r\n        this.onGoogleButtonClick = this.onGoogleButtonClick.bind(this);\r\n    }\r\n\r\n    validateForm(){\r\n        const fields = this.state.fields;\r\n        let errors = this.state.errors;\r\n        let valid = this.state.valid;\r\n        let invalid = false;\r\n\r\n        if (fields.user.length === 0){\r\n            errors.user = 'Please insert your username or email address!';\r\n            valid.user = false;\r\n            invalid = true;\r\n        }else{\r\n            const tEmail = Validator.email(fields.user);\r\n            const tUsername = Validator.username(fields.user);\r\n            errors.user = '';\r\n            valid.user = true;\r\n            if (tUsername && !tEmail){\r\n                this.setState({userType: 'username'});\r\n            }\r\n            else if (!tUsername && tEmail){\r\n                this.setState({userType: 'email'});\r\n            }\r\n            else if (tUsername && tEmail){\r\n                //should never happen\r\n                this.setState({userType: 'username'});\r\n                console.log(3);\r\n            }\r\n            else{\r\n                errors.user = 'Enter e valid username or password!';\r\n                valid.user = false;\r\n                invalid = true;\r\n            }\r\n        }\r\n\r\n        if (fields.password.length === 0){\r\n            errors.password = 'Please enter a password!';\r\n            valid.password = false;\r\n            invalid = true;\r\n        }else{\r\n            errors.password = '';\r\n            valid.password = true;\r\n        }\r\n        this.setState({errors: errors, valid: valid});\r\n        return !invalid;\r\n    }\r\n\r\n    linkStyle(){\r\n        if (this.state.wait){\r\n            return {pointerEvents: 'none'};\r\n        }\r\n        return {};\r\n    }\r\n\r\n    handleInputChange(event){\r\n        const target = event.target;\r\n        const value = target.value;\r\n        const name = target.name;\r\n        let fields = this.state.fields;\r\n        fields[name] = value;\r\n\r\n\r\n        this.setState({\r\n            fields: fields\r\n        });\r\n    }\r\n\r\n    handleSubmit(event){\r\n        event.preventDefault();\r\n        this.setState({logInFailed: false});\r\n        if (this.validateForm()){\r\n            const fields = this.state.fields;\r\n            if (this.state.userType === 'email'){\r\n                this.logInAttempt({\r\n                    email: fields.user,\r\n                    password: fields.password\r\n                });\r\n            }else{\r\n                this.logInAttempt({\r\n                    username: fields.user,\r\n                    password: fields.password\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    logInAttempt(data){\r\n        this.setState({wait: true});\r\n        ApiService.LogInUser(data,\r\n            (success) => {this.onLogInSuccess(success)},\r\n            (failure) => {this.onLogInFailed(failure)}\r\n            );\r\n    }\r\n\r\n    onLogInSuccess(response){\r\n        console.log('Logged in successfully: ' + response.message);\r\n        this.setState({wait: false});\r\n        localStorage.setItem('username', response.userName);\r\n        localStorage.setItem('pid', response.pid);\r\n        localStorage.setItem('ts', Date.now() / 1000);\r\n        localStorage.setItem('isAdmin', (response.userName=='admin'));\r\n        localStorage.setItem('isListener', (response.listener !== null));\r\n        localStorage.setItem('isAuthor', (response.author !== null));\r\n        localStorage.setItem('isChair', (response.chair !== null));\r\n        localStorage.setItem('isCoChair', (response.coChair !== null));\r\n        localStorage.setItem('isReviewer', (response.reviewer !== null));\r\n        window.location.href = '/ws';\r\n        console.log('ha');\r\n    }\r\n\r\n    onLogInFailed(response){\r\n        console.log('Failed to log in: ' + response.error);\r\n        this.setState({wait: false, logInFailed: true});\r\n    }\r\n\r\n    onGithubButtonClick(){\r\n        console.log('Login with Github');\r\n    }\r\n\r\n    onGoogleButtonClick(){\r\n        console.log('Login with Google');\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <form className=\"form-signin\" onSubmit={this.handleSubmit} noValidate>\r\n                <h1 className=\"h3 mb-3 font-weight-normal\" style={{textAlign: 'center'}}> Sign in</h1>\r\n\r\n                {this.state.logInFailed &&\r\n                    <div className=\"alert alert-danger\" role=\"alert\">\r\n                        <strong>Invalid credentials!</strong> If you don't remember your login credentials, you can <Link to='/reset' className='alert-link d-inline'>reset your password</Link>.\r\n                    </div>\r\n                }\r\n                {this.state.afterRegister &&\r\n                    <div className=\"alert alert-success\" role=\"alert\">\r\n                        <strong>You have registered successfully!</strong> Enter your credentials below to log into the platform.\r\n                    </div>\r\n                }\r\n                <div className=\"social-login\"> \r\n                    <button className=\"btn btn-dark github-btn social-btn\" style={{marginBottom: 5}} type=\"button\" onClick={this.onGithubButtonClick}><span><i className=\"fab fa-github fa-lg\"  /> Sign in with Github</span> </button> <br/>\r\n                    <button className=\"btn google-btn social-btn\" type=\"button\" onClick={this.onGoogleButtonClick}><span><i className=\"fab fa-google fa-lg\" /> Sign in with Google</span> </button>\r\n                </div>\r\n                \r\n                <p style={{textAlign: 'center'}}> OR</p>\r\n\r\n                <div>\r\n                    <input type=\"text\" id=\"inputUser\" name=\"user\" className={\"form-control \" + (this.state.valid.user?'':'is-invalid')} placeholder=\"Username or email address\" onChange={this.handleInputChange} />\r\n                    <span className=\"invalid-feedback\" >{this.state.errors.user}</span>\r\n                </div>\r\n                <div>\r\n                    <input type=\"password\" id=\"inputPassword\" name=\"password\" className={\"form-control \" + (this.state.valid.password?'':'is-invalid')} placeholder=\"Password\" onChange={this.handleInputChange} />\r\n                    <span className=\"invalid-feedback\" >{this.state.errors.password}</span>\r\n\r\n                </div>\r\n                \r\n                \r\n                <button disabled={this.state.wait} className=\"btn btn-success w-100\" type=\"submit\"><i className=\"fas fa-sign-in-alt\"></i> Sign in</button>\r\n                <Link to='/reset' style={this.linkStyle()}>\r\n                    <span id=\"forgot_pswd\" href=\"/reset\">Forgot password?</span>\r\n                </Link>\r\n                \r\n                <hr/>\r\n                <Link to='/register' style={this.linkStyle()}>\r\n                    <button disabled={this.state.wait} className=\"btn btn-primary w-100\" type=\"button\" id=\"btn-signup\" ><i className=\"fas fa-user-plus\"></i> Sign up New Account</button>\r\n                </Link>\r\n            \r\n            </form>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default LoginForm;","import React from 'react';\r\nimport './Authpage.css';\r\nimport ApiService from '../ApiService';\r\nimport Validator from '../Validations';\r\nimport {Link, Redirect} from 'react-router-dom';\r\nimport { Alert } from '@material-ui/lab';\r\n\r\nclass RegisterForm extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            fields: {\r\n                username: '',\r\n                name: '',\r\n                affiliation: '',\r\n                webpage: '',\r\n                email: '',\r\n                password1: '',\r\n                password2: ''\r\n            },\r\n            errors: {\r\n                username: '',\r\n                name: '',\r\n                affiliation: '',\r\n                webpage: '',\r\n                email: '',\r\n                password: ''\r\n            },\r\n            valid: {\r\n                username: true,\r\n                name: true,\r\n                affiliation: true,\r\n                webpage: true,\r\n                email: true,\r\n                password: true\r\n            },\r\n            wait: false,\r\n            registrationFailed: false,\r\n            successRegistration: false\r\n        };\r\n        this.linkStyle = this.linkStyle.bind(this);\r\n        this.handleInputChange = this.handleInputChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.validateForm = this.validateForm.bind(this);\r\n\r\n        this.registerUser = this.registerUser.bind(this);\r\n        this.onRegisterSuccess = this.onRegisterSuccess.bind(this);\r\n        this.onRegisterFailed = this.onRegisterFailed.bind(this);\r\n    }\r\n\r\n    validateForm(){\r\n        let errors = this.state.errors;\r\n        let valid = this.state.valid;\r\n        const fields = this.state.fields;\r\n        let invalid = false;\r\n\r\n        \r\n        \r\n        if (Validator.username(fields.username)){\r\n            errors.username = '';\r\n            valid.username = true;\r\n        }else{\r\n            errors.username = 'Username must contain only letters, numbers and/or \"._\", must start with a letter and be at least 4 characters long!';\r\n            valid.username = false;\r\n            invalid = true;\r\n        }\r\n        \r\n        if (Validator.name(fields.name)){\r\n            errors.name = '';\r\n            valid.name = true;\r\n        }else{\r\n            errors.name = 'Your name must be at least 5 characters long!';\r\n            valid.name = false;\r\n            invalid = true;\r\n        }\r\n\r\n        if (!Validator.password(fields.password1)){\r\n            errors.password = 'Password must be at least 5 characters long!';\r\n            valid.password = false;\r\n            invalid = true;\r\n        }\r\n        else if (fields.password1 !== fields.password2){\r\n            errors.password = 'Passwords do not match!';\r\n            valid.password = false;\r\n            invalid = true;\r\n        }else{\r\n            errors.password = '';\r\n            valid.password = true;\r\n        }\r\n\r\n        if (Validator.email(fields.email)){\r\n            errors.email = '';\r\n            valid.email = true;\r\n        }else{\r\n            errors.email = 'Please enter a valid email!';\r\n            valid.email = false;\r\n            invalid = true;\r\n        }\r\n\r\n        if (fields.webpage !== '' && !Validator.website(fields.webpage)){\r\n            errors.webpage = 'Enter a valid website or leave empty!';\r\n            valid.webpage = false;\r\n            invalid = true;\r\n        }else{\r\n            errors.webpage = '';\r\n            valid.webpage = true;\r\n        }\r\n        this.setState({errors: errors});\r\n        this.setState({valid: valid});\r\n\r\n        return !invalid;\r\n    }\r\n\r\n    linkStyle(){\r\n        if (this.state.wait){\r\n            return {pointerEvents: 'none'};\r\n        }\r\n        return {};\r\n    }\r\n\r\n    handleInputChange(event){\r\n        const target = event.target;\r\n        const value = target.value;\r\n        const name = target.name;\r\n\r\n        let fields = this.state.fields;\r\n        fields[name] = value;\r\n\r\n        this.setState({fields: fields});\r\n    }\r\n\r\n    handleSubmit(event){\r\n        event.preventDefault();\r\n        if (this.validateForm()){\r\n            const fields = this.state.fields;\r\n            this.registerUser({\r\n                userName: fields.username,\r\n                email: fields.email,\r\n                password: fields.password1,\r\n                name: fields.name,\r\n                affiliation: fields.affiliation,\r\n                webpage: fields.webpage\r\n            });\r\n        }\r\n        \r\n    }\r\n\r\n    registerUser(data){\r\n        this.setState({wait: true});\r\n        ApiService.RegisterUser(data,\r\n            (success) => {this.onRegisterSuccess(success)},\r\n            (failure) => {this.onRegisterFailed(failure)}\r\n            );\r\n    }\r\n\r\n    onRegisterSuccess(response){\r\n        console.log('Register success: ' + response.message || response);\r\n        this.setState({wait: false});\r\n        this.setState({successRegistration: true});\r\n    }\r\n\r\n    onRegisterFailed(response){\r\n        console.log('Register failed: ' + response.error || response);\r\n        alert('Register failed: ' + response.error || response);\r\n        this.setState({wait: false, registrationFailed: true});\r\n    }\r\n\r\n    render(){\r\n        if (this.state.successRegistration){\r\n            return (\r\n                <Redirect\r\n                    to={{\r\n                        pathname: \"/\",\r\n                        afterRegister: true\r\n                    }}\r\n                />\r\n            )\r\n        }\r\n        return (\r\n            <form className=\"form-signup\" onSubmit={this.handleSubmit} noValidate>\r\n                {this.state.registrationFailed &&\r\n                    <div className=\"alert alert-danger\" role=\"alert\">\r\n                        <strong>Registration failed!</strong> There might be a problem on the server. Try again later or contact the administrator!\r\n                    </div>\r\n                }\r\n\r\n                <div className=\"form-group\">\r\n                    <input type=\"text\" id=\"user-username\" name=\"username\" className={\"form-control \" + (this.state.valid.username?'':'is-invalid')} placeholder=\"Username\" onChange={this.handleInputChange} />\r\n                    <span className=\"invalid-feedback\" >{this.state.errors.username}</span>\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <input type=\"email\" id=\"user-email\" name=\"email\" className={\"form-control \" + (this.state.valid.email?'':'is-invalid')} placeholder=\"Email address\" onChange={this.handleInputChange} />\r\n                    <span className=\"invalid-feedback\" >{this.state.errors.email}</span>\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <input type=\"password\" id=\"user-pass\" name=\"password1\" className={\"form-control \" + (this.state.valid.password?'':'is-invalid')} placeholder=\"Password\" onChange={this.handleInputChange} />\r\n                    <input type=\"password\" id=\"user-repeatpass\" name=\"password2\" className={\"form-control \" + (this.state.valid.password?'':'is-invalid')} placeholder=\"Repeat Password\" onChange={this.handleInputChange}/>\r\n                    <span className=\"invalid-feedback\" >{this.state.errors.password}</span>\r\n                </div>\r\n                \r\n                <div className=\"form-group\">\r\n                    <input type=\"text\" id=\"user-name\" name=\"name\" className={\"form-control \" + (this.state.valid.name?'':'is-invalid')} placeholder=\"Full name\" onChange={this.handleInputChange} />\r\n                    <span className=\"invalid-feedback\" >{this.state.errors.name}</span>\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <input type=\"text\" id=\"user-affiliation\" name=\"affiliation\" className={\"form-control \" + (this.state.valid.affiliation?'':'is-invalid')} placeholder=\"Affiliation\" onChange={this.handleInputChange} />\r\n                    <span className=\"invalid-feedback\" >{this.state.errors.affiliation}</span>\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <input type=\"text\" id=\"user-webpage\" name=\"webpage\" className={\"form-control \" + (this.state.valid.webpage?'':'is-invalid')} placeholder=\"Webpage\" onChange={this.handleInputChange} />\r\n                    <span className=\"invalid-feedback\" >{this.state.errors.webpage}</span>\r\n                </div>\r\n                \r\n\r\n                <button disabled={this.state.wait} className=\"btn btn-primary w-100\" type=\"submit\"><i className=\"fas fa-user-plus\"></i> Sign Up</button>\r\n                <Link to='/' style={this.linkStyle()}>\r\n                    <span id=\"cancel_signup\"><i className=\"fas fa-angle-left\"></i> Back</span>\r\n                </Link>\r\n                \r\n            </form>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default RegisterForm;","import React from 'react';\r\nimport './Authpage.css';\r\nimport ApiService from '../ApiService';\r\nimport Validator from '../Validations';\r\nimport {Link} from 'react-router-dom';\r\n\r\nclass ResetForm extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            fields: {\r\n                email: ''\r\n            },\r\n            errors: {\r\n                email: ''\r\n            },\r\n            valid: {\r\n                email: true\r\n            },\r\n            wait: false\r\n        };\r\n        this.linkStyle = this.linkStyle.bind(this);\r\n        this.handleInputChange = this.handleInputChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.validateForm = this.validateForm.bind(this);\r\n\r\n        this.resetUserPassword = this.resetUserPassword.bind(this);\r\n        this.onResetPasswordSuccess = this.onResetPasswordSuccess.bind(this);\r\n        this.onResetPasswordFailed = this.onResetPasswordFailed.bind(this);   \r\n\r\n    }\r\n\r\n    formChanged(form){\r\n        if (this.props.onFormChanged){\r\n            this.props.onFormChanged(form);\r\n        }\r\n    }\r\n\r\n    validateForm(){\r\n        const fields = this.state.fields;\r\n        let errors = this.state.errors;\r\n        let valid = this.state.valid;\r\n        let invalid = false;\r\n\r\n        if (Validator.email(fields.email)){\r\n            errors.email = '';\r\n            valid.email = true;\r\n            \r\n        }else{\r\n            errors.email = 'Please enter a valid email!';\r\n            valid.email = false;\r\n            invalid = true;\r\n        }\r\n\r\n        this.setState({errors: errors, valid: valid});\r\n        return !invalid;\r\n    }\r\n\r\n    linkStyle(){\r\n        if (this.state.wait){\r\n            return {pointerEvents: 'none'};\r\n        }\r\n        return {};\r\n    }\r\n\r\n    handleInputChange(event){\r\n        let fields = this.state.fields;\r\n        fields['email'] = event.target.value;\r\n        this.setState({fields: fields});\r\n    }\r\n\r\n    handleSubmit(event){\r\n        event.preventDefault();\r\n        if (this.validateForm()){\r\n            this.resetUserPassword(this.state.fields);\r\n        }\r\n    }\r\n\r\n    resetUserPassword(data){\r\n        this.setState({wait: true});\r\n        ApiService.ResetUserPassword(data,\r\n            (success) => {this.onResetPasswordSuccess(success)},\r\n            (failure) => {this.onResetPasswordFailed(failure)}\r\n            );\r\n    }\r\n\r\n    onResetPasswordSuccess(response){\r\n        console.log('Reset success: ' + response.message);\r\n        this.setState({wait: false});\r\n    }\r\n\r\n    onResetPasswordFailed(response){\r\n        console.log('Reset failed: ' + response.error);\r\n        this.setState({wait: false});\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <form className=\"form-reset\" onSubmit={this.handleSubmit} noValidate>\r\n                <div className=\"form-group\">\r\n                    <input type=\"email\" name=\"email\" id=\"resetEmail\" className={\"form-control \" + (this.state.valid.email?'':'is-invalid')} placeholder=\"Email address\" onChange={this.handleInputChange}/>\r\n                    <span className=\"invalid-feedback\" >{this.state.errors.email}</span>\r\n                </div>\r\n                <button disabled={this.state.wait} className=\"btn btn-primary w-100\" type=\"submit\">Reset Password</button>\r\n                <Link to=\"/\" style={this.linkStyle()}>\r\n                    <span id=\"cancel_reset\" ><i className=\"fas fa-angle-left\"></i>Back</span>\r\n                </Link>\r\n            </form>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default ResetForm;","import React from \"react\";\r\nexport default class Error403 extends React.Component {\r\n\r\n    render(){\r\n        return (\r\n            <div className=\"error-page\">\r\n                <h2 className=\"headline text-danger\">405</h2>\r\n                <div className=\"error-content\">\r\n                    <h3><i className=\"fas fa-exclamation-triangle text-danger\" /> Oops! Forbidden place.</h3>\r\n                    <p>\r\n                        You do not have enough permissions to be on this page.\r\n                        Meanwhile, you may <a href=\"/ws\">return to dashboard</a> or contact the administrator.\r\n                    </p>\r\n                </div>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n","import React from 'react';\r\nimport ApiService from '../../../ApiService';\r\nimport Error403 from '../errors/Error403';\r\n\r\nexport default class ConferenceFormsCreate extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            fields: {\r\n                title: '',\r\n                description: '',\r\n                startDate: '',\r\n                endDate: '',\r\n                deadline: ''\r\n            },\r\n            error: null,\r\n            success: null\r\n        }\r\n\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.onCreateFailed = this.onCreateFailed.bind(this);\r\n        this.onCreateSuccess = this.onCreateSuccess.bind(this);\r\n        \r\n    }\r\n\r\n    componentDidMount(){\r\n        const s = document.createElement('script');\r\n        s.type = 'text/javascript';\r\n        s.async = true;\r\n        s.innerHTML = '$(\"#add-start-date\").inputmask(\"mm/dd/yyyy hh:mm\", { \"placeholder\": \"mm/dd/yyyy hh:mm\" });' +\r\n                      '$(\"#add-end-date\").inputmask(\"mm/dd/yyyy hh:mm\", { \"placeholder\": \"mm/dd/yyyy hh:mm\" });' +\r\n                      '$(\"#add-deadline\").inputmask(\"mm/dd/yyyy hh:mm\", { \"placeholder\": \"mm/dd/yyyy hh:mm\" })';\r\n        \r\n        document.body.appendChild(s);\r\n        \r\n    }\r\n\r\n    handleSubmit(event){\r\n        event.preventDefault();\r\n        const startDate = document.getElementById('add-start-date').value;\r\n        const endDate = document.getElementById('add-end-date').value;\r\n        const deadline = document.getElementById('add-deadline').value;\r\n        const title = document.getElementById('add-title').value;\r\n        const desc = document.getElementById('add-description').value;\r\n        let fields = this.state.fields;\r\n        fields.title = title;\r\n        fields.startDate = startDate;\r\n        fields.endDate = endDate;\r\n        fields.description = desc;\r\n        fields.deadline = deadline;\r\n        this.setState({fields: fields});\r\n\r\n        console.log(this.state.fields);\r\n        this.createConferenceRequest({\r\n            name: this.state.fields.title,\r\n            timeStart: Date.parse(this.state.fields.startDate),\r\n            timeEnd: Date.parse(this.state.fields.endDate),\r\n            deadline: Date.parse(this.state.fields.deadline),\r\n            program: this.state.fields.description\r\n        });\r\n\r\n    }\r\n\r\n    createConferenceRequest(data){\r\n        ApiService.CreateConference(data, this.onCreateSuccess, this.onCreateFailed)\r\n    }\r\n\r\n    onCreateSuccess(response){\r\n        this.setState({success: \"You have successfully created a conference!\"});\r\n    }\r\n\r\n    onCreateFailed(response){\r\n        this.setState({error: \"Conference creation failed! Error: \" + response.message || response});\r\n    }\r\n\r\n    render(){\r\n        if (!(localStorage.getItem('isAdmin') == \"true\")){\r\n            return (\r\n                <Error403/>\r\n            )\r\n        }\r\n        return (\r\n            <div className=\"card card-danger\">\r\n                <form onSubmit={this.handleSubmit} noValidate>\r\n                    <div className=\"card-header\">\r\n                        <h3 className=\"card-title\">Create a conference</h3>\r\n                    </div>\r\n                    <div className=\"card-body\">\r\n                        {this.state.error &&\r\n                            <div className=\"alert alert-danger\" role=\"alert\">\r\n                                {this.state.error}\r\n                            </div>\r\n                        }\r\n                        {this.state.success &&\r\n                            <div className=\"alert alert-success\" role=\"alert\">\r\n                                {this.state.success}\r\n                            </div>\r\n                        }\r\n                        \r\n                        <div className=\"form-group\">\r\n                            <label>Title:</label>\r\n                            <div className=\"input-group\">\r\n                                <div className=\"input-group-prepend\">\r\n                                    <span className=\"input-group-text\"><i className=\"fas fa-feather\"></i></span>\r\n                                </div>\r\n                                <input id=\"add-title\" name=\"title\" type=\"text\" className=\"form-control\"/>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <label>Start date:</label>\r\n                            <div className=\"input-group\">\r\n                                <div className=\"input-group-prepend\">\r\n                                    <span className=\"input-group-text\"><i className=\"fas fa-calendar-alt\"></i></span>\r\n                                </div>\r\n                                <input name=\"startDate\" type=\"text\" id=\"add-start-date\" className=\"form-control\" data-inputmask-alias=\"datetime\" data-inputmask-inputformat=\"mm/dd/yyyy HH:MM\" data-mask/>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <label>End date:</label>\r\n                            <div className=\"input-group\">\r\n                                <div className=\"input-group-prepend\">\r\n                                    <span className=\"input-group-text\"><i className=\"fas fa-calendar-alt\"></i></span>\r\n                                </div>\r\n                                <input name=\"endDate\" type=\"text\" id=\"add-end-date\" className=\"form-control\" blabla=\"123\" data-inputmask-alias=\"datetime\" data-inputmask-inputformat=\"mm/dd/yyyy HH:MM\" data-mask inputMode=\"numeric\"/>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <label>Deadline:</label>\r\n                            <div className=\"input-group\">\r\n                                <div className=\"input-group-prepend\">\r\n                                    <span className=\"input-group-text\"><i className=\"fas fa-calendar-alt\"></i></span>\r\n                                </div>\r\n                                <input name=\"deadline\" type=\"text\" id=\"add-deadline\" className=\"form-control\" blabla=\"123\" data-inputmask-alias=\"datetime\" data-inputmask-inputformat=\"mm/dd/yyyy HH:MM\" data-mask inputMode=\"numeric\"/>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <label>Description:</label>\r\n                            <textarea id=\"add-description\" name=\"description\" className=\"form-control\" rows=\"3\" placeholder=\"Enter...\"/>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"card-footer\">\r\n                        <button type=\"submit\" className=\"btn btn-primary\">Create</button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport ConferenceFormsCreate from './ConferenceFormsCreate';\r\nimport ConferenceFormsJoin from './ConferenceFormsJoin';\r\n\r\n\r\nexport default class ConferenceForms extends React.Component{\r\n    componentDidMount(){\r\n        const s = document.createElement('script');\r\n        s.type = 'text/javascript';\r\n        s.async = true;\r\n        s.innerHTML = '$(\"#add-start-date\").inputmask(\"dd/mm/yyyy\", { \"placeholder\": \"dd/mm/yyyy\" });' +\r\n                      '$(\"#add-end-date\").inputmask(\"dd/mm/yyyy\", { \"placeholder\": \"dd/mm/yyyy\" })';\r\n        \r\n        document.body.appendChild(s);\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <div>\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-6\">\r\n                        <ConferenceFormsCreate/>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\n\r\n\r\nexport default class ConferenceFormsJoin extends React.Component{\r\n \r\n\r\n    render(){\r\n        return (\r\n            <div className=\"card card-danger\">\r\n                <div className=\"card-header\">\r\n                    <h3 className=\"card-title\">Join a conference</h3>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                    ...\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport moment from 'moment';\r\n\r\n\r\nexport default class ConferenceViewTableItem extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.conferenceId = props.conferenceId;\r\n        this.order = props.order || \"1.\";\r\n        this.title = props.name || \"Untitled\";\r\n        this.createdOn = props.createdOn || \"unknown\";\r\n        this.chairPicture = props.chairPicture || \"adminlte/dist/img/user_default.jpg\";\r\n        this.chairName = props.chairName || \"Unknown\";\r\n        this.startDate = props.timeStart?moment(props.timeStart).format('YYYY-MM-DD HH:MM'):\"Unknown\";\r\n        this.endDate = props.timeEnd?moment(props.timeEnd).format('YYYY-MM-DD HH:MM'):\"Unknown\";\r\n        this.deadline = props.deadline?moment(props.deadline).format('YYYY-MM-DD HH:MM'):\"Unknown\";\r\n        this.timeLeft = '';\r\n        this.timeDone = 0;\r\n\r\n\r\n        let startDateUtc = Date.parse(this.startDate);\r\n        let endDateUtc = Date.parse(this.endDate);\r\n        let deadlineUtc = Date.parse(this.deadline);\r\n\r\n\r\n        if (!isNaN(startDateUtc) && !isNaN(deadlineUtc)){\r\n            let now = Date.now();\r\n            if (now >= startDateUtc && now <= deadlineUtc){\r\n                this.timeDone = (now-startDateUtc) / (deadlineUtc - startDateUtc) * 100;\r\n                let difSecs = Math.floor((deadlineUtc - now)/1000);\r\n                let d = Math.floor(Math.floor(Math.floor(difSecs/60)/60)/24)%24;\r\n                let h = Math.floor(Math.floor(difSecs/60)/60)%60;\r\n                let m = Math.floor(difSecs/60)%60;\r\n                let s = difSecs % 60;\r\n                let twodig = function(v){\r\n                    if (v===0) return '00';\r\n                    if (v<10) return '0'+v;\r\n                    return v;\r\n                }\r\n                this.timeLeft = twodig(d)+'d '+twodig(h)+'h '+twodig(m)+'m '+twodig(s)+'s Left';\r\n            }else if (now >= startDateUtc && now > deadlineUtc){\r\n                this.timeDone = 100;\r\n                this.timeLeft = 'Finished!';\r\n            }\r\n            else{\r\n                this.timeDone = 0;\r\n                this.timeLeft = 'Has not started yet!';\r\n            }\r\n        }\r\n\r\n        this.possibleStatus = {\r\n            'bidding': {title: 'Bidding', className: 'bg-info'},\r\n            'review': {title: 'In review', className: 'bg-warning'},\r\n            'closed': {title: 'Closed', className: 'bg-danger'} \r\n        }\r\n        this.status = this.possibleStatus[props.status] || this.possibleStatus['bidding'];\r\n        this.canView = (props.canView!==undefined?props.canView:true);\r\n        this.canEdit = (props.canEdit!==undefined?props.canEdit:false);\r\n        this.canDelete = (props.canDelete!==undefined?props.canDelete:false);\r\n\r\n        this.canSubmit = (props.canSubmit!==undefined?props.canSubmit&&Date.now() < deadlineUtc:false);\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <tr>\r\n                <td>{this.order}</td>\r\n                <td>\r\n                    <a href={\"/ws/conference/view/\" + this.conferenceId}>{this.title}</a>\r\n                </td>\r\n                <td>\r\n                    <div className=\"list-inline\">\r\n                        <div key=\"avatar\" className=\"list-inline-item\">\r\n                            <img alt=\"Avatar\" style={{borderRadius:'50%',display:'inline',width:'2.5rem'}} src={this.chairPicture}></img>\r\n                        </div>\r\n                        <div key=\"name\" className=\"list-inline-item\">\r\n                            <a href=\"/ws/profile/1\">Admin</a>\r\n                        </div>\r\n                    </div>\r\n                </td>\r\n                <td>{this.startDate}</td>\r\n                <td>{this.endDate}</td>\r\n                <td className=\"project_progress\">\r\n                    <div className=\"progress progress-sm\">\r\n                        <div className=\"progress-bar bg-green\" style={{width:this.timeDone+'%'}} role=\"progressbar\" aria-valuenow={this.timeDone} aria-valuemin=\"0\" aria-valuemax=\"100\"/>              \r\n                    </div>\r\n                    <small>{this.timeLeft}</small>\r\n                </td>\r\n                <td>{this.deadline}</td>\r\n                <td>        \r\n                    <span className={\"badge \" + this.status.className}>{this.status.title}</span>\r\n                </td>\r\n                <td className=\"project-actions\" key={this.order}>\r\n                    {this.canView &&\r\n                        <button className=\"btn btn-primary btn-sm\" style={{marginRight:'3px'}} onClick={() => {window.location.href=\"/ws/conference/view/\" + this.conferenceId}}>\r\n                            <i className=\"fas fa-folder\"/>\r\n                            View\r\n                        </button>\r\n                    }\r\n                    {this.canEdit &&\r\n                        <button className=\"btn btn-info btn-sm\" style={{marginRight:'3px'}}>\r\n                            <i className=\"fas fa-pencil-alt\"/>\r\n                            Edit\r\n                        </button>\r\n                    }\r\n                    {this.canDelete && \r\n                        <button className=\"btn btn-danger btn-sm\" style={{marginRight:'3px'}}>\r\n                            <i className=\"fas fa-trash\"/>\r\n                            Delete\r\n                        </button>\r\n                    }\r\n                    {this.canSubmit &&\r\n                    <button className=\"btn btn-info btn-sm\" style={{marginRight:'3px'}} onClick={event =>  window.location.href='../ws/paper/create'}>\r\n                        <i className=\"fas fa-file-upload\"/>\r\n                        Submit\r\n                    </button>\r\n                    }\r\n                </td>\r\n            </tr>\r\n            \r\n        )\r\n    }\r\n}\r\n","import React from 'react';\r\nimport ConferenceViewTableItem from './ConferenceViewTableItem';\r\n\r\n\r\nexport default class ConferenceViewTable extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        \r\n        this.state = {\r\n            data: props.data || []\r\n        }\r\n\r\n    }\r\n\r\n    render(){\r\n        let order = 0;\r\n        let tableItems = this.state.data.map(d => {\r\n            order++;\r\n            return <ConferenceViewTableItem key={d.conferenceId} {...d} order={order+'.'}/>\r\n        });\r\n\r\n        return (\r\n            <table className=\"table table-stripped\">\r\n                <thead>\r\n                    <tr>\r\n                        <th style={{width:\"1%\"}}>#</th>\r\n                        <th style={{width:'15%'}}>Title</th>\r\n                        <th style={{width:'10%'}}>Created By</th>\r\n                        <th style={{width:'10%'}}>Start date</th>\r\n                        <th style={{width:'10%'}}>End date</th>\r\n                        <th style={{width:'20%'}}>Time left</th>\r\n                        <th style={{width:'13%'}}>Deadline</th>\r\n                        <th style={{width:\"40px\"}}>Status</th>\r\n                        <th style={{width:'30%'}}></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {tableItems}\r\n                </tbody>\r\n            </table>\r\n            \r\n        )\r\n    }\r\n}\r\n","import React from 'react';\r\nimport ConferenceViewTable from './ConferenceViewTable';\r\nimport ApiService from '../../../ApiService';\r\n\r\n\r\nexport default class ConferenceView extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            data: [],\r\n            fetching: true\r\n        }\r\n\r\n    }\r\n\r\n    getData(){\r\n        ApiService.GetAllConferences(data => {\r\n            this.setState({data: data, fetching: false});\r\n        }, error => {\r\n            //alert('Failed getting conferences! Error: ' + (error.message || error));\r\n        });\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.getData();\r\n    }\r\n\r\n    render(){\r\n        if (this.state.fetching){\r\n            return (\r\n                <span>Fetching data...</span>\r\n            )\r\n        }\r\n        return (\r\n            <div className=\"row\">\r\n                <div className=\"\">\r\n                    <div className=\"card\">\r\n                        <div className=\"card-header\">\r\n                            <h3 className=\"card-title\">Conferences</h3>\r\n                        </div>\r\n                        <div className=\"card-body\">\r\n                            <ConferenceViewTable data={this.state.data}/>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            \r\n        )\r\n    }\r\n}\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nexport default class ContentHeader extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.title = props.title || 'Unnamed page';\r\n        this.hierarchy = props.hierarchy || [{ name: this.title }];\r\n    }\r\n\r\n    render(){\r\n        let hierarchyItems = this.hierarchy.map(page => {\r\n            return <li key={page.name} className=\"breadcrumb-item\"><Link to={page.to}>{page.name}</Link></li>\r\n            \r\n        });\r\n        hierarchyItems.push(<li key={this.title} className=\"breadcrumb-item active\">{this.title}</li>)\r\n        return (\r\n            <section className=\"content-header\">\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"row mb-2\">\r\n                    <div className=\"col-sm-6\">\r\n                        <h1>{ this.title }</h1>\r\n                    </div>\r\n                    <div className=\"col-sm-6\">\r\n                        <ol className=\"breadcrumb float-sm-right\">\r\n                            { hierarchyItems }\r\n                        </ol>\r\n                    </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport ContentHeader from './ContentHeader';\r\n\r\n\r\nexport default class Content extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.title = props.title;\r\n        this.hierarchy = props.hierarchy;\r\n        this.content = props.content;\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <div className=\"content-wrapper\">\r\n                <ContentHeader title={this.title} hierarchy={this.hierarchy}/>\r\n                <section className=\"content\">\r\n                    <div className=\"container-fluid\">\r\n                        { this.content }\r\n                    </div>\r\n                </section>\r\n            </div>\r\n\r\n\r\n        )\r\n    }\r\n}","import React from 'react';\r\n\r\n\r\nexport default class ProfileAbout extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            info: props.info || {}\r\n        }\r\n    }\r\n\r\n    render(){\r\n        let infoList = [\r\n            { name: 'affiliation', title: 'Affiliation', icon: 'briefcase' },\r\n            { name: 'webpage', title: 'webpage', icon: 'globe' },\r\n            { name: 'contact', title: 'Contact', icon: 'envelope' }\r\n        ];\r\n        \r\n        let infoItems = infoList.filter(info => {\r\n            return this.state.info[info.name] !== undefined;\r\n        }).map(info => {\r\n            return (\r\n                <div key={info.name}>\r\n                    <strong><i className={\"fas fa-\" + info.icon + \" mr-1\"} /> {info.title}</strong>\r\n                    <p className=\"text-muted\">\r\n                        { this.state.info[info.name] }\r\n                    </p>\r\n                    <hr />\r\n                </div>\r\n            )\r\n        });\r\n        \r\n\r\n\r\n        return (\r\n            <div className=\"card card-primary\">\r\n                <div className=\"card-header\">\r\n                    <h3 className=\"card-title\">About</h3>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                    { infoItems }\r\n                </div>\r\n            </div>\r\n\r\n\r\n        )\r\n    }\r\n}","import React from 'react';\r\n\r\n\r\nexport default class ProfileMain extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n\r\n        let rolesName = {\r\n            'chair': {title: 'Chair', importance: 6},\r\n            'reviewer': {title: 'Reviewer', importance: 4},\r\n            'admin': {title: 'Administrator', importance: 7},\r\n            'cochair': {title: 'Co Chair', importance: 5},\r\n            'listener': {title: 'Listener', importance: 2},\r\n            'author': {title: 'Author', importance: 3},\r\n            'participant': {title: 'Participant', importance: 1},\r\n        }\r\n        let rolesText = \"\"\r\n        props.roles.map(role => {\r\n            if (rolesText !== \"\") rolesText += \", \";\r\n            rolesText += (rolesName[role] ? rolesName[role].title : 'Participant');\r\n        });\r\n\r\n\r\n\r\n        this.state = {\r\n            picture: props.picture || \"adminlte/dist/img/user_default.jpg\",\r\n            name: props.name || \"Unnamed user\",\r\n            roles: rolesText,\r\n            stats: {\r\n                joinedDate: props.stats.joinedDate || \"unknown\",\r\n                stats1: props.stats.stats1 || 0,\r\n                stats2: props.stats.stats2 || 0\r\n            },\r\n            yourProfile: props.yourProfile || false\r\n\r\n        }\r\n\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <div className=\"card card-primary card-outline\">\r\n                <div className=\"card-body box-profile\">\r\n                    <div className=\"text-center\">\r\n                        <img className=\"profile-user-img img-fluid img-circle\" src={this.state.picture} alt=\"\"/>\r\n                    </div>\r\n                    <h3 className=\"profile-username text-center\">{this.state.name}</h3>\r\n                    <p className=\"text-muted text-center\">{this.state.roles}</p>\r\n                    <ul className=\"list-group list-group-unbordered mb-3\">\r\n                        <li className=\"list-group-item\">\r\n                            <b>Joined on </b> <span className=\"float-right\">{this.state.stats.joinedDate}</span>\r\n                        </li>\r\n                    </ul>\r\n                    {this.state.yourProfile && \r\n                        <a href=\"/ws/profile\" className=\"btn btn-primary btn-block\"><b>Edit profile</b></a>\r\n                    }  \r\n                </div>\r\n            </div>\r\n\r\n        )\r\n    }\r\n}","import React from 'react';\r\n\r\n\r\nexport default class ProfileSettings extends React.Component{\r\n\r\n    render(){\r\n        return (\r\n            <div>\r\n                Settings\r\n            </div>\r\n\r\n        )\r\n    }\r\n}","import React from 'react';\r\n\r\n\r\nexport default class ProfileTimeline extends React.Component{\r\n\r\n    render(){\r\n        return (\r\n            <div>\r\n                Timeline\r\n            </div>\r\n\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport ProfileAbout from './ProfileAbout';\r\nimport ProfileMain from './ProfileMain';\r\nimport ProfileTabsView from './ProfileTabsView';\r\nimport ApiService from '../../ApiService';\r\nimport { withRouter } from 'react-router';\r\n\r\n\r\nclass Profile extends React.Component{\r\n\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            picture: \"adminlte/dist/img/user_default.jpg\",\r\n            name: \"\",\r\n            userInfo: {\r\n                affiliation: \"\",\r\n                webpage: \"\",\r\n                contact: \"\",\r\n            },\r\n            userStats:{\r\n                joinedDate: \"30 May 2021\",\r\n                stats1: 500,\r\n                stats2: 13287\r\n            },\r\n            roles: [],\r\n            yourProfile: true,\r\n            fetching: true\r\n        }\r\n    }\r\n    componentDidMount(){\r\n        this.getData();\r\n\r\n    }\r\n    getData(){\r\n        let id = this.props.match.params.id || localStorage.getItem('pid');\r\n        if (this.props.match.params.id) this.setState({yourProfile: false});\r\n        ApiService.GetUserData(id, data => {\r\n            let roles = [];\r\n            if (data.userName == 'admin') roles.push('admin');\r\n            if (data.reviewer !== null) roles.push('reviewer');\r\n            if (data.chair !== null) roles.push('chair');\r\n            if (data.coChair !== null) roles.push('cochair');\r\n            if (data.author !== null) roles.push('author');\r\n            if (data.listener !== null) roles.push('listener');\r\n            if (roles.length == 0) roles.push('participant');\r\n            this.setState({\r\n                name: data.name || this.state.name,\r\n                userInfo: {\r\n                    affiliation: data.affiliation || this.state.userInfo.affiliation,\r\n                    webpage: data.webpage || this.state.userInfo.webpage,\r\n                    contact: data.email || this.state.userInfo.contact\r\n                },\r\n                roles: roles,\r\n                fetching: false\r\n            });\r\n        }, failure => {alert(failure.message || failure)});\r\n    }\r\n\r\n    render(){\r\n        if (this.state.fetching){\r\n            return (\r\n                <span>Fetching data...</span>\r\n            )\r\n        }\r\n        return (\r\n            <div className=\"row\">\r\n                <div className=\"col-md-3\">\r\n                    <ProfileMain name={this.state.name} roles={this.state.roles} stats={this.state.userStats} yourProfile={this.state.yourProfile}/>\r\n                    <ProfileAbout info={this.state.userInfo}/>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(Profile)","import React from 'react';\r\nimport ProfileSettings from './ProfileSettings';\r\nimport ProfileTimeline from './ProfileTimeline';\r\n\r\n\r\nexport default class ProfileTabsView extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            activeTab: 'timeline'\r\n        }\r\n\r\n        this.onTabLinkClick = this.onTabLinkClick.bind(this);\r\n    }\r\n\r\n    linkClassName(id){\r\n        return (this.state.activeTab === id?'nav-link active':'nav-link');\r\n    }\r\n\r\n    tabClassName(id){\r\n        return (this.state.activeTab === id?'tab-pane active':'tab-pane');\r\n    }\r\n\r\n    onTabLinkClick(event){\r\n        this.setState({activeTab: event.target.id.replace('link-', '')});\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <div className=\"card\">\r\n                <div className=\"card-header p-2\">\r\n                    <ul className=\"nav nav-pills\">\r\n                        <li className=\"nav-item\"><button className={this.linkClassName('timeline')} onClick={this.onTabLinkClick} id=\"link-timeline\" data-toggle=\"tab\">Timeline</button></li>\r\n                        <li className=\"nav-item\"><button className={this.linkClassName('settings')} onClick={this.onTabLinkClick} id=\"link-settings\" data-toggle=\"tab\">Settings</button></li>\r\n                    </ul>\r\n                </div>\r\n\r\n                <div className=\"card-body\">\r\n                    <div className=\"tab-content\">\r\n                        <div className={this.tabClassName('timeline')} id=\"tab-timeline\">\r\n                            <ProfileTimeline/>\r\n                        </div>\r\n                        <div className={this.tabClassName('settings')} id=\"tab-settings\">\r\n                            <ProfileSettings/>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nexport default class SidebarButton extends React.Component{\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.name = props.name || 'undefined';\r\n        this.iconClass = props.iconClass || 'fa-tachometer-alt';\r\n        this.to = props.to || '#';\r\n        this.children = props.children || null;\r\n\r\n        this.state = {\r\n            badge: {\r\n                type: props.badgetype || 'info',\r\n                text: props.badgetext || ''\r\n            }\r\n        }\r\n    }\r\n\r\n    setBadge(text, type){\r\n        let badge = this.state.badge;\r\n        if (text){\r\n            badge.text = text;\r\n        }\r\n        if (type){\r\n            badge.type = type;\r\n        }\r\n        this.setState({badge: badge});\r\n    }\r\n\r\n    render(){\r\n        let childButtons = null;\r\n        if (this.children){\r\n            childButtons = this.children.map(child => {\r\n                return {\r\n                    key: child.key || 0,\r\n                    name: child.name || 'undefined',\r\n                    to: child.to || '#',\r\n                    type: (child.type?('text-'+child.type):'')\r\n                }\r\n            }).map(child => \r\n                <li key={child.key} className=\"nav-item\">\r\n                    <Link to={child.to} className=\"nav-link\">\r\n                        <i className={\"far fa-circle \" + child.type + \" nav-icon\"}></i>\r\n                        <p>{child.name}</p>\r\n                    </Link>\r\n                </li>  \r\n            ); \r\n        }\r\n\r\n        return (\r\n            <li className=\"nav-item\">\r\n                <Link to={ this.to } className=\"nav-link\">\r\n                    <i className={\"nav-icon fas \" + this.iconClass}></i>\r\n                    <p>\r\n                        { this.name }\r\n                        { this.children &&\r\n                            <i className=\"right fas fa-angle-left\"></i>\r\n                        }\r\n                        <span className={\"badge badge-\" + this.state.badge.type + \" right\"}>{ this.state.badge.text }</span>\r\n                    </p>\r\n                </Link>\r\n                { this.children && \r\n                    <ul className=\"nav nav-treeview\">\r\n                        { childButtons }\r\n                    </ul>\r\n                }\r\n                \r\n            </li>\r\n\r\n        )\r\n    }\r\n}","import React from 'react';\r\n\r\n\r\nexport default class SidebarHeader extends React.Component{\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.text = props.text || 'undefined';\r\n    }\r\n\r\n    render(){\r\n\r\n        return (\r\n            <li className=\"nav-header\">{ this.text }</li>\r\n        )\r\n    }\r\n}","import React from 'react';\r\n\r\n\r\nexport default class SidebarSearch extends React.Component{\r\n\r\n    render(){\r\n        return (\r\n            <div className=\"form-inline\">\r\n                <div className=\"input-group\" data-widget=\"sidebar-search\">\r\n                    <input className=\"form-control form-control-sidebar\" type=\"search\" placeholder=\"Search\" aria-label=\"Search\" />\r\n                    <div className=\"input-group-append\">\r\n                    <button className=\"btn btn-sidebar\">\r\n                        <i className=\"fas fa-search fa-fw\" />\r\n                    </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nexport default class SidebarUser extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            picture: \"adminlte/dist/img/\" + (this.props.picture || \"user_default.jpg\"),\r\n            name: this.props.name || \"Undefined\"\r\n        }\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <div className=\"user-panel mt-3 pb-3 mb-3 d-flex\">\r\n                <div className=\"image\">\r\n                    <img src={this.state.picture} className=\"img-circle elevation-2\" alt=\"profile\" />\r\n                </div>\r\n                <div className=\"info\">\r\n                    <Link to=\"/ws/profile\">\r\n                        <span className=\"d-block\">{this.state.name}</span>\r\n                    </Link>\r\n                    \r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport SidebarButton from './SidebarButton';\r\nimport SidebarHeader from './SidebarHeader';\r\nimport SidebarSearch from './SidebarSearch';\r\nimport SidebarUser from './SidebarUser';\r\n\r\n\r\nexport default class Sidebar extends React.Component{\r\n\r\n    render(){\r\n\r\n        return (\r\n\r\n            <aside className=\"main-sidebar sidebar-dark-primary elevation-4\">\r\n                {/* Brand Logo */}\r\n                <Link to=\"/ws\">\r\n                    <div className=\"brand-link\">\r\n                        <img src={process.env.PUBLIC_URL + \"/adminlte/dist/img/AdminLTELogo.png\"} alt=\"CMS\" className=\"brand-image img-circle elevation-3\" style={{opacity: '.8'}} />\r\n                        <span className=\"brand-text font-weight-light\">CMS Workstation</span>\r\n                    </div>\r\n                </Link>\r\n                \r\n\r\n                {/* Sidebar */}\r\n                <div className=\"sidebar\">\r\n                    <SidebarUser name={localStorage.getItem('username')} picture=\"user_default.jpg\"/>\r\n                    <SidebarSearch/>\r\n\r\n                    <nav className=\"mt-2\">\r\n                        <ul className=\"nav nav-pills nav-sidebar flex-column\" data-widget=\"treeview\" role=\"menu\" data-accordion=\"false\">\r\n                            <SidebarHeader text=\"Application\"/>\r\n                            <SidebarButton name=\"Dashboard\" iconClass=\"fa-bars\" to=\"/ws\" />\r\n                            <SidebarButton name=\"Invitations\" iconClass=\"fa-envelope\" to=\"/ws/invitations\"/>\r\n                            <SidebarButton name=\"Conferences\" iconClass=\"fa-bullhorn\" children= {\r\n                                [\r\n                                    { key: 'conference-create', name: 'Create a conference', to: '/ws/conference/create' },\r\n                                    { key: 'conference-view', name: 'View conferences', to: '/ws/conference' }\r\n                                ]\r\n                            }/>\r\n                            <SidebarButton name=\"Proposals\" iconClass=\"fa-scroll\" children= {\r\n                                [\r\n                                    { key: 'proposal-view', name: 'View proposals', to: '/ws/proposal' },\r\n                                    { key: 'proposal-submit', name: 'Submit proposal', to: '/ws/proposal/create' },\r\n                                    { key: 'review-view', name: 'View reviews', to: '/ws/review' }\r\n                                ]\r\n                            }/>\r\n                            <SidebarButton name=\"Rooms\" iconClass=\"fa-home\" children= {\r\n                                [\r\n                                    { key: 'room-create', name: 'View rooms', to: '/ws/room' },\r\n                                    { key: 'room-timetable-view', name: 'View room timetable', to: '/ws/room/timetable' },\r\n                                    { key: 'room-view', name: 'Create room', to: '/ws/room/create' },\r\n                                ]\r\n                            }/>\r\n                            <SidebarHeader text=\"General\"/>\r\n                            <SidebarButton name=\"About us\" iconClass=\"fa-address-card\" to=\"/ws/about\"/>\r\n                            <SidebarButton name=\"Logout\" iconClass=\"fa-sign-out-alt\" to='/ws/logout'/>\r\n                        </ul>\r\n                    </nav>\r\n                </div>\r\n\r\n                \r\n\r\n                \r\n\r\n\r\n            </aside>\r\n\r\n        )\r\n    }\r\n}\r\n","import React from 'react';\r\nimport ShowMore from \"../../../shared/ShowMore\";\r\nimport ApiService from \"../../../ApiService\";\r\nimport moment from 'moment';\r\n\r\nexport default class ProposalViewTableItem extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.order = props.order || \"1.\";\r\n        //this.user = props.user || {pid: 1, name: \"Alexandra-Natalia Tudorescu\", chair: {chairId: 1}}\r\n        this.username = localStorage.username;\r\n        this.proposalId = props.proposalId;\r\n        this.name = props.name || \"Untitled\";\r\n        this.createdOn = props.createdOn || \"unknown\";\r\n        this.timeLeft = '';\r\n        this.timeDone = 0;\r\n        this.paperAbstract = props.paperAbstract || \"Lorem ipsum\";\r\n        this.paperAbstractShort = this.paperAbstract.substr(0, 50);\r\n        this.status = props.status;\r\n        //this.conference = props.conference || { name: \"Test conference\", call: {deadline: '2020-05-31'} };\r\n        //this.conferenceSection = props.conferenceSection || {name: \"Test conference section\"};\r\n        // should work if it's on the server: otherwise I get \"failed - no file\" error, but visually we get something downloading\r\n        this.filePath = props.filePath || \"ProposalFormsReview.js\";\r\n        this.displayFilePath = props.name || \"BestPaper.txt\";\r\n        this.showMoreLess = 'show more';\r\n\r\n        this.authors = props.authors || [];\r\n\r\n        this.conferenceSection = this.authors[0].conferenceSection;\r\n        console.log(this.conferenceSection);\r\n        this.conference = this.conferenceSection.conference;\r\n        this.deadline = this.conference.deadline;\r\n        //this.deadline = \"2021-04-31\";\r\n\r\n        //console.log(this.conference.deadline);\r\n        let deadlineUtc = Date.parse(this.deadline);\r\n        let dateNow = Date.now();\r\n\r\n        this.possibleStatus = {\r\n            'bidding': {title: 'Bidding', className: 'bg-info'},\r\n            'accepted': {title: 'Accepted', className: 'bg-success'},\r\n            'contradictory': {title: 'Contradictory', className: 'bg-warning'},\r\n            'rejected': {title: 'Rejected', className: 'bg-danger'}\r\n        }\r\n        this.status = this.possibleStatus[props.status] || this.possibleStatus['bidding'];\r\n        this.canView = (props.canView!==undefined?props.canView:true);\r\n        this.canEdit = (props.canEdit!==undefined?props.canEdit && dateNow < deadlineUtc:false);\r\n        this.canDelete = (props.canDelete!==undefined?props.canDelete:false);\r\n        this.canReview = localStorage.getItem('isReviewer')=='true'?true:false;//(props.canReview!==undefined?props.canReview:true);\r\n\r\n        this.state = { //state is by default an object\r\n            proposalId: this.proposalId,\r\n            user: this.user,\r\n            authors: this.authors,\r\n            abstractExpanded: false,\r\n            abstractTruncated:false,\r\n            showMoreLess: this.showMoreLess,\r\n            canView: this.canView,\r\n            canEdit: this.canEdit,\r\n            canReview: this.canReview,\r\n            canDelete: this.canDelete,\r\n            canViewReviews: this.canReview\r\n        };\r\n\r\n        this.showMoreLessAction = this.showMoreLessAction.bind(this);\r\n        this.reviewProposal = this.reviewProposal.bind(this);\r\n\r\n        this.openReviews = this.openReviews.bind(this);\r\n    }\r\n\r\n    getProposalDetails(){\r\n        ApiService.GetProposalDetails(this.proposalId, data => {\r\n            this.setState({\r\n                proposalData: data,\r\n            });\r\n        }, error => {\r\n            alert(\"Error when fetching proposals: \" + error.message || error);\r\n        });\r\n    }\r\n\r\n    isUserAuthor(){\r\n        for (let i = 0; i < this.state.authors.length; i++){\r\n        //this.state.authors.map((author) => {\r\n            const author = this.state.authors[i];\r\n            const { participant } = author;\r\n            //console.log(author);\r\n            let authorName = participant.name;\r\n            if(authorName === this.state.username){\r\n                //alert(\"AUTHOR\");\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    setPermissions(){\r\n        console.log(localStorage);\r\n        if(localStorage.getItem('isReviewer') === \"true\" && !this.isUserAuthor()){\r\n            this.setState({canReview: this.state.canReview && true, canEdit: this.state.canEdit && false, canDelete: this.state.canDelete && false});\r\n        }\r\n        else if (this.isUserAuthor()){\r\n            this.setState({canReview: this.state.canReview && false, canEdit: this.state.canEdit && true, canDelete: this.state.canDelete && true});\r\n        }\r\n        else{\r\n            this.setState({canReview: this.state.canReview && false, canEdit: this.state.canEdit && false, canDelete: this.state.canDelete && false});\r\n        }\r\n        this.setState({canViewReviews: this.state.canReview, canReview: this.state.canReview && this.status === \"bidding\"});\r\n        /*\r\n        this.setState({canView: this.state.canView && true});\r\n        if (this.state.user.chair != null && !this.isUserAuthor()){\r\n            this.setState({canReview: this.state.canReview && true, canEdit: this.state.canEdit && false, canDelete: this.state.canDelete && false});\r\n        }\r\n        else if (this.isUserAuthor()){\r\n            this.setState({canReview: this.state.canReview && false, canEdit: this.state.canEdit && true, canDelete: this.state.canDelete && true});\r\n        }\r\n        else{\r\n            this.setState({canReview: this.state.canReview && false, canEdit: this.state.canEdit && false, canDelete: this.state.canDelete && false});\r\n        }\r\n\r\n         */\r\n    }\r\n\r\n    openReviews(event){\r\n        event.preventDefault();\r\n        window.location.href = '/ws/review/' + this.state.proposalId;\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setPermissions();\r\n    }\r\n\r\n    reviewProposal(event){\r\n        event.preventDefault();\r\n        window.location.href = '/ws/proposal/review/' + this.state.proposalId;\r\n    }\r\n\r\n    showMoreLessAction(id){\r\n        if (this.state.showMoreLess === 'show more'){\r\n            this.showMoreAbstract(id);\r\n        }\r\n        else{\r\n            this.showLessAbstract(id);\r\n        }\r\n\r\n         /**/\r\n    }\r\n\r\n    showMoreAbstract(id){\r\n        document.getElementById(id).innerHTML = this.paperAbstract;\r\n        this.setState({showMoreLess: 'show less'});\r\n    }\r\n\r\n    showLessAbstract(id){\r\n        document.getElementById(id).innerHTML = this.paperAbstractShort;\r\n        this.setState({showMoreLess: 'show more'});\r\n    }\r\n\r\n\r\n    renderAuthorTableData() {\r\n        return this.state.authors.map((author, index) => {\r\n            const { authorId, participant } = author //destructuring\r\n            return (\r\n                <tr key={authorId}>\r\n                    <td>{participant.name}</td>\r\n                </tr>\r\n            )\r\n        })\r\n    }\r\n\r\n    renderTopicTableData() {\r\n        return this.state.topics.map((topicc, index) => {\r\n            const { topicId, topic } = topicc //destructuring\r\n            return (\r\n                <tr key={topicId}>\r\n                    <td>{topic}</td>\r\n                </tr>\r\n            )\r\n        })\r\n    }\r\n\r\n    renderKeywordTableData() {\r\n        return this.state.keywords.map((keyword, index) => {\r\n            const { keywordId, name } = keyword //destructuring\r\n            return (\r\n                <tr key={keywordId}>\r\n                    <td>{name}</td>\r\n                </tr>\r\n            )\r\n        })\r\n    }\r\n\r\n\r\n\r\n    render(){\r\n        return (\r\n            <tr id={this.order}>\r\n                <td>{this.order}</td>\r\n                <td>\r\n                    <span>{this.name}</span>\r\n                    <br/>\r\n                    <small>Created on {this.createdOn}</small>\r\n                </td>\r\n                <td>\r\n                <table id='authors'>\r\n                    <tbody>\r\n                    {this.renderAuthorTableData()}\r\n                    </tbody>\r\n                </table>\r\n                </td>\r\n                <td>\r\n                    <span id={\"paperAbstract\"+this.order} className={\"showMore\"}>\r\n                    {this.paperAbstractShort}\r\n                    </span>\r\n                    <button onClick={() => this.showMoreLessAction(\"paperAbstract\"+this.order)}>{this.state.showMoreLess}</button>\r\n                </td>\r\n                <td><a href={this.filePath} download>{this.displayFilePath}</a></td>\r\n                <td>\r\n                    <span><b>{this.conference.name}</b></span>\r\n                    <br/>\r\n                    <span>{this.conferenceSection.name}</span>\r\n                    <br/>\r\n                    <small>Submit deadline: {this.conference.deadline}</small>\r\n                </td>\r\n                <td>\r\n                    <span className={\"badge \" + this.status.className}>{this.status.title}</span>\r\n                </td>\r\n                <td className=\"project-actions\" key={this.order}>\r\n                    {this.state.canViewReviews &&\r\n                    <button className=\"btn btn-primary btn-sm\" style={{marginRight:'3px'}} onClick={this.openReviews}>\r\n                        <i className=\"fas fa-folder\"/>\r\n                        Reviews\r\n                    </button>\r\n                    }\r\n                    {this.state.canEdit &&\r\n                    <button className=\"btn btn-info btn-sm\" style={{marginRight:'3px'}}>\r\n                        <i className=\"fas fa-pencil-alt\"/>\r\n                        Edit\r\n                    </button>\r\n                    }\r\n                    {this.state.canDelete &&\r\n                    <button className=\"btn btn-danger btn-sm\" style={{marginRight:'3px'}}>\r\n                        <i className=\"fas fa-trash\"/>\r\n                        Delete\r\n                    </button>\r\n                    }\r\n                    {this.state.canReview &&\r\n                    <button className=\"btn btn-info btn-sm\" style={{marginRight:'3px'}} onClick={this.reviewProposal}>\r\n                        <i className=\"fas fa-clipboard-check\"/>\r\n                        Review\r\n                    </button>\r\n                    }\r\n                </td>\r\n            </tr>\r\n\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\n\r\nexport default class ShowMore extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.showMoreLess = 'show more';\r\n        this.text = props.data.text || \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\";\r\n        this.shortText = this.text.substr(0, 50);\r\n        this.buttonId = props.data.buttonId;\r\n        this.document = props.data.document;\r\n\r\n        this.state = { //state is by default an object\r\n            textExpanded: false,\r\n            textTruncated:false,\r\n            showMoreLess: this.showMoreLess,\r\n        };\r\n\r\n        this.showMoreLessAction = this.showMoreLessAction.bind(this);\r\n    }\r\n\r\n    showMoreLessAction(){\r\n        if (this.state.showMoreLess === 'show more'){\r\n            this.showMoreAbstract();\r\n        }\r\n        else{\r\n            this.showLessAbstract();\r\n        }\r\n\r\n        /**/\r\n    }\r\n\r\n    showMoreAbstract(){\r\n        this.document.getElementById(this.state.buttonId).innerHTML = this.text;\r\n        this.setState({showMoreLess: 'show less'});\r\n    }\r\n\r\n    showLessAbstract(){\r\n        this.document.getElementById(this.state.buttonId).innerHTML = this.shortText;\r\n        this.setState({showMoreLess: 'show more'});\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <div>\r\n                <span id={this.state.buttonId} className={\"showMore\"}>\r\n                    {this.paperAbstractShort}\r\n                </span>\r\n                <button onClick={() => this.showMoreLessAction()}>{this.state.showMoreLess}</button>\r\n            </div>\r\n    )\r\n    }\r\n\r\n    //this is how you use the component\r\n    //<ShowMore data={{buttonId: \"paperAbstract\"+this.order, text: this.paperAbstract, document: document}}/>\r\n\r\n}\r\n","import React from 'react';\r\nimport ProposalViewTableItem from './ProposalViewTableItem';\r\n\r\n\r\nexport default class ProposalViewTable extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            data: props.data || []\r\n        }\r\n\r\n    }\r\n\r\n    render(){\r\n        let order = 0;\r\n        let tableItems = this.state.data.map(d => {\r\n            order++;\r\n            return <ProposalViewTableItem key={d.proposalId} {...d} order={order+'.'}/>\r\n        });\r\n\r\n        return (\r\n            <table className=\"table table-stripped\">\r\n                <thead>\r\n                <tr>\r\n                    <th style={{width:\"1%\"}}>#</th>\r\n                    <th style={{width:'18%'}}>Name</th>\r\n                    <th style={{width:'12%'}}>Author(s)</th>\r\n                    <th style={{width:'15%'}}>Abstract</th>\r\n                    <th style={{width:'10%'}}>Paper</th>\r\n                    <th style={{width:\"15%\"}}>Conference</th>\r\n                    <th style={{width:\"40px\"}}>Status</th>\r\n                    <th style={{width:'30%'}}></th>\r\n                </tr>\r\n                </thead>\r\n                <tbody>\r\n                {tableItems}\r\n                </tbody>\r\n            </table>\r\n\r\n        )\r\n    }\r\n}\r\n","import React from 'react';\r\nimport ProposalViewTable from \"./ProposalViewTable\";\r\nimport ApiService from \"../../../ApiService\";\r\n\r\nexport default class ProposalView extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n\r\n        /*\r\n        this.authors = [{ participantId: 1, authorName: 'Bogdan Vasc', email: 'bv@cs.ubbcluj.ro' },\r\n            { participantId: 2, authorName: 'Szabolcs Vidam', email: 'sv@cs.ubbcluj.ro' },\r\n            {participantId: 3, authorName: 'Alexandra Tudorescu', email: 'at@cs.ubbcluj.ro'}];\r\n\r\n        this.data = [\r\n            { id: 312, order:'1', name: 'Interesting paper', conference: { name: \"Test conference\", call: {deadline: '2021-05-29'} }, createdOn: '22-05-2021', status: 'review', canView: true, canEdit: true, canDelete: true, canReview: false, paperAbstract: 'In this project, we were asked to experiment with a real world dataset, and to explore how machine learning algorithms can be used to find the patterns in data. We were expected to gain experience using a common data-mining and machine learning library, Weka, and were expected to submit a report about the dataset and the algorithms used. After performing the required tasks on a dataset of my choice, herein lies my final report.' },\r\n            { id: 350, order:'2', name: 'Another interesting paper', authors: [this.authors[2]], conference: { name: \"Test conference 2\", call: {deadline: '2020-05-29'} }, createdOn: '24-05-2021', status: 'review', canView: true, canEdit: false, canDelete: false, canReview: true, paperAbstract: 'In this project, we were asked to experiment with a real world dataset, and to explore how machine learning algorithms can be used to find the patterns in data. We were expected to gain experience using a common data-mining and machine learning library, Weka, and were expected to submit a report about the dataset and the algorithms used. After performing the required tasks on a dataset of my choice, herein lies my final report.' }\r\n        ];\r\n\r\n         */\r\n\r\n        this.state = {\r\n            data: props.data || [],\r\n            fetching: true\r\n        }\r\n\r\n    }\r\n\r\n    componentDidMount(){\r\n        ApiService.GetAllProposals(data => {\r\n            console.log(data);\r\n            this.setState({\r\n                data: data,\r\n                fetching: false\r\n            });\r\n        }, error => {\r\n            alert(\"Error when fetching proposals: \" + error.message || error);\r\n        });\r\n    }\r\n\r\n    render(){\r\n        if (this.state.fetching) return (<span>Fetching...</span>);\r\n        return (\r\n            <div className=\"row\">\r\n                <div className=\"\">\r\n                    <div className=\"card\">\r\n                        <div className=\"card-header\">\r\n                            <h3 className=\"card-title\">Proposals</h3>\r\n                        </div>\r\n                        <div className=\"card-body\">\r\n                            <ProposalViewTable data={this.state.data}/>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n","import React from 'react';\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\nimport {Checkbox, Chip, TextField} from \"@material-ui/core\";\r\nimport CheckBoxOutlineBlankIcon from '@material-ui/icons/CheckBoxOutlineBlank';\r\nimport CheckBoxIcon from '@material-ui/icons/CheckBox';\r\nimport ApiService from '../../../ApiService';\r\n\r\n\r\n\r\nexport default class ProposalFormsCreate extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.conference = props.conference || \"Test conference\";\r\n        this.conferenceSection = props.conferenceSection || \"Test conference section\";\r\n        this.deadline = props.deadline || \"01/01/2001\";\r\n\r\n        // get from database\r\n        this.keywords = [\r\n            { keywordId: 1, name: 'methodology'},\r\n            { keywordId: 2, name: 'visualisation'},\r\n            { keywordId: 3, name: 'framework'},\r\n        ];\r\n\r\n        //get from database\r\n        this.topics = [\r\n            { topicId: 1, name: 'Machine Learning'},\r\n            { topicId: 2, name: 'Cyber-security'},\r\n        ];\r\n\r\n        // get from database\r\n        this.authors = [];\r\n        this.fixedAuthors = [];\r\n\r\n        this.state = {\r\n            filledAuthors: [],\r\n            selectedFile: '',\r\n            isFilePicked: false,\r\n            conferences: [],\r\n            conferenceSelected: null,\r\n            sectionSelected: null,\r\n            deadline: this.deadline,\r\n            fetching: 2\r\n        }\r\n\r\n\r\n        this.onSelectChange = this.onSelectChange.bind(this);\r\n        this.fileHandleSubmission = this.fileHandleSubmission.bind(this);\r\n        this.getData = this.getData.bind(this);\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.getData();\r\n    }\r\n\r\n    getData(){\r\n        ApiService.GetAllConferences(data => {\r\n            this.setState({\r\n                conferences: data,\r\n                conferenceSelected: data.length>0?data[0]:null,\r\n                fetching: this.state.fetching - 1\r\n            });\r\n        });\r\n        ApiService.GetAllParticipants(data => {\r\n            console.log(data);\r\n            this.authors = data;\r\n            this.fixedAuthors = [];\r\n            for (var i = 0; i < this.authors.length; i++){\r\n                if (this.authors[i].pid == localStorage.getItem('pid')){\r\n                    this.fixedAuthors.push(this.authors[i]);\r\n                }\r\n            }\r\n            this.setState({\r\n                filledAuthors: [...this.fixedAuthors],\r\n                fetching: this.state.fetching - 1\r\n            });\r\n        });\r\n\r\n    }\r\n\r\n    fileChangeHandler = event => {\r\n        this.setState({selectedFile: event.target.files[0]});\r\n        this.setState({isSelected: true});\r\n    };\r\n\r\n    // NEEDS MODIFICATION FOR OUR OWN DB (if we're going to store the files there)\r\n    fileHandleSubmission(){\r\n        //proposal: \r\n        let proposalName = document.getElementById('proposal-name').value;\r\n        let fileName = this.state.selectedFile?this.state.selectedFile.name:'';\r\n        let abstract = document.getElementById('abstract').value;\r\n\r\n        let conferenceSectionId = document.getElementById('section-selector').value;\r\n        let authors = this.state.filledAuthors.map(author => author.pid);\r\n\r\n        ApiService.AddProposal({\r\n            name: proposalName, filePath: fileName, paperAbstract: abstract\r\n        }, success => {\r\n            ApiService.GetAllProposals(data => {\r\n                var proposalId = null;\r\n                for (var i = 0; i < data.length; i++){\r\n                    if (data[i].name == proposalName && data[i].filePath == fileName){\r\n                        proposalId = data[i].proposalId;\r\n                    }\r\n                }\r\n                if (proposalId == null) alert('Issue when creating proposal');\r\n                else{\r\n                    for (var j = 0; j < authors.length; j++){\r\n                        ApiService.AddAuthor({\r\n                            participantId: authors[j],\r\n                            conferenceSectionId: conferenceSectionId,\r\n                            proposalId: proposalId\r\n                        }, success => {window.location.reload()}, error => {\r\n                            alert('Error when adding an author: ' + error.message || error);\r\n                        });\r\n                    }\r\n                }\r\n            }, error => {\r\n                alert('Failed to get proposals: ' + error.message || error);\r\n            })\r\n        }, error => {\r\n            alert('Failed to add proposal: ' + error.message || error);\r\n        })\r\n\r\n        //authors:\r\n        \r\n\r\n        console.log(authors);\r\n        console.log(conferenceSectionId);\r\n\r\n\r\n    };\r\n\r\n    onSelectChange(event){\r\n        let id = event.target.id;\r\n        let value = event.target.value;\r\n\r\n        if (id == 'conference-selector'){\r\n            console.log('conference selected to ' + value);\r\n            for (var i = 0; i < this.state.conferences.length; i++){\r\n                let c = this.state.conferences[i];\r\n                if (c.conferenceId == value){\r\n                    this.setState({conferenceSelected: c});\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    render(){\r\n        if (this.state.fetching) return <div>Fetching data...</div>\r\n\r\n        const icon = <CheckBoxOutlineBlankIcon fontSize=\"small\" />;\r\n        const checkedIcon = <CheckBoxIcon fontSize=\"small\" />;\r\n\r\n        let conferenceOptions = this.state.conferences.map(c => {\r\n            return (\r\n                <option key={c.conferenceId} value={c.conferenceId}>{c.name}</option>\r\n            );\r\n        });\r\n        let sectionsOptions = this.state.conferenceSelected == null?[] : this.state.conferenceSelected.conferenceSections.map(s => {\r\n            return (\r\n                <option key={s.conferenceSectionId} value={s.conferenceSectionId}>{s.name}</option>\r\n            );\r\n        });\r\n\r\n        return (\r\n            <div className=\"card card-danger\">\r\n                <div className=\"card-header\">\r\n                    <h3 className=\"card-title\">Submit a proposal</h3>\r\n                </div>\r\n                <div className=\"card-body\">\r\n\r\n                    <div className=\"form-group\">\r\n                        <label>Name:</label>\r\n                        <div className=\"input-group\">\r\n                            <div className=\"input-group-prepend\">\r\n                                <span className=\"input-group-text\"><i className=\"fas fa-feather\"></i></span>\r\n                            </div>\r\n                            <input id=\"proposal-name\" type=\"text\" className=\"form-control\"/>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div>\r\n                        <Autocomplete\r\n                            multiple\r\n                            id=\"author-checkbox\"\r\n                            value={this.state.filledAuthors}\r\n                            onChange={(event, newValue) => {\r\n                                this.setState({filledAuthors: [\r\n                                        ...this.fixedAuthors,\r\n                                        ...newValue.filter((option) => this.fixedAuthors.indexOf(option) === -1),\r\n                                    ]});\r\n                            }}\r\n                            options={this.authors}\r\n                            getOptionLabel={(option) => option?option.name:\"?\"}\r\n                            renderTags={(tagValue, getTagProps) =>\r\n                                tagValue.map((option, index) => (\r\n                                    <Chip\r\n                                        label={option?option.name:\"?\"}\r\n                                        {...getTagProps({ index })}\r\n                                        disabled={this.fixedAuthors.indexOf(option) !== -1}\r\n                                    />\r\n                                ))\r\n                            }\r\n                            style={{ width: 500 }}\r\n                            renderInput={(params) => (\r\n                                <TextField {...params} label=\"Authors\" variant=\"outlined\" placeholder=\"Auth\" />\r\n                            )}\r\n                        />\r\n                    </div>\r\n                    {false &&\r\n                    <div className=\"form-group\">\r\n                        <Autocomplete\r\n                            multiple\r\n                            id=\"keyboard-checkbox\"\r\n                            options={this.keywords}\r\n                            disableCloseOnSelect\r\n                            getOptionLabel={(option) => option.name}\r\n                            renderOption={(option, { selected }) => (\r\n                                <React.Fragment>\r\n                                    <Checkbox\r\n                                        icon={icon}\r\n                                        checkedIcon={checkedIcon}\r\n                                        style={{ marginRight: 8 }}\r\n                                        checked={selected}\r\n                                    />\r\n                                    {option.name}\r\n                                </React.Fragment>\r\n                            )}\r\n                            style={{ width: 500 }}\r\n                            renderInput={(params) => (\r\n                                <TextField {...params} variant=\"outlined\" label=\"Keywords\" placeholder=\"methodology\" />\r\n                            )}\r\n                        />\r\n                    </div>\r\n                    }\r\n                    {false &&\r\n                    <div className=\"form-group\">\r\n                    <Autocomplete\r\n                        multiple\r\n                        id=\"topic-checkbox\"\r\n                        options={this.topics}\r\n                        disableCloseOnSelect\r\n                        getOptionLabel={(option) => option.name}\r\n                        renderOption={(option, { selected }) => (\r\n                            <React.Fragment>\r\n                                <Checkbox\r\n                                    icon={icon}\r\n                                    checkedIcon={checkedIcon}\r\n                                    style={{ marginRight: 8 }}\r\n                                    checked={selected}\r\n                                />\r\n                                {option.name}\r\n                            </React.Fragment>\r\n                        )}\r\n                        style={{ width: 500 }}\r\n                        renderInput={(params) => (\r\n                            <TextField {...params} variant=\"outlined\" label=\"Topics\" placeholder=\"Artificial Intelligence\" />\r\n                        )}\r\n                    />\r\n                    </div>\r\n                    }\r\n\r\n                    <div className=\"form-group\">\r\n                        <label>Conference:</label>\r\n                        <div className=\"input-group\">\r\n                            <div className=\"input-group-prepend\">\r\n                                <span className=\"input-group-text\"><i className=\"fas fa-feather\"></i></span>\r\n                            </div>\r\n                            <select id=\"conference-selector\" className=\"form-control\" onChange={this.onSelectChange} autoComplete=\"off\">\r\n                                {conferenceOptions}\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                        <label>Conference Section:</label>\r\n                        <div className=\"input-group\">\r\n                            <div className=\"input-group-prepend\">\r\n                                <span className=\"input-group-text\"><i className=\"fas fa-feather\"></i></span>\r\n                            </div>\r\n                            \r\n                            <select id=\"section-selector\" className=\"form-control\" onChange={this.onSelectChange} autoComplete=\"off\">\r\n                                {sectionsOptions}\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n\r\n\r\n                    <div className=\"form-group\">\r\n                        <label>Abstract:</label>\r\n                        <textarea id=\"abstract\" className=\"form-control\" rows=\"6\" placeholder=\"Enter...\"></textarea>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <input type=\"file\" name=\"file\" onChange={this.fileChangeHandler} />\r\n                </div>\r\n\r\n                <div className=\"card-footer\">\r\n                    <button type=\"submit\" className=\"btn btn-primary\" onClick={this.fileHandleSubmission}>Submit</button>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from 'react';\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\nimport {Checkbox, Chip, FormControlLabel, TextField} from \"@material-ui/core\";\r\nimport CheckBoxOutlineBlankIcon from '@material-ui/icons/CheckBoxOutlineBlank';\r\nimport CheckBoxIcon from '@material-ui/icons/CheckBox';\r\nimport Rating from '@material-ui/lab/Rating'\r\nimport ProposalViewTable from \"./ProposalViewTable\";\r\nimport ApiService from \"../../../ApiService\";\r\nimport Error403 from '../errors/Error403';\r\n\r\n\r\nexport default class ProposalFormsReview extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.id = parseInt(this.props.match.params.id) || null;\r\n        // get from database\r\n        let keywords = [\r\n            { keywordId: 1, name: 'methodology'},\r\n            { keywordId: 2, name: 'visualisation'},\r\n            { keywordId: 3, name: 'framework'},\r\n        ];\r\n\r\n        //get from database\r\n        let topics = [\r\n            { topicId: 1, name: 'Machine Learning'},\r\n            { topicId: 2, name: 'Cyber-security'},\r\n        ];\r\n\r\n        // get from database\r\n        let authors = [{name: 'Szabolcs Vidam'}, {name: 'Bogdan Vasc'}, {name: 'Alexandra Tudorescu'}, {name: 'David Turcas'}, {name: 'Andrei Turcas'}, {name: 'Andrea Barrasa'}];\r\n\r\n        this.proposal = props.proposal || {name: \"Best proposal\", paperAbstract: \"Lorem ipsum\", filePath: \"../../../../public/testFiles/BestPaper.txt\"};\r\n        this.authors = props.authors || authors;\r\n        this.keywords = props.keywords || keywords;\r\n        this.topics = props.topics || topics;\r\n\r\n        // the fixed author should be the user who is making the proposal\r\n        this.state = {\r\n            proposalId: this.id,\r\n            proposalData: null,\r\n            filledAuthors: [...this.authors],\r\n            selectedFile: '',\r\n            isFilePicked: false,\r\n            conference: this.conference,\r\n            conferenceSection: this.conferenceSection,\r\n            deadline: this.deadline,\r\n            authors: this.authors,\r\n            keywords: this.keywords,\r\n            topics: this.topics,\r\n            proposal: this.proposal,\r\n            rating: 0,\r\n\r\n            user: null,\r\n            fetching: true\r\n        }\r\n\r\n        this.fileHandleSubmission = this.fileHandleSubmission.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    getProposalDetails(){\r\n        console.log(this.state.proposalId);\r\n        ApiService.GetProposalDetails(this.state.proposalId, data => {\r\n            this.setState({\r\n                proposalData: data,\r\n            });\r\n\r\n            ApiService.GetUserData(localStorage.getItem('pid'), data => {\r\n                this.setState({\r\n                    user: data,\r\n                    fetching: false\r\n                });\r\n            }, error => {\r\n                alert(\"Error when fetching user data: \" + error.message || error);\r\n            })\r\n\r\n        }, error => {\r\n            alert(\"Error when fetching proposal: \" + error.message || error);\r\n        });\r\n    }\r\n\r\n    fileChangeHandler = event => {\r\n        this.setState({selectedFile: event.target.files[0]});\r\n        this.setState({isSelected: true});\r\n    };\r\n\r\n    // NEEDS MODIFICATION FOR OUR OWN DB (if we're going to store the files there)\r\n    fileHandleSubmission(){\r\n        const formData = new FormData();\r\n\r\n        formData.append('File', this.state.selectedFile);\r\n\r\n        fetch(\r\n            'https://freeimage.host/api/1/upload?key=<YOUR_API_KEY>',\r\n            {\r\n                method: 'POST',\r\n                body: formData,\r\n            }\r\n        )\r\n            .then((response) => response.json())\r\n            .then((result) => {\r\n                console.log('Success:', result);\r\n            })\r\n            .catch((error) => {\r\n                console.error('Error:', error);\r\n            });\r\n    };\r\n\r\n    handleSubmit(event){\r\n        event.preventDefault();\r\n        const proposalId = this.state.proposalId;\r\n        const justification = document.getElementById('justification').value;\r\n        const qualifierId = this.state.rating;\r\n        const reviewerId = this.state.reviewerId;\r\n\r\n        let data = {\r\n            proposalId: parseInt(proposalId),\r\n            justification: justification,\r\n            qualifierId: qualifierId,\r\n            reviewerId: this.state.user.reviewer.reviewerId\r\n        }\r\n        console.log(data);\r\n        ApiService.CreateReview(data, success => {\r\n                this.setState({success: 'Review was registered'});\r\n                window.location.reload();\r\n            }, error => {\r\n                this.setState({error: 'Failed to register review: ' + error.message || error});\r\n            }\r\n        );\r\n        //this.fileHandleSubmission();\r\n    }\r\n\r\n    componentDidMount(){\r\n        const s = document.createElement('script');\r\n        s.type = 'text/javascript';\r\n        s.async = true;\r\n\r\n        document.body.appendChild(s);\r\n        this.getProposalDetails();\r\n    }\r\n\r\n    render(){\r\n        //alert(this.state.proposalId);\r\n\r\n        //this.setState({filledAuthors: [...this.fixedAuthors, this.authors[2]]});\r\n        if (!(localStorage.getItem('isReviewer') == 'true')){\r\n            return (\r\n                <Error403/>\r\n            )\r\n        }\r\n        if (this.state.fetching) return (<span>Fetching data...</span>);\r\n\r\n        const icon = <CheckBoxOutlineBlankIcon fontSize=\"small\" />;\r\n        const checkedIcon = <CheckBoxIcon fontSize=\"small\" />;\r\n        return (\r\n            <div className=\"card card-danger\">\r\n                <form onSubmit={this.handleSubmit}>\r\n                <div className=\"card-header\">\r\n                    <h3 className=\"card-title\">Review proposal</h3>\r\n                </div>\r\n                <div className=\"card-body\">\r\n\r\n                    <div className=\"form-group\">\r\n                        <label>Rating:</label>\r\n                        <br/>\r\n\r\n                    <FormControlLabel\r\n                        control={\r\n                            <>\r\n                                <input\r\n                                    name=\"rating\"\r\n                                    type=\"number\"\r\n                                    value={this.state.rating}\r\n                                    hidden\r\n                                    readOnly\r\n                                />\r\n                                <Rating\r\n                                    name=\"rating\"\r\n                                    value={this.state.rating}\r\n                                    precision={1}\r\n                                    max={7}\r\n                                    onChange={(_, value) => {\r\n                                        this.setState({rating: value});\r\n                                    }}\r\n                                />\r\n                            </>\r\n                        }\r\n                    />\r\n                    </div>\r\n\r\n\r\n                    <div className=\"form-group\">\r\n                        <label>Justification:</label>\r\n                        <textarea id='justification' className=\"form-control\" rows=\"3\" placeholder=\"Justify review...\"></textarea>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"card-footer\">\r\n                    <button type=\"submit\" className=\"btn btn-primary\">Submit</button>\r\n                </div>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from 'react';\r\nimport ApiService from '../../../ApiService';\r\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\r\nimport {Checkbox, TextField} from \"@material-ui/core\";\r\nimport CheckBoxOutlineBlankIcon from \"@material-ui/icons/CheckBoxOutlineBlank\";\r\nimport CheckBoxIcon from \"@material-ui/icons/CheckBox\";\r\n\r\nexport default class RoomFormsCreate extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        console.log(props);\r\n        this.id = parseInt(this.props.match.params.id) || null;\r\n        this.name = this.props.match.params.name || null;\r\n        this.capacity = parseInt(this.props.match.params.capacity) || null;\r\n        this.readOnly = (this.id != null);\r\n        this.state = {\r\n            error: null,\r\n            success: null,\r\n            id: this.id,\r\n            name: this.name,\r\n            capacity: this.capacity,\r\n            readOnly: this.readOnly,\r\n            buttonName: this.readOnly? \"Edit\": \"Create\"\r\n        }\r\n\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.onCreateFailed = this.onCreateFailed.bind(this);\r\n        this.onCreateSuccess = this.onCreateSuccess.bind(this);\r\n        this.onUpdateFailed = this.onUpdateFailed.bind(this);\r\n        this.onUpdateSuccess = this.onUpdateSuccess.bind(this);\r\n        this.onChange = this.onChange.bind(this);\r\n    }\r\n\r\n    onChange(event) {\r\n        this.setState({[event.target.name]: event.target.value})\r\n    }\r\n\r\n    handleSubmit(event){\r\n        event.preventDefault();\r\n        const name = document.getElementById('add-name').value;\r\n        const capacity = document.getElementById('add-capacity').value;\r\n\r\n        console.log(this.state.fields);\r\n        if(!this.state.readOnly){\r\n            this.createConferenceRequest({\r\n                name: name,\r\n                capacity: capacity\r\n            });\r\n        }\r\n        else {\r\n            this.editConferenceRequest({\r\n                id: this.state.id,\r\n                name: name,\r\n                capacity: this.state.capacity\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n    createConferenceRequest(data){\r\n        ApiService.CreateRoom(data, this.onCreateSuccess, this.onCreateFailed);\r\n    }\r\n\r\n    editConferenceRequest(data){\r\n        //this.setState({success: parseInt(data.id) + \" \" + data.name + \" \" + parseInt(data.capacity)});\r\n        ApiService.UpdateRoom(data, this.onUpdateSuccess, this.onUpdateFailed);\r\n    }\r\n\r\n    onUpdateSuccess(response){\r\n        this.setState({success: \"You have successfully updated a room!\"});\r\n    }\r\n\r\n    onUpdateFailed(response){\r\n        this.setState({error: \"Room update failed! Error: \" + response.message || response});\r\n    }\r\n\r\n    onCreateSuccess(response){\r\n        this.setState({success: \"You have successfully created a room!\"});\r\n    }\r\n\r\n    onCreateFailed(response){\r\n        this.setState({error: \"Room creation failed! Error: \" + response.message || response});\r\n    }\r\n\r\n    render(){\r\n        const icon = <CheckBoxOutlineBlankIcon fontSize=\"small\" />;\r\n        const checkedIcon = <CheckBoxIcon fontSize=\"small\" />;\r\n        return (\r\n            <div className=\"card card-danger\">\r\n                <form onSubmit={this.handleSubmit} noValidate>\r\n                    <div className=\"card-header\">\r\n                        <h3 className=\"card-title\">Create a conference</h3>\r\n                    </div>\r\n                    <div className=\"card-body\">\r\n                        {this.state.error &&\r\n                        <div className=\"alert alert-danger\" role=\"alert\">\r\n                            {this.state.error}\r\n                        </div>\r\n                        }\r\n                        {this.state.success &&\r\n                        <div className=\"alert alert-success\" role=\"alert\">\r\n                            {this.state.success}\r\n                        </div>\r\n                        }\r\n\r\n                        <div className=\"form-group\">\r\n                            <label>Name:</label>\r\n                            <div className=\"input-group\">\r\n                                <div className=\"input-group-prepend\">\r\n                                    <span className=\"input-group-text\"><i className=\"fas fa-feather\"></i></span>\r\n                                </div>\r\n                                <input id=\"add-name\" name=\"name\" type=\"text\" className=\"form-control\" value={this.state.name} readOnly={this.state.readOnly}/>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <label>Capacity:</label>\r\n                            <div className=\"input-group\">\r\n                                <div className=\"input-group-prepend\">\r\n                                    <span className=\"input-group-text\"><i className=\"fas fa-users\"></i></span>\r\n                                </div>\r\n                                <input id=\"add-capacity\" name=\"capacity\" type=\"number\" className=\"form-control\" value={this.state.capacity} onChange={(value) => this.onChange(value)}/>\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                    <div className=\"card-footer\">\r\n                        <button type=\"submit\" className=\"btn btn-primary\">{this.state.buttonName}</button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport ApiService from \"../../../ApiService\";\r\n\r\nexport default class RoomViewTableItem extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.order = props.order || \"1.\";\r\n        this.name = props.name || \"Generic Room\";\r\n        this.capacity = props.capacity || 20;\r\n\r\n        this.canView = true;\r\n        this.canEdit = props.canEdit || true;\r\n        this.canDelete = props.canDelete || true;\r\n\r\n        this.state = {\r\n            order: this.order,\r\n            roomId: props.roomId,\r\n            name: this.name,\r\n            capacity: this.capacity,\r\n            success: null,\r\n            error: null\r\n        }\r\n\r\n        this.editRoom = this.editRoom.bind(this);\r\n        this.deleteRoom = this.deleteRoom.bind(this);\r\n    }\r\n\r\n    editRoom(event){\r\n        event.preventDefault();\r\n        window.location.href = '/ws/room/create/' + this.state.roomId + '/' + this.state.name + '/' + this.state.capacity;\r\n    }\r\n\r\n    deleteRoom(event){\r\n        event.preventDefault();\r\n        ApiService.DeleteRoom(this.state.roomId,success => {\r\n            this.setState({success: 'Room deleted successfully!'});\r\n        }, error => {\r\n            this.setState({error: 'Failed to delete room: ' + error.message || error});\r\n        });\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <tr id={this.state.order}>\r\n                <td>{this.state.order}</td>\r\n                <td>{this.state.name}</td>\r\n                <td>{this.capacity}</td>\r\n                <td className=\"project-actions\" key={this.order}>\r\n                    {this.canView &&\r\n                    <button className=\"btn btn-primary btn-sm\" style={{marginRight:'3px'}}>\r\n                        <i className=\"fas fa-folder\"/>\r\n                        Timetable\r\n                    </button>\r\n                    }\r\n                    {this.canEdit &&\r\n                    <button className=\"btn btn-info btn-sm\" style={{marginRight:'3px'}} onClick={this.editRoom}>\r\n                        <i className=\"fas fa-pencil-alt\"/>\r\n                        Edit\r\n                    </button>\r\n                    }\r\n                    {this.canDelete &&\r\n                    <button className=\"btn btn-danger btn-sm\" style={{marginRight:'3px'}} onClick={this.deleteRoom}>\r\n                        <i className=\"fas fa-trash\"/>\r\n                        Delete\r\n                    </button>\r\n                    }\r\n                    {this.state.error &&\r\n                    <div className=\"alert alert-danger\" role=\"alert\">\r\n                        {this.state.error}\r\n                    </div>\r\n                    }\r\n                    {this.state.success &&\r\n                    <div className=\"alert alert-success\" role=\"alert\">\r\n                        {this.state.success}\r\n                    </div>\r\n                    }\r\n                </td>\r\n            </tr>\r\n        )\r\n    }\r\n}\r\n","import React from 'react';\r\nimport ProposalViewTableItem from './RoomViewTableItem';\r\nimport RoomViewTableItem from \"./RoomViewTableItem\";\r\n\r\n\r\nexport default class RoomViewTable extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            data: props.data || []\r\n        }\r\n\r\n    }\r\n\r\n    render(){\r\n        let order = 0;\r\n        let tableItems = this.state.data.map(d => {\r\n            order ++;\r\n            return <RoomViewTableItem key={d.roomId} {...d} order={order+'.'}/>\r\n        });\r\n\r\n        return (\r\n            <table className=\"table table-stripped\">\r\n                <thead>\r\n                <tr>\r\n                    <th style={{width:\"1%\"}}>#</th>\r\n                    <th style={{width:'20%'}}>Name</th>\r\n                    <th style={{width:'20%'}}>Capacity</th>\r\n                    <th style={{width:'30%'}}></th>\r\n                </tr>\r\n                </thead>\r\n                <tbody>\r\n                {tableItems}\r\n                </tbody>\r\n            </table>\r\n\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport RoomViewTable from \"./RoomViewTable\";\r\nimport ApiService from \"../../../ApiService\";\r\n\r\nexport default class RoomView extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            data: props.data || [],\r\n            fetching: true\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        ApiService.GetAllRooms(data => {\r\n            this.setState({\r\n                data: data,\r\n                fetching: false\r\n            });\r\n        }, error => {\r\n            alert(\"Error when fetching rooms: \" + error.message || error);\r\n        });\r\n    }\r\n\r\n\r\n    render(){\r\n        if (this.state.fetching) return (<span>Fetching...</span>);\r\n        return (\r\n            <div className=\"row\">\r\n                <div className=\"\">\r\n                    <div className=\"card\">\r\n                        <div className=\"card-header\">\r\n                            <h3 className=\"card-title\">Rooms</h3>\r\n                        </div>\r\n                        <div className=\"card-body\">\r\n                            <RoomViewTable data={this.state.data}/>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React from \"react\";\r\n\r\nexport default class RoomTimetableViewTableItem extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.order = props.order || \"1.\";\r\n        this.id = this.order;\r\n        this.name = props.name || \"Section1\";\r\n        this.sessionChair = props.sessionChair || {name: \"Gigel\"};\r\n        this.authors = props.authors || [{participantId: 1, authorName: 'Szabolcs Vidam'}, {participantId: 2, authorName: 'Bogdan Vasc'}, {participantId: 3, authorName: 'Alexandra Tudorescu'}, {participantId: 4, authorName: 'David Turcas'}, {participantId: 5, authorName: 'Andrei Turcas'}, {participantId: 6, authorName: 'Andrea Barrasa'}];\r\n        this.listeners = props.listeners || [{participantId: 1, name: 'Szabolcs Vidam'}, {participantId: 2, name: 'Bogdan Vasc'}, {participantId: 3, name: 'Alexandra Tudorescu'}, {participantId: 4, name: 'David Turcas'}, {participantId: 5, name: 'Andrei Turcas'}, {participantId: 6, name: 'Andrea Barrasa'}];\r\n        this.timeStart = props.timeStart;\r\n        this.timeFinish = props.timeFinish;\r\n        this.paper = props.paper || \"Interesting paper\";\r\n        this.capacity = props.capacity || 20;\r\n        this.canJoinListener = (props.canJoinListener!==undefined?props.canJoinListener:true);\r\n        this.canDelete = (props.canDelete!==undefined?props.canDelete:true);\r\n\r\n\r\n        this.state = {\r\n            order: this.order,\r\n            name: this.name,\r\n            sessionChair: this.sessionChair,\r\n            authors: this.authors,\r\n            listeners: this.listeners,\r\n            timeStart: this.timeStart,\r\n            timeFinish: this.timeFinish,\r\n            paper: this.paper,\r\n            capacity: this.capacity,\r\n        }\r\n    }\r\n\r\n    renderAuthorTableData() {\r\n        return this.state.authors.map((author, index) => {\r\n            const { participantId, authorName, email } = author //destructuring\r\n            return (\r\n                <tr key={participantId}>\r\n                    <td>{authorName}</td>\r\n                </tr>\r\n            )\r\n        })\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <tr id={this.state.order}>\r\n                <td>{this.state.order}</td>\r\n                <td>{this.state.name}</td>\r\n                <td>{this.state.listeners.length}/{this.state.capacity}</td>\r\n                <td>{this.state.sessionChair.name}</td>\r\n                <td>{this.state.timeStart}</td>\r\n                <td>{this.state.timeFinish}</td>\r\n                <td>{this.state.paper}</td>\r\n                <td>\r\n                    <table id='authors'>\r\n                        <tbody>\r\n                        {this.renderAuthorTableData()}\r\n                        </tbody>\r\n                    </table>\r\n                </td>\r\n                <td className=\"project-actions\" key={this.order}>\r\n                    {this.canJoinListener &&\r\n                    <button className=\"btn btn-primary btn-sm\" style={{marginRight:'3px'}}>\r\n                        <i className=\"fas fa-headphones\"/>\r\n                        Join as listener\r\n                    </button>\r\n                    }\r\n                    {this.canDelete &&\r\n                    <button className=\"btn btn-danger btn-sm\" style={{marginRight:'3px'}}>\r\n                        <i className=\"fas fa-trash\"/>\r\n                        Delete\r\n                    </button>\r\n                    }\r\n                </td>\r\n            </tr>\r\n        )\r\n    }\r\n}\r\n","import React from 'react';\r\nimport RoomTimetableViewTableItem from \"./RoomTimetableViewTableItem\";\r\n\r\n\r\nexport default class RoomTimetableViewTable extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            data: props.data || []\r\n        }\r\n\r\n    }\r\n\r\n    render(){\r\n        let tableItems = this.state.data.map(d => {\r\n            return <RoomTimetableViewTableItem key={d.id} {...d}/>\r\n        });\r\n\r\n        return (\r\n            <table className=\"table table-stripped\">\r\n                <thead>\r\n                <tr>\r\n                    <th style={{width:\"1%\"}}>#</th>\r\n                    <th style={{width:'12%'}}>Name</th>\r\n                    <th style={{width:'5%'}}>Listeners</th>\r\n                    <th style={{width:'12%'}}>Session chair</th>\r\n                    <th style={{width:'10%'}}>Start time</th>\r\n                    <th style={{width:'10%'}}>End time</th>\r\n                    <th style={{width:'10%'}}>Paper</th>\r\n                    <th style={{width:'20%'}}>Authors</th>\r\n\r\n                    <th style={{width:'30%'}}></th>\r\n                </tr>\r\n                </thead>\r\n                <tbody>\r\n                {tableItems}\r\n                </tbody>\r\n            </table>\r\n\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport RoomTimetableViewTable from \"./RoomTimetableViewTable\";\r\nimport ApiService from \"../../../../ApiService\";\r\n\r\nexport default class RoomTimetableView extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.id = parseInt(this.props.match.params.id) || null;\r\n        this.data = props.data || [\r\n                {id: 1, order: '1', name: \"Section1\", timeStart: '2021-05-21 10:30 AM', timeFinish: '2021-05-21 12:00 PM'},\r\n                {id: 2, order: '2', name: \"Section2\", timeStart: '2021-05-22 10:30 AM', timeFinish: '2021-05-22 12:00 PM'},\r\n        ];\r\n\r\n        this.state = {\r\n            roomName: this.roomName,\r\n            data: this.data\r\n        }\r\n    }\r\n\r\n    getRoom(){\r\n        ApiService.GetRoomDetails(this.id, data => {\r\n            this.setState({\r\n                data: data\r\n            })\r\n        })\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <div className=\"row\">\r\n                <div className=\"\">\r\n                    <div className=\"card\">\r\n                        <div className=\"card-header\">\r\n                            <h3 className=\"card-title\">Room {this.roomName}</h3>\r\n                        </div>\r\n                        <div className=\"card-body\">\r\n                            <RoomTimetableViewTable data={this.data}/>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React from 'react';\r\nimport moment from 'moment';\r\nexport default class ConferenceSection extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            id: props.data.id || 1,\r\n            title: props.data.title || 'Section name',\r\n            sessionChair: props.data.sessionChair,\r\n            authors: props.data.authors || [],\r\n            roomId: props.data.roomId,\r\n            roomName: props.data.roomName,\r\n            timeStart: props.data.timeStart?moment(props.data.timeStart).format('YYYY-MM-DD HH:MM'):\"Unknown\",\r\n            timeEnd: props.data.timeEnd?moment(props.data.timeEnd).format('YYYY-MM-DD HH:MM'):\"Unknown\",\r\n            onDelete: props.onDelete,\r\n            fetching: true,\r\n            activeTab: null\r\n        }\r\n\r\n    }\r\n\r\n    setTabActive(tab){\r\n        if (this.state.activeTab){\r\n            document.getElementById(this.state.id + '-' + this.state.activeTab + '-link').className = \"nav-link\";\r\n            document.getElementById(this.state.id + '-' + this.state.activeTab + '-content').classList.remove(\"active\");\r\n            document.getElementById(this.state.id + '-' + this.state.activeTab + '-content').classList.remove(\"show\");\r\n\r\n        }\r\n        this.state.activeTab = tab;\r\n        console.log(this.state.id + '-' + this.state.activeTab + '-link');\r\n        document.getElementById(this.state.id + '-' + this.state.activeTab + '-link').className = \"nav-link active\";\r\n        document.getElementById(this.state.id + '-' + this.state.activeTab + '-content').classList.add(\"active\");\r\n        document.getElementById(this.state.id + '-' + this.state.activeTab + '-content').classList.add(\"show\");\r\n\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.setTabActive('general');\r\n        console.log(this.props);\r\n    }\r\n\r\n    reviewProposal(id){\r\n        window.location.href = '/ws/proposal/review/' + id;\r\n    }\r\n\r\n    render(){\r\n        let proposals = {};\r\n\r\n        this.state.authors.map(auth => {\r\n            let proposalId = auth.proposal.proposalId;\r\n            let proposalName = auth.proposal.name;\r\n            let authId = auth.authorId;\r\n            let authName = auth.participant.name;\r\n            let authUsername = auth.participant.userName;\r\n\r\n            if (proposals[proposalId] === undefined){\r\n                proposals[proposalId] = {name: proposalName, authors: [{authId: authId, authName: authName, authUsername: authUsername}]};\r\n            }else{\r\n                proposals[proposalId].authors.push({authId: authId, authName: authName, authUsername: authUsername});\r\n            }\r\n        });\r\n\r\n        let proposalItems = [];\r\n\r\n        for (let proposalId in proposals){\r\n            var prop = proposals[proposalId];\r\n            var authors = prop.authors.map(auth => {\r\n                return (\r\n                    <tr key={auth.authId}><td><a href={\"/ws/profile/\"+auth.authId}>{auth.authName+' ('+auth.authUsername+')'}</a></td></tr>\r\n                )\r\n            });\r\n            proposalItems.push( (\r\n                <tr key={proposalId}>\r\n                    <td>{prop.name}</td>\r\n                    <td>\r\n                        <table>\r\n                            <tbody>\r\n                                {authors}\r\n                            </tbody>\r\n                        </table>\r\n                    </td>\r\n                    {localStorage.getItem('isReviewer')=='true' && \r\n                        <td style={{verticalAlign: 'middle'}}>\r\n                            <button className=\"btn btn-info btn-sm\" style={{marginRight:'3px'}} onClick={() => {this.reviewProposal(proposalId)}}>\r\n                                <i className=\"fas fa-clipboard-check\"/>\r\n                                Review\r\n                            </button>\r\n                        </td>\r\n                    }\r\n                </tr>\r\n            ));\r\n        }\r\n\r\n\r\n        return (\r\n            <div className=\"card card-primary card-tabs\">\r\n                <div className=\"card-header p-0 pt-1\">\r\n                    <ul className=\"nav nav-tabs\" role=\"tablist\">\r\n                        <li className=\"pt-2 px-3\">\r\n                            <h3 className=\"card-title\">{this.state.title}</h3> \r\n                        </li>\r\n                        <li className=\"nav-item\" style={{cursor:'pointer'}}>\r\n                            <a className=\"nav-link\" id={this.state.id+\"-general-link\"} data-toggle=\"pill\" role=\"tab\" aria-controls={this.state.id+\"-tab-general\"} role=\"tab\" aria-selected=\"false\" onClick={() => {this.setTabActive('general')}}>General</a>\r\n                        </li>\r\n                        <li className=\"nav-item\" style={{cursor:'pointer'}}>\r\n                            <a className=\"nav-link\" id={this.state.id+\"-authors-link\"} data-toggle=\"pill\" role=\"tab\" aria-controls={this.state.id+\"-tab-authors\"} role=\"tab\" aria-selected=\"false\" onClick={() => {this.setTabActive('authors')}}>Proposals</a>\r\n                        </li>\r\n                        <li className=\"nav-item\" style={{cursor:'pointer'}}>\r\n                            <a className=\"nav-link\" id={this.state.id+\"-edit-link\"} data-toggle=\"pill\" role=\"tab\" aria-controls={this.state.id+\"-tab-edit\"} role=\"tab\" aria-selected=\"false\" onClick={() => {this.setTabActive('edit')}}>Edit</a>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                    <div className=\"tab-content\">\r\n                        <div id={this.state.id+\"-general-content\"} className=\"tab-pane fade active-show\" role=\"tabpanel\" aria-labelledby={this.state.id+\"-tab-general\"}>\r\n                            <strong><i className=\"fab fa-redhat\" /> Chair</strong>\r\n                            <p className=\"text-muted\">\r\n                                <a href={\"/ws/profile/\"+this.state.sessionChair.participant.pid}>\r\n                                    {this.state.sessionChair.participant.name + ' (' + this.state.sessionChair.participant.userName + ')'}\r\n                                </a>\r\n                            </p>\r\n                            <hr />\r\n                            <strong><i className=\"fas fa-laptop-house\" /> Room</strong>\r\n                            <p className=\"text-muted\">\r\n                                {this.state.roomName}\r\n                            </p>\r\n                            <hr />\r\n                            <strong><i className=\"fas fa-calendar-alt\" /> Start time</strong>\r\n                            <p className=\"text-muted\">\r\n                                {this.state.timeStart}\r\n                            </p>\r\n                            <hr />\r\n                            <strong><i className=\"fas fa-calendar-alt\" /> End time</strong>\r\n                            <p className=\"text-muted\">\r\n                                {this.state.timeEnd}\r\n                            </p>\r\n                            <hr />\r\n                            {localStorage.getItem('isAdmin')=='true' && \r\n                            <button type=\"button\" className=\"btn btn-block btn-danger\" onClick={() => {this.state.onDelete(this.state.id)}}>Delete</button>\r\n                            }\r\n                        </div>\r\n                        <div id={this.state.id+\"-authors-content\"} className=\"tab-pane fade active-show\" role=\"tabpanel\" aria-labelledby={this.state.id+\"-tab-authors\"}>\r\n                            <table className=\"table table-stripped\">\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th style={{width:'25%'}}>Proposal</th>\r\n                                        <th style={{width:'10%'}}>Authors</th>\r\n                                        {localStorage.getItem('isReviewer')=='true' && \r\n                                            <th style={{width:'5%'}}>Review</th>\r\n                                        }\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {proposalItems}\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                        <div id={this.state.id+\"-edit-content\"} className=\"tab-pane fade active-show\" role=\"tabpanel\" aria-labelledby={this.state.id+\"-tab-edit\"}>\r\n                            Edit\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport ApiService from '../../../ApiService';\r\nimport Error403 from '../errors/Error403';\r\n\r\n\r\nexport default class ConferenceSectionAdd extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.conferenceId = props.conferenceId;\r\n\r\n        this.state = {\r\n            rooms: [],\r\n            chairs: [],\r\n            onAdd: props.onAdd,\r\n            error: null,\r\n            success: null,\r\n            fetching: 2\r\n        }\r\n\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n\r\n\r\n    }\r\n\r\n    componentDidMount(){\r\n        const s = document.createElement('script');\r\n        s.type = 'text/javascript';\r\n        s.async = true;\r\n        s.innerHTML = '$(\"#add-start-date\").inputmask(\"mm/dd/yyyy hh:mm\", { \"placeholder\": \"mm/dd/yyyy hh:mm\" });' +\r\n                      '$(\"#add-end-date\").inputmask(\"mm/dd/yyyy hh:mm\", { \"placeholder\": \"mm/dd/yyyy hh:mm\" })';\r\n        \r\n        document.body.appendChild(s);\r\n\r\n        ApiService.GetAllRooms(data => {\r\n            this.setState({\r\n                rooms: data,\r\n                fetching: this.state.fetching - 1\r\n            });\r\n            console.log(this.state.rooms);\r\n        }, error => {\r\n            alert('Error getting rooms information: ' + (error.message || error));\r\n        });\r\n\r\n        ApiService.GetAllChairs(data => {\r\n            this.setState({\r\n                chairs: data,\r\n                fetching: this.state.fetching - 1\r\n            });\r\n        });\r\n        \r\n    }\r\n\r\n    handleSubmit(event){\r\n        event.preventDefault();\r\n        const startDate = document.getElementById('add-start-date').value;\r\n        const endDate = document.getElementById('add-end-date').value;\r\n        const name = document.getElementById('add-name').value;\r\n        const chair = document.getElementById('add-chair').value;\r\n        const room = document.getElementById('add-room').value;\r\n\r\n        let data = {\r\n            conferenceId: this.conferenceId,\r\n            sessionChairId: chair,\r\n            roomId: room,\r\n            name: name,\r\n            timeStart: Date.parse(startDate),\r\n            timeEnd: Date.parse(endDate)\r\n        }\r\n        console.log(data);\r\n        ApiService.CreateConferenceSection(data, response => {\r\n            this.setState({success: 'Section created successfull!'});\r\n            this.state.onAdd();\r\n        }, error => {\r\n            this.setState({error: 'Failed to create section: ' + error.message || error});\r\n        });\r\n    }\r\n\r\n    createSectionSuccess(response){\r\n        this.setState({success: \"Section created successfully!\"});\r\n    }\r\n\r\n    createSectionFailed(response){\r\n        this.setState({error: \"Creation failed. Error: \" + (response.message || response)});\r\n    }\r\n\r\n    render(){\r\n\r\n        if (!localStorage.getItem('isAdmin') == \"true\"){\r\n            return (\r\n                <Error403/>\r\n            )\r\n        }\r\n\r\n        if (this.state.fetching > 0) return (<div>...</div>);\r\n\r\n        let roomsOptions = [];\r\n        for (var i = 0; i < this.state.rooms.length; i++){\r\n            roomsOptions.push(\r\n                <option key={this.state.rooms[i].roomId} value={this.state.rooms[i].roomId}>{this.state.rooms[i].name}</option>\r\n            );\r\n        }\r\n        let chairOptions = this.state.chairs.map(c => {\r\n            return (\r\n                <option key={c.chairId} value={c.chairId}>{c.participant.userName}</option>\r\n            )\r\n        });\r\n\r\n        return (\r\n            <div className=\"card card-danger\">\r\n                <form onSubmit={this.handleSubmit} noValidate>\r\n                    <div className=\"card-header\">\r\n                        <h3 className=\"card-title\">Create a section</h3>\r\n                    </div>\r\n                    <div className=\"card-body\">\r\n                        {this.state.error &&\r\n                            <div className=\"alert alert-danger\" role=\"alert\">\r\n                                {this.state.error}\r\n                            </div>\r\n                        }\r\n                        {this.state.success &&\r\n                            <div className=\"alert alert-success\" role=\"alert\">\r\n                                {this.state.success}\r\n                            </div>\r\n                        }\r\n                        \r\n                        <div className=\"form-group\">\r\n                            <label>Name:</label>\r\n                            <div className=\"input-group\">\r\n                                <div className=\"input-group-prepend\">\r\n                                    <span className=\"input-group-text\"><i className=\"fas fa-feather\"></i></span>\r\n                                </div>\r\n                                <input id=\"add-name\" name=\"title\" type=\"text\" className=\"form-control\"/>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <label>Start date:</label>\r\n                            <div className=\"input-group\">\r\n                                <div className=\"input-group-prepend\">\r\n                                    <span className=\"input-group-text\"><i className=\"fas fa-calendar-alt\"></i></span>\r\n                                </div>\r\n                                <input name=\"startDate\" type=\"text\" id=\"add-start-date\" className=\"form-control\" data-inputmask-alias=\"datetime\" data-inputmask-inputformat=\"mm/dd/yyyy HH:MM\" data-mask/>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <label>End date:</label>\r\n                            <div className=\"input-group\">\r\n                                <div className=\"input-group-prepend\">\r\n                                    <span className=\"input-group-text\"><i className=\"fas fa-calendar-alt\"></i></span>\r\n                                </div>\r\n                                <input name=\"endDate\" type=\"text\" id=\"add-end-date\" className=\"form-control\" blabla=\"123\" data-inputmask-alias=\"datetime\" data-inputmask-inputformat=\"mm/dd/yyyy HH:MM\" data-mask inputMode=\"numeric\"/>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <label>Room:</label>\r\n                            <div className=\"input-group\">\r\n                                <div className=\"input-group-prepend\">\r\n                                    <span className=\"input-group-text\"><i className=\"fas fa-laptop-house\"></i></span>\r\n                                </div>\r\n                                <select id=\"add-room\" className=\"form-control\">\r\n                                    {roomsOptions}\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <label>Chair:</label>\r\n                            <div className=\"input-group\">\r\n                                <div className=\"input-group-prepend\">\r\n                                    <span className=\"input-group-text\"><i className=\"fab fa-redhat\"></i></span>\r\n                                </div>\r\n                                <select id=\"add-chair\" className=\"form-control\">\r\n                                    {chairOptions}\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"card-footer\">\r\n                        <button type=\"submit\" className=\"btn btn-primary\">Create</button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport ConferenceSection from './ConferenceSection';\r\nimport ConferenceSectionAdd from './ConferenceSectionAdd';\r\nimport ApiService from '../../../ApiService';\r\nimport moment from 'moment';\r\n\r\n\r\nclass ConferenceDetails extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        console.log(this.props.match.params.id);\r\n        this.state = {\r\n            //sections: [{name: 'First section'}, {}, {}, {}],\r\n            conferenceId: this.props.match.params.id,\r\n            sections: [],\r\n            name: '',\r\n            timeStart: '',\r\n            timeEnd: '',\r\n            program: '',\r\n            rooms: [],\r\n            fetching: 1\r\n        }\r\n        \r\n\r\n        this.deleteConferenceSection = this.deleteConferenceSection.bind(this);\r\n        this.getData = this.getData.bind(this);\r\n\r\n    }\r\n\r\n    getData(){\r\n        ApiService.GetConferenceDetails(this.state.conferenceId,  data => {\r\n            console.log(data);\r\n            this.setState({\r\n                sections: data.conferenceSections,\r\n                name: data.name || 'Unknown',\r\n                timeStart: data.timeStart?moment(data.timeStart).format('YYYY-MM-DD HH:MM'):'Unknown',\r\n                timeEnd: data.timeEnd?moment(data.timeEnd).format('YYYY-MM-DD HH:MM'):'Unknown',\r\n                program: data.program || 'Unknown program',\r\n                fetching: this.state.fetching - 1\r\n            });\r\n            \r\n        }, error => {\r\n            //alert('Error getting conference infornmation: ' + (error.message || error));\r\n        });\r\n    }\r\n\r\n    componentDidMount(){\r\n        if (this.state.conferenceId == 'create') return;\r\n        this.getData();\r\n        \r\n    }\r\n\r\n    deleteConferenceSection(id){\r\n        ApiService.DeleteConfereceSection(id, response => {\r\n            this.getData();\r\n        }, error => {\r\n\r\n        });\r\n    }\r\n\r\n    render(){\r\n        if (this.state.fetching > 0){\r\n            return (\r\n                <span>Fetching...</span>\r\n            )\r\n        }\r\n        let col1 = [], col2 = [], id = 1;\r\n        for (var i = 0; i < this.state.sections.length; i++){\r\n            let s = this.state.sections[i];\r\n            console.log(s);\r\n            let sData = {id: s.conferenceSectionId, title: s.name, timeStart: s.timeStart, timeEnd: s.timeEnd, roomId: s.room.roomId, roomName: s.room.name, sessionChair: s.sessionChair, authors: s.authors}\r\n            let sec = <ConferenceSection id={s.conferenceSectionId} key={s.conferenceSectionId} data={sData} onDelete={this.deleteConferenceSection}/>;\r\n            if (i%2==0) col1.push(sec);\r\n            else col2.push(sec);\r\n            id ++;\r\n        }\r\n        return (\r\n            <div>\r\n                <div className=\"card\">\r\n                    <div className=\"card-header\">\r\n                        <h3 className=\"card-title\">Conference Detail</h3>\r\n\r\n                        <div className=\"card-tools\">\r\n                            <button type=\"button\" className=\"btn btn-tool\" data-card-widget=\"collapse\" title=\"Collapse\">\r\n                            <i className=\"fas fa-minus\"></i>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"card-body\">\r\n                        <div className=\"row\">\r\n                            <div className=\"col-12 col-md-12 col-lg-6 order-1 order-md-1\">\r\n                                <h3 className=\"text-primary\">\r\n                                    <i className=\"fas fa-paint-brush\"/>\r\n                                    {this.state.name}\r\n                                </h3>\r\n                                <p className=\"text-muted\">\r\n                                    {this.state.program}\r\n                                </p>\r\n                                <div className=\"text-muted\">\r\n                                    Conference creator\r\n                                    <div className=\"list-inline\">\r\n                                        <div className=\"list-inline-item\">\r\n                                            <img alt=\"Avatar\" src=\"adminlte/dist/img/user_default.jpg\" style={{borderRadius: \"50%\", display: \"inline\", width: \"2.5rem\"}}></img>\r\n                                        </div>\r\n                                        <div className=\"list-inline-item\">\r\n                                            <a href=\"/ws/profile/1\">Admin</a>\r\n                                        </div>\r\n                                    </div>\r\n                                    <br/>\r\n                                    <p>\r\n                                        Created on\r\n                                        <b className=\"d-block\">{this.state.createOn}</b>\r\n                                    </p>\r\n                                    <p>\r\n                                        Start date\r\n                                        <b className=\"d-block\">{this.state.timeStart}</b>\r\n                                    </p>\r\n                                    <p>\r\n                                        Deadline\r\n                                        <b className=\"d-block\">{this.state.timeEnd}</b>\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                            \r\n                        </div>\r\n                    </div>\r\n                    \r\n                </div>\r\n\r\n                <div className=\"card\">\r\n                    <div className=\"card-header\">\r\n                        <h3 className=\"card-title\">Sections</h3>\r\n                        <div className=\"card-tools\">\r\n                            <button type=\"button\" className=\"btn btn-tool\" data-card-widget=\"collapse\" title=\"Collapse\">\r\n                            <i className=\"fas fa-minus\"></i>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"card-body\">\r\n                        <div className=\"row\">\r\n                            {localStorage.getItem('isAdmin')=='true'\r\n                            &&\r\n                            <div className=\"col-12 col-md-12 col-lg-3 order-1 order-md-1\">\r\n                                <ConferenceSectionAdd conferenceId={this.state.conferenceId} onAdd={this.getData}/>\r\n                            </div>\r\n                            }\r\n                            <div className=\"col-12 col-md-12 col-lg-4 order-2 order-md-2\">\r\n                                {col1}\r\n                            </div>\r\n                            <div className=\"col-12 col-md-12 col-lg-4 order-2 order-md-2\">\r\n                                {col2}\r\n                            </div>\r\n                            \r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(ConferenceDetails)\r\n","import React from 'react';\r\nimport ApiService from \"../../../../ApiService\";\r\nimport {Box, Typography} from \"@material-ui/core\";\r\nimport {Rating} from \"@material-ui/lab\";\r\n\r\nexport default class ReviewViewTableItem extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.order = props.order || \"1.\";\r\n        this.reviewId = props.reviewId;\r\n        this.justification = props.justification || \"Unglaublich\";\r\n        this.proposal = props.proposal;\r\n        this.qualifier = props.qualifier;\r\n        this.reviewer = props.reviewer;\r\n        this.canReview = props.canReview || true;\r\n        this.possibleStatus = {\r\n            'bidding': {title: 'Bidding', className: 'bg-info'},\r\n            'accepted': {title: 'Accepted', className: 'bg-success'},\r\n            'contradictory': {title: 'Contradictory', className: 'bg-warning'},\r\n            'rejected': {title: 'Rejected', className: 'bg-danger'}\r\n        }\r\n        this.status = this.possibleStatus[this.proposal.status] || this.possibleStatus['bidding'];\r\n\r\n\r\n\r\n        this.state = { //state is by default an object\r\n            order: this.order,\r\n            justification: this.justification,\r\n            proposal: this.proposal,\r\n            proposalName: this.proposal.name,\r\n            qualifier: this.qualifier,\r\n            qualifierName: this.qualifier?this.qualifier.name:null,\r\n            qualifierScore: this.qualifier?this.qualifier.score:null,\r\n            reviewer: this.reviewer,\r\n            reviewerName: this.reviewer?this.reviewer.participant.name:null\r\n        };\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <tr id={this.order}>\r\n                <td>{this.order}</td>\r\n                <td>\r\n                    <span>{this.state.proposalName}</span>\r\n                </td>\r\n                <td>\r\n                    <span>{this.state.reviewerName}</span>\r\n                </td>\r\n                <td>\r\n                    <Box component=\"fieldset\" mb={3} borderColor=\"transparent\">\r\n                        <Typography component=\"legend\">{this.state.qualifierName}</Typography>\r\n                        <Rating\r\n                            name=\"rating\"\r\n                            value={this.state.qualifierScore}\r\n                            precision={1}\r\n                            max={7}\r\n                            readOnly\r\n                        />\r\n                    </Box>\r\n                </td>\r\n                <td>\r\n                    <span>{this.state.justification}</span>\r\n                </td>\r\n                <td>\r\n                    <span className={\"badge \" + this.status.className}>{this.status.title}</span>\r\n                </td>\r\n            </tr>\r\n\r\n        )\r\n    }\r\n}\r\n","import React from 'react';\r\nimport ReviewViewTableItem from './ReviewViewTableItem';\r\n\r\n\r\nexport default class ReviewViewTable extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            data: props.data || []\r\n        }\r\n\r\n    }\r\n\r\n    render(){\r\n        let order = 0;\r\n        //let reviews = this.state.data[0].proposal.reviews;\r\n        //console.log(reviews);\r\n        let tableItems = this.state.data.map(d => {\r\n            order++;\r\n            return <ReviewViewTableItem key={d.reviewId} {...d} order={order+'.'}/>\r\n        });\r\n\r\n        console.log(this.state.data);\r\n\r\n        return (\r\n            <table className=\"table table-stripped\">\r\n                <thead>\r\n                <tr>\r\n                    <th style={{width:\"1%\"}}>#</th>\r\n                    <th style={{width:'20%'}}>Proposal</th>\r\n                    <th style={{width:'15%'}}>Reviewer</th>\r\n                    <th style={{width:'13%'}}>Review score</th>\r\n                    <th style={{width:'40%'}}>Review justification</th>\r\n                    <th style={{width:'30%'}}>Status</th>\r\n                </tr>\r\n                </thead>\r\n                <tbody>\r\n                {tableItems}\r\n                </tbody>\r\n            </table>\r\n\r\n        )\r\n    }\r\n}\r\n","import React from 'react';\r\nimport ReviewViewTable from './ReviewViewTable';\r\nimport ApiService from \"../../../../ApiService\";\r\nimport {withRouter} from \"react-router-dom\";\r\n\r\n\r\nclass ReviewView extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.id = parseInt(this.props.match.params.id) || null;\r\n\r\n        this.canReview = props.canReview || true;\r\n\r\n        this.state = {\r\n            proposalId: this.id,\r\n            proposalData: [],\r\n            data: [],\r\n            fetching: true\r\n        }\r\n\r\n        this.acceptPaper = this.acceptPaper.bind(this);\r\n        this.rejectPaper = this.rejectPaper.bind(this);\r\n    }\r\n\r\n    getData(){\r\n        ApiService.GetAllReviews(data => {\r\n            console.log(data);\r\n            this.setState({data: data, fetching: false});\r\n        }, error => {\r\n            alert('Failed getting reviews! Error: ' + (error.message || error));\r\n        });\r\n    }\r\n\r\n    getProposalDetails(){\r\n        ApiService.GetProposalDetails(this.state.proposalId, data => {\r\n            this.setState({\r\n                data: data.reviews,\r\n                fetching: false,\r\n            });\r\n        }, error => {\r\n            alert(\"Error when fetching proposal: \" + error.message || error);\r\n            //this.setState({fetching: false});\r\n        });\r\n    }\r\n\r\n    componentDidMount(){\r\n        //this.getData();\r\n        this.getProposalDetails();\r\n    }\r\n\r\n    getProposal(){\r\n        return this.state.data[0].proposal;\r\n    }\r\n\r\n    updateProposalStatus(newStatus){\r\n        let newProposal = this.getProposal();\r\n        newProposal.status = newStatus;\r\n        console.log(newProposal);\r\n        ApiService.UpdateProposal(newProposal, success => {\r\n            alert(\"Updated proposal status\");\r\n        }, failure => {\r\n            alert(\"Couldn't update proposal status\");\r\n        })\r\n    }\r\n\r\n    acceptPaper(event){\r\n        event.preventDefault();\r\n        this.updateProposalStatus(\"accepted\");\r\n    }\r\n\r\n    rejectPaper(event){\r\n        event.preventDefault();\r\n        this.updateProposalStatus(\"rejected\");\r\n    }\r\n\r\n    render(){\r\n        if (this.state.fetching){\r\n            return (\r\n                <span>Fetching data...</span>\r\n            )\r\n        }\r\n        console.log(this.getProposal());\r\n        return (\r\n            <div className=\"row\">\r\n                <div className=\"\">\r\n                    <div className=\"card\">\r\n                        <div className=\"card-header\">\r\n                            <h3 className=\"card-title\">Reviews</h3>\r\n                        </div>\r\n                        <div className=\"card-body\">\r\n                            <ReviewViewTable data={this.state.data}/>\r\n                            <div className=\"project-actions\">\r\n                                {this.canReview && this.state.data.length > 0 && this.state.data[0].proposal.status == \"contradictory\" &&\r\n                                <div>\r\n                                    <button className=\"btn btn-success btn-sm\" style={{marginRight:'3px'}} onClick={this.acceptPaper}>\r\n                                        <i className=\"fas fa-check-circle\"/>\r\n                                        Accept paper\r\n                                    </button>\r\n                                    <button className=\"btn btn-danger btn-sm\" style={{marginRight:'3px'}} onClick={this.rejectPaper}>\r\n                                        <i className=\"fas fa-folder\"/>\r\n                                        Reject paper\r\n                                    </button>\r\n                                </div>\r\n                                }\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(ReviewView)\r\n","import React from 'react';\r\n\r\n\r\nexport default class InvitationsTable extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        \r\n        this.state = {\r\n            data: props.data || [],\r\n            all: props.all || [],\r\n            onAdd: props.onAdd,\r\n            title: props.title,\r\n            vid: props.vid,\r\n            success: \"\",\r\n            error: \"\"\r\n        }\r\n\r\n        this.addOnClick = this.addOnClick.bind(this);\r\n\r\n    }\r\n\r\n    addOnClick(){\r\n        let pid = document.getElementById('add-'+this.state.vid).value\r\n        this.state.onAdd(pid);\r\n    }\r\n\r\n    render(){\r\n        let order = 0;\r\n        let tableItems = this.state.data.map(d => {\r\n            if (!d.participant) return;\r\n            order++;\r\n            return (\r\n                <tr key={d.chairId}>\r\n                    <th>{order+'.'}</th>\r\n                    <th style={{width: '5%'}}>{d.participant.userName}</th>\r\n                    <th style={{width: '5%'}}>{d.participant.name}</th>\r\n                    <th style={{width: '5%'}}><button>Remove</button></th>\r\n                </tr>\r\n            )\r\n        });\r\n\r\n        let options = this.state.all.map(user => {\r\n            return (\r\n                <option key={user.pid} value={user.pid}>{user.userName}</option>\r\n            )\r\n        });\r\n\r\n        return (\r\n            <div className=\"card\">\r\n                <div className=\"card-header\">\r\n                    <h3 className=\"card-title\">{this.state.title}</h3>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                    {this.state.error &&\r\n                        <div className=\"alert alert-danger\" role=\"alert\">\r\n                            {this.state.error}\r\n                        </div>\r\n                    }\r\n                    {this.state.success &&\r\n                        <div className=\"alert alert-success\" role=\"alert\">\r\n                            {this.state.success}\r\n                        </div>\r\n                    }\r\n                    <table className=\"table table-stripped\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th style={{width: \"1%\"}}>#</th>\r\n                                <th style={{width: '5%'}}>Username</th>\r\n                                <th style={{width: '5%'}}>Fullname</th>\r\n                                <th style={{width: '5%'}}>Remove</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {tableItems}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n\r\n                <div className=\"card-footer\">\r\n                    <div className=\"form-group\">\r\n                        <label>Add user:</label>\r\n                        <div className=\"input-group\">\r\n                            <div className=\"input-group-prepend\">\r\n                                <span className=\"input-group-text\"><i className=\"fab fa-redhat\"></i></span>\r\n                            </div>\r\n                            <select id={\"add-\"+this.state.vid} className=\"form-control\">\r\n                                {options}\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                    <button type=\"submit\" className=\"btn btn-primary\" onClick={this.addOnClick}>Add</button>\r\n                </div>\r\n            \r\n                \r\n            </div>\r\n            \r\n        )\r\n    }\r\n}\r\n","import React from 'react';\r\nimport ApiService from '../../../ApiService';\r\nimport Error403 from '../errors/Error403';\r\nimport InvitationsTable from './InvitationsTable';\r\n\r\n\r\nexport default class InvitationsView extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            reviewers: [], // {id:1, name:'name'}\r\n            chairs: [], // {id:1, name:'name'}\r\n            cochairs: [],\r\n            all: [],\r\n            fetching: 4\r\n        }\r\n\r\n        this.addChair = this.addChair.bind(this);\r\n        this.addCochair = this.addCochair.bind(this);\r\n        this.addReviewer = this.addReviewer.bind(this);\r\n\r\n    }\r\n\r\n    getData(){\r\n        ApiService.GetAllChairs(data => {\r\n            this.setState({chairs: data, fetching: this.state.fetching - 1});\r\n        }, error => {\r\n            alert('Failed getting chairs! Error: ' + (error.message || error));\r\n        });\r\n\r\n        ApiService.GetAllCoChairs(data => {\r\n            this.setState({cochairs: data, fetching: this.state.fetching - 1});\r\n        }, error => {\r\n            alert('Failed getting cochairs! Error: ' + (error.message || error));\r\n        });\r\n\r\n        ApiService.GetAllReviewers(data => {\r\n            this.setState({reviewers: data, fetching: this.state.fetching - 1});\r\n        }, error => {\r\n            alert('Failed getting reviewers! Error: ' + (error.message || error));\r\n        });\r\n\r\n        ApiService.GetAllParticipants(data => {\r\n            this.setState({all: data, fetching: this.state.fetching - 1});\r\n        }, error => {\r\n            alert('Failed getting participants! Error: ' + (error.message || error));\r\n        });\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.getData();\r\n    }\r\n\r\n    addChair(pid){\r\n        console.log(pid);\r\n        ApiService.AddChair(Number(pid), response => {\r\n            this.setState({success: \"Successfully added a chair!\"});\r\n            this.setState({fetching: 4});\r\n            this.getData();\r\n            if (pid == localStorage.getItem('pid')){\r\n                localStorage.setItem('isChair', 'true');\r\n            }\r\n            \r\n        }, error => {\r\n            alert(\"Error when trying to add chair: \" + error.message || error);\r\n        });\r\n    }\r\n\r\n    addReviewer(pid){\r\n        ApiService.AddReviewer(Number(pid), response => {\r\n            this.setState({success: \"Successfully added a chair!\"});\r\n            this.setState({fetching: 4});\r\n            this.getData();\r\n            if (pid == localStorage.getItem('pid')){\r\n                localStorage.setItem('isReviewer', 'true');\r\n            }\r\n        }, error => {\r\n            alert(\"Error when trying to add reviewer: \" + error.message || error);\r\n        });\r\n    }\r\n\r\n    addCochair(pid){\r\n        ApiService.AddCoChair(Number(pid), response => {\r\n            this.setState({success: \"Successfully added a chair!\"});\r\n            this.setState({fetching: 4});\r\n            this.getData();\r\n            if (pid == localStorage.getItem('pid')){\r\n                localStorage.setItem('isCoChair', 'true');\r\n            }\r\n            \r\n        }, error => {\r\n            alert(\"Error when trying to add cochair: \" + error.message || error);\r\n        });\r\n    }\r\n\r\n    render(){\r\n\r\n        if (!(localStorage.getItem('isAdmin') == \"true\")){\r\n            return (\r\n                <Error403/>\r\n            )\r\n        }\r\n        if (this.state.fetching > 0){\r\n            return (\r\n                <span>Fetching data...</span>\r\n            )\r\n        }\r\n        return (\r\n            <div className=\"row\">\r\n                <div className=\"\">\r\n                        <InvitationsTable vid=\"chairs\" title=\"Chairs\" data={this.state.chairs} all={this.state.all} onAdd={this.addChair}/>\r\n                        <InvitationsTable vid=\"cochairs\" title=\"Co Chairs\" data={this.state.cochairs} all={this.state.all} onAdd={this.addCochair}/>\r\n                        <InvitationsTable vid=\"reviewers\" title=\"Reviewers\" data={this.state.reviewers} all={this.state.all} onAdd={this.addReviewer}/>\r\n                       \r\n                    \r\n                </div>\r\n            </div>\r\n            \r\n        )\r\n    }\r\n}\r\n","import React from 'react';\r\n\r\nexport default class LogOut extends React.Component{\r\n\r\n\r\n    signOut(){\r\n        localStorage.removeItem('pid');\r\n        localStorage.removeItem('username');\r\n        localStorage.removeItem('password');\r\n        localStorage.removeItem('name');\r\n        window.location.href='/';\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <div>\r\n                <h5>Logging out will remove all your local data.</h5>\r\n                <button type=\"button\" className=\"btn btn-info btn-block btn-flat\" style={{width: '20%'}} onClick={this.signOut}><i className=\"fa fa-sign-out-alt\"></i> Click here to Sign Out</button>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\n\r\nexport default class AboutUs extends React.Component{\r\n\r\n    render(){\r\n        return (\r\n            <div>\r\n                <strong><span>Team Fratii mei IntelliJ</span></strong>\r\n                <strong><span>Members:</span></strong>\r\n                <span>\r\n                    Bogdan Vasc\r\n                </span>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport { Redirect, Route } from 'react-router-dom';\r\nimport ConferenceForms from './content/conference/ConferenceForms';\r\nimport ConferenceView from './content/conference/ConferenceView';\r\nimport Content from './content/Content';\r\nimport './Mainpage.css';\r\nimport Profile from './profile/Profile';\r\nimport Sidebar from './sidebar/Sidebar';\r\nimport ProposalView from \"./content/proposal/ProposalView\";\r\nimport ProposalFormsCreate from \"./content/proposal/ProposalFormsCreate\";\r\nimport ProposalFormsReview from \"./content/proposal/ProposalFormsReview\";\r\nimport RoomFormsCreate from \"./content/room/RoomFormsCreate\"\r\nimport RoomView from \"./content/room/RoomView\";\r\nimport RoomTimetableView from \"./content/room/roomTimetable/RoomTimetableView\";\r\nimport ConferenceDetails from './content/conference/ConferenceDetails';\r\nimport ReviewView from \"./content/proposal/review/ReviewView\";\r\nimport Error403 from './content/errors/Error403';\r\nimport InvitationsView from './content/invitations/InvitationsView';\r\nimport LogOut from './other/Logout';\r\nimport AboutUs from './other/AboutUs';\r\n\r\nclass Mainpage extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.location = '/ws';\r\n    }\r\n\r\n    render(){\r\n        // Here should be a token validation\r\n        //placeholder:\r\n\r\n        var loggedIn = true;\r\n\r\n        if (!localStorage.getItem('username')){\r\n            loggedIn = false;\r\n        }else{\r\n            let tsLast = localStorage.getItem('ts');\r\n            let ts = Date.now() / 1000;\r\n            if (tsLast && ts - tsLast > 3000000){ \r\n                localStorage.removeItem('username');\r\n                localStorage.removeItem('ts');\r\n                loggedIn = false;\r\n            }\r\n            \r\n        }\r\n        if (!loggedIn){\r\n            return <Redirect to='/'/>\r\n        }\r\n        return (\r\n            <div id=\"main\" className=\"sidebar-mini layout-fixed\">\r\n                <Sidebar/>\r\n\r\n                {/* Content pages */}\r\n\r\n                <Route exact path='/ws/profile/'>\r\n                    <Content title=\"Your profile\" content={<Profile/>} hierarchy={[{ name: 'Home', to: this.location }]}/>\r\n                </Route>\r\n\r\n                <Route exact path='/ws/profile/:id'>\r\n                    <Content title=\"User profile\" content={<Profile/>} hierarchy={[{ name: 'Home', to: this.location }]}/>\r\n                </Route>\r\n\r\n                <Route exact path='/ws/conference/create'>\r\n                    <Content title=\"Create a conference\" content={<ConferenceForms/>} hierarchy={[{ name: 'Home', to: this.location }]}/>\r\n                </Route>\r\n\r\n                <Route path='/ws/conference/view/:id'>\r\n                    <Content title=\"View conference\" content={<ConferenceDetails/>} hierarchy={[{ name: 'Home', to: this.location }]}/>\r\n                </Route>\r\n\r\n                <Route exact path='/ws/conference'>\r\n                    <Content title=\"View conferences\" content={<ConferenceView/>} hierarchy={[{ name: 'Home', to: this.location }]}/>\r\n                </Route>\r\n\r\n                <Route path='/ws/proposal/create'>\r\n                    <Content title=\"Submit a proposal\" content={<ProposalFormsCreate/>} hierarchy={[{ name: 'Home', to: this.location }]}/>\r\n                </Route>\r\n\r\n                <Route exact path='/ws/proposal/review/:id'\r\n                    render={(props) => <Content title=\"Review proposal\" content={<ProposalFormsReview {...props} />} hierarchy={[{ name: 'Home', to: this.location }]}/>}\r\n                />\r\n      \r\n                <Route exact path='/ws/proposal'>\r\n                    <Content title=\"View proposals\" content={<ProposalView/>} hierarchy={[{ name: 'Home', to: this.location }]}/>\r\n                </Route>\r\n\r\n                <Route exact path='/ws/room/create/:id?/:name?/:capacity?'\r\n                       render={(props) => <Content title=\"View proposals\" content={<RoomFormsCreate {...props} />} hierarchy={[{ name: 'Home', to: this.location }]}/>}\r\n                />\r\n\r\n                <Route exact path='/ws/room'>\r\n                    <Content title=\"View rooms\" content={<RoomView/>} hierarchy={[{ name: 'Home', to: this.location }]}/>\r\n                </Route>\r\n\r\n                <Route exact path='/ws/room/timetable'>\r\n                    <Content title=\"View room timetable\" content={<RoomTimetableView/>} hierarchy={[{ name: 'Home', to: this.location }]}/>\r\n                </Route>\r\n\r\n                <Route exact path='/ws/review/:id'>\r\n                    <Content title=\"View reviews\" content={<ReviewView/>} hierarchy={[{ name: 'Home', to: this.location }]}/>\r\n                </Route>\r\n\r\n                <Route exact path=\"/ws/invitations\">\r\n                    <Content title=\"Application users\" content={<InvitationsView/>} hierarchy={[{ name: 'Home', to: this.location }]}/>\r\n                </Route>\r\n\r\n\r\n                <Route exact path='/ws/403'>\r\n                    <Content title=\"Not allowed\" content={<Error403/>} hierarchy={[{ name: 'Home', to: this.location}]}/>\r\n                </Route>\r\n\r\n                <Route exact path=\"/ws/about\">\r\n                    <Content title=\"About us\" content={<AboutUs/>} hierarchy={[{ name: 'Home', to: this.location}]}/>\r\n                </Route>\r\n\r\n                <Route exact path=\"/ws/logout\">\r\n                    <Content title=\"Log out\" content={<LogOut/>} hierarchy={[{ name: 'Home', to: this.location}]}/>\r\n                </Route>\r\n\r\n\r\n                <Route exact path='/ws'>\r\n                    <Content title=\"Front page\" content={<div>This is the front page. Use navigation to navigate.</div>} hierarchy={[{ name: 'Home', to: this.location}]}/>\r\n                </Route>\r\n                \r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Mainpage;\r\n","import './App.css';\nimport Authpage from './login/Authpage';\nimport React from 'react';\nimport {BrowserRouter as Router, Switch, Route} from 'react-router-dom';\nimport LoginForm from './login/LoginForm';\nimport RegisterForm from './login/RegisterForm';\nimport ResetForm from './login/ResetForm';\nimport Mainpage from './mainpage/Mainpage';\n\n\n\nclass App extends React.Component{  \n  render(){\n    return (\n      \n        <Router>\n          <Switch>\n\n            <Route path='/ws'>\n              <Mainpage/>\n            </Route>\n\n            <Route path='/register'>\n              <Authpage form={<RegisterForm/>}/>\n            </Route>\n\n            <Route path='/reset'>\n              <Authpage form={<ResetForm/>}/>\n            </Route>\n\n            <Route path='/'>\n              <Authpage form={<LoginForm/>}/>\n            </Route>\n\n          </Switch>\n        </Router>\n      \n    );\n\n  }\n  \n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App/>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}